(function(){"use strict";var __webpack_modules__={1890:function(__unused_webpack_module,__webpack_exports__){__webpack_exports__["Z"]={name:"MInput",directives:{},props:{modelValue:[String,Number,Boolean],editOnClick:{type:Boolean,default:!1,required:!1},align:{type:String,default:"left",required:!1},placeholder:{type:String,default:"",required:!1},autocomplete:{type:String,default:"",required:!1},label:{type:String,default:null,required:!1},type:{type:String,default:"text",required:!1},format:{type:String,default:"text",required:!1},moneyCode:{type:String,default:"đ",required:!1},isFocus:{type:Boolean,default:!1,required:!1},required:{type:Boolean,default:!1,required:!1},disabled:{type:Boolean,default:!1,required:!1},validated:{type:Boolean,default:!1,required:!1},onlyNumberChar:{type:Boolean,default:!1,required:!1},maxLength:{type:Number,required:!1}},emits:["update:modelValue","onValidate","update:validated","onBlur","onChange"],created(){"money"==this.format?this.value=this.getTextFromFormatValueMoney(this.modelValue||0):"number"==this.type?this.value=eval(this.modelValue):this.value=this.modelValue,this.selfValidated=this.validated},mounted(){1==this.isFocus&&this.$nextTick((function(){this.$refs.minput.focus()}))},computed:{isDisabled(){return!(!this.disabled&&(this.disabled||!this.editOnClick||this.allowEdit))},inValid:function(){return!((!this.validated&&!this.selfValidated||!this.required||""!=this.modelValue&&void 0!=this.modelValue&&null!=this.modelValue)&&!this.errorText)},isShowClear(){return!(!this.value||this.isDisabled||"money"==this.format)}},methods:{onInput(){if("money"===this.format){var e=this.getValueFromFormatMoneyText(this.value);this.value=this.getTextFromFormatValueMoney(e),this.$emit("update:modelValue",e),console.log("value: ",e),this.$emit("onChange",e)}else this.$emit("update:modelValue",this.value),this.$emit("onChange",this.value)},onKeyDown(e){if(e=e||window.event,1==this.onlyNumberChar||"money"==this.format){var t=e.which?e.which:e.keyCode;t>31&&(t<48||t>57)&&(t<96||t>105)&&39!=t&&37!=t&&(187!=t||"tel"!=this.type)&&e.preventDefault()}},onClick(e){this.editOnClick&&!this.allowEdit&&(this.allowEdit=!0,this.$nextTick((function(){if(this.$refs.minput.focus(),this.value&&"number"!=this.type){const t=this.value.toString().length,o=e.target;o.setSelectionRange(0,t)}})))},onBlur(){this.selfValidated=!0,this.$emit("onBlur"),this.editOnClick&&(this.allowEdit=!1)},clearButtonOnClick(){this.$emit("update:modelValue",null)},getTextFromFormatValueMoney(e){return`${e}`.replace(/\B(?=(\d{3})+(?!\d))/g,",")},getValueFromFormatMoneyText(e){return e=`${e}`.replace(/\đ\s?|(,*)/g,""),e=`${e}`.replace(`${this.moneyCode}`,""),e},setInValidState(e,t){this.selfValidated=e,this.errorText=e&&t?t:""},setFocus(){this.$nextTick((function(){this.$refs.minput.focus()}))}},watch:{validated:function(e){1==e&&(this.selfValidated=!0,""==this.modelValue||void 0==this.modelValue||null==this.modelValue?this.$emit("onValidate",!1,this.$refs.minput):this.$emit("onValidate",!0,this.$refs.minput))},modelValue:function(e){"money"===this.format?this.value=this.getTextFromFormatValueMoney(e):this.value=e,this.selfValidated=!0,this.errorText="",""==this.value||void 0==this.value||null==this.value?this.$emit("onValidate",!1,this.$refs.minput):this.$emit("onValidate",!0,this.$refs.minput)}},data(){return{value:null,selfValidated:!1,allowEdit:!1,errorText:""}}}},9055:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7658),core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_0__),_router__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5679),_scripts_enum__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(9404),_SelectProduct_vue__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(86);__webpack_exports__["Z"]={name:"InvoiceDetail",components:{SelectProduct:_SelectProduct_vue__WEBPACK_IMPORTED_MODULE_3__.Z},emits:["update:isReload"],props:{id:String,isReload:Boolean},computed:{formMode:function(){return this.id?_scripts_enum__WEBPACK_IMPORTED_MODULE_2__.Z.FormMode.UPDATE:_scripts_enum__WEBPACK_IMPORTED_MODULE_2__.Z.FormMode.ADD},totalMoneyComputed(){var total=0;for(const product of this.products)product.EntityState!=_scripts_enum__WEBPACK_IMPORTED_MODULE_2__.Z.EntityState.DELETE&&(total+=eval(product.TotalMoney||0));var obj={value:total,text:this.commonJs.formatMoney(total)};return obj}},created(){if(document.addEventListener("touchstart",null,{passive:!0}),this.id)this.maxios.get(`invoices/${this.id}`).then((e=>{this.invoice=e,this.products=e.InvoiceDetail}));else{var e=localStorage.getItem("employeeId");this.invoice.EmployeeId=e,this.maxios.get("invoices/new-code").then((e=>{this.invoice.InvoiceCode=e,this.invoice.InvoiceDate=new Date}))}},watch:{input(e){console.log("input",e)},totalMoneyComputed:{handler:function(e){this.invoice.TotalMoney=e.value},deep:!0}},methods:{onSave(){this.invoice.InvoiceDetail=this.products,this.formMode==this.Enum.FormMode.ADD?this.maxios.post("/invoices",this.invoice).then((()=>{this.$router.push("/invoices")})):this.formMode==this.Enum.FormMode.UPDATE&&this.maxios.put(`/invoices/${this.id}`,this.invoice).then((()=>{_router__WEBPACK_IMPORTED_MODULE_1__.Z.push("/invoices")}))},getSelectionProducts(products){for(const product of products){product.InvoiceId=this.invoice.InvoiceId;var productExist=this.commonJs.getObjectExistInArray(this.products,product,"ProductId");productExist?(productExist.Quantity=eval(productExist.Quantity)+eval(product.QuantityOrder),this.formMode==_scripts_enum__WEBPACK_IMPORTED_MODULE_2__.Z.FormMode.ADD?productExist.EntityState=_scripts_enum__WEBPACK_IMPORTED_MODULE_2__.Z.EntityState.ADD:productExist.EntityState=_scripts_enum__WEBPACK_IMPORTED_MODULE_2__.Z.EntityState.UPDATE):(product.Product={EntityState:_scripts_enum__WEBPACK_IMPORTED_MODULE_2__.Z.EntityState.ADD,ProductCode:product.ProductCode,ProductName:product.ProductName},product.EntityState=_scripts_enum__WEBPACK_IMPORTED_MODULE_2__.Z.EntityState.ADD,product.Quantity=eval(product.QuantityOrder),this.products.push(product))}console.log("products",products)},onClose(){_router__WEBPACK_IMPORTED_MODULE_1__.Z.push("/invoices")},onInputCustomerName(e){this.invoice.CustomerName=e},onSelectCustomer(e,t,o){o&&(this.invoice.CustomerAddress=o.Mobile||o.Address)},onChangeQuantity(e){this.productEditting.TotalMoney=e*this.productEditting.UnitPrice},onQuantityChanged(){console.log("changed!!!"),this.$nextTick((()=>{this.productEditting=null,console.log("item after: ",this.productEditting)}))},onCellClick(e,t,o,i){this.productEditting=e,console.log("item before: ",this.productEditting)},onShowSelectProducts(){this.showSelectProducts=!0},onDeleteProductInCart(e){this.commonJs.showConfirm(`Bạn có chắc chắn muốn xóa <b>${e.Product.ProductName}</b> khỏi giỏ hàng?`,(()=>{if(this.formMode==_scripts_enum__WEBPACK_IMPORTED_MODULE_2__.Z.FormMode.ADD||e.EntityState==_scripts_enum__WEBPACK_IMPORTED_MODULE_2__.Z.EntityState.ADD){var t=this.products.findIndex((t=>t.ProductId==e.ProductId));this.products.splice(t,1)}else e.EntityState=_scripts_enum__WEBPACK_IMPORTED_MODULE_2__.Z.EntityState.DELETE}))},onUpdateProductInCart(e){},onUndoDeleteProductInCart(e){e.EntityState=_scripts_enum__WEBPACK_IMPORTED_MODULE_2__.Z.EntityState.UPDATE}},data(){return{invoice:{InvoiceDetail:[]},isValidated:!1,products:[],productEditting:null,input:"",showSelectProducts:!1}}}},7855:function(e,t,o){var i=o(588),n=o(8396),a=o(6811);const s="https://shopapi.manhhao.com";t["Z"]={createHub(){return(new i.s).withUrl(s+"/NotificationHub",{accessTokenFactory:()=>localStorage.getItem("user-token"),skipNegotiation:!0,transport:n.n.WebSockets}).withAutomaticReconnect().configureLogging(a.i.Information).configureLogging(a.i.None).build()}}},1596:function(e,t,o){var i=o(9242),n=o(3396);function a(e,t,o,i,a,s){const l=(0,n.up)("the-header"),r=(0,n.up)("the-main"),c=(0,n.up)("router-view"),d=(0,n.up)("MLoading"),u=(0,n.up)("MDialogNotification"),m=(0,n.up)("m-toast"),h=(0,n.up)("news-list"),p=(0,n.up)("progress-bar");return(0,n.wg)(),(0,n.iD)(n.HY,null,[e.isAuthenticated?((0,n.wg)(),(0,n.j4)(l,{key:0,isAuthenticated:e.isAuthenticated,isProfileLoaded:e.isProfileLoaded,organizationInfo:e.organizationInfo},null,8,["isAuthenticated","isProfileLoaded","organizationInfo"])):(0,n.kq)("",!0),(0,n.Wm)(r),(0,n.Wm)(c,{name:"LoginPage"}),(0,n.Wm)(c,{name:"HomePage"}),(0,n.Wm)(c,{name:"Other"}),(0,n.Wm)(c,{name:"Organization"}),e.isShowLoading?((0,n.wg)(),(0,n.j4)(d,{key:1})):(0,n.kq)("",!0),e.connectingHub?((0,n.wg)(),(0,n.j4)(d,{key:2})):(0,n.kq)("",!0),e.isShowError?((0,n.wg)(),(0,n.j4)(u,{key:3,showCancelButton:e.showCancelButton,title:e.titleNotification,arrayMsgs:e.errorsNotification,type:e.msgType,onBtnCancelClick:s.hideNotice,onConfirmFunction:e.confirmFunction},null,8,["showCancelButton","title","arrayMsgs","type","onBtnCancelClick","onConfirmFunction"])):(0,n.kq)("",!0),e.isShowToast?((0,n.wg)(),(0,n.j4)(m,{key:4,msg:e.msgToast,type:e.msgToastType},null,8,["msg","type"])):(0,n.kq)("",!0),e.isAuthenticated&&a.showNew?((0,n.wg)(),(0,n.j4)(h,{key:5,onOnClose:t[0]||(t[0]=e=>a.showNew=!1)})):(0,n.kq)("",!0),e.isShowProgressBar?((0,n.wg)(),(0,n.j4)(p,{key:6,processList:e.processList},null,8,["processList"])):(0,n.kq)("",!0)],64)}var s=o(7139);const l=e=>((0,n.dD)("data-v-5108f20a"),e=e(),(0,n.Cn)(),e),r={class:"page-title animate-charcter",style:{}},c={class:"navbar"},d={class:"navbar-container"},u={class:"navbar-list"},m=l((()=>(0,n._)("i",{class:"icofont-navigation-menu"},null,-1))),h=[m],p=l((()=>(0,n._)("span",{class:"navbar-item__text"},[(0,n._)("i",{class:"icofont-sale-discount"})],-1))),g=l((()=>(0,n._)("span",{class:"item__text-label"},"Bán hàng",-1))),_=l((()=>(0,n._)("span",{class:"navbar-item__text"},[(0,n._)("i",{class:"icofont-chart-line-alt"})],-1))),f=l((()=>(0,n._)("span",{class:"item__text-label"},"Thống kê",-1))),v={class:"nav-sub"},b=l((()=>(0,n._)("span",{class:"sub-item__icon"},[(0,n._)("i",{class:"icofont-cubes"})],-1))),w=l((()=>(0,n._)("span",{class:"sub-item__text"}," Nhóm sản phẩm/Dịch vụ",-1))),k=l((()=>(0,n._)("span",{class:"sub-item__icon"},[(0,n._)("i",{class:"icofont-cube"})],-1))),y=l((()=>(0,n._)("span",{class:"sub-item__text"}," Sản phẩm/Dịch vụ",-1))),D=l((()=>(0,n._)("span",{class:"sub-item__icon"},[(0,n._)("i",{class:"icofont-invisible"})],-1))),C=l((()=>(0,n._)("span",{class:"sub-item__text"}," Vị trí/Chức vụ",-1))),x=l((()=>(0,n._)("span",{class:"sub-item__icon"},[(0,n._)("i",{class:"icofont-businessman"})],-1))),P=l((()=>(0,n._)("span",{class:"sub-item__text"}," Nhân viên",-1))),I=l((()=>(0,n._)("span",{class:"sub-item__icon"},[(0,n._)("i",{class:"icofont-handshake-deal"})],-1))),S=l((()=>(0,n._)("span",{class:"sub-item__text"}," Khách hàng",-1))),V=l((()=>(0,n._)("span",{class:"sub-item__icon"},[(0,n._)("i",{class:"icofont-users-alt-5"})],-1))),N=l((()=>(0,n._)("span",{class:"sub-item__text"}," Nhóm khách hàng",-1))),T=l((()=>(0,n._)("span",{class:"sub-item__icon"},[(0,n._)("i",{class:"icofont-calculations"})],-1))),E=l((()=>(0,n._)("span",{class:"sub-item__text"}," Đơn vị tính",-1))),O=l((()=>(0,n._)("span",{class:"sub-item__icon"},[(0,n._)("i",{class:"icofont-ui-settings"})],-1))),U=l((()=>(0,n._)("span",{class:"sub-item__text"}," Cài đặt hệ thống",-1))),M={class:"account-info"},z={key:0,class:"account-option"},A=l((()=>(0,n._)("div",{class:"option__icon"},[(0,n._)("i",{class:"icofont-info-circle"})],-1))),$=l((()=>(0,n._)("div",{class:"option__text"},"Thông tin",-1))),R=l((()=>(0,n._)("div",{class:"option__icon"},[(0,n._)("i",{class:"icofont-key"})],-1))),W=l((()=>(0,n._)("div",{class:"option__text"},"Đổi mật khẩu",-1))),L=[R,W],F=l((()=>(0,n._)("div",{class:"option__icon"},[(0,n._)("i",{class:"icofont-architecture-alt"})],-1))),Z=l((()=>(0,n._)("div",{class:"option__text"},"Quản lý ứng dụng",-1))),q=l((()=>(0,n._)("div",{class:"option__icon"},[(0,n._)("i",{class:"icofont-sign-out"})],-1))),B=l((()=>(0,n._)("div",{class:"option__text"},"Đăng xuất",-1))),H=[q,B],G=l((()=>(0,n._)("span",{class:"navbar-item__text"},[(0,n._)("i",{class:"icofont-login"}),(0,n.Uk)(" Đăng nhập")],-1))),J={key:0,class:"org-info"},j={class:"info-item"},Y={class:"info-item"},Q={class:"flipX"},K={class:"total-money"};function X(e,t,o,a,l,m){const R=(0,n.up)("router-link"),W=(0,n.up)("ChangePassword"),q=(0,n.Q2)("clickoutside");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",r,[(0,n._)("div",null,(0,s.zw)(o.organizationInfo.OrganizationName),1),(0,n._)("div",null," - "+(0,s.zw)(o.organizationInfo.Slogan)+" - ",1)]),(0,n._)("nav",c,[(0,n._)("div",d,[(0,n._)("div",u,[(0,n.wy)(((0,n.wg)(),(0,n.iD)("a",{id:"nav-home",class:"navbar-item",onClick:t[0]||(t[0]=e=>l.showSubMenu=!l.showSubMenu)},h)),[[q,m.hideSubMenu]]),(0,n.Wm)(R,{to:"/invoices",class:"navbar-item"},{default:(0,n.w5)((()=>[p,g])),_:1}),m.isSuperManagement?((0,n.wg)(),(0,n.j4)(R,{key:0,to:"/reports",class:"navbar-item"},{default:(0,n.w5)((()=>[_,f])),_:1})):(0,n.kq)("",!0),(0,n.wy)((0,n._)("div",v,[(0,n.Wm)(R,{to:"/group-products",class:"nav-sub-item"},{default:(0,n.w5)((()=>[b,w])),_:1}),(0,n.Wm)(R,{to:"/products",class:"nav-sub-item"},{default:(0,n.w5)((()=>[k,y])),_:1}),(0,n.Wm)(R,{to:"/positions",class:"nav-sub-item"},{default:(0,n.w5)((()=>[D,C])),_:1}),(0,n.Wm)(R,{to:"/employees",class:"nav-sub-item"},{default:(0,n.w5)((()=>[x,P])),_:1}),(0,n.Wm)(R,{to:"/customers",class:"nav-sub-item"},{default:(0,n.w5)((()=>[I,S])),_:1}),(0,n.Wm)(R,{to:"/customer-groups",class:"nav-sub-item"},{default:(0,n.w5)((()=>[V,N])),_:1}),(0,n.Wm)(R,{to:"/units",class:"nav-sub-item"},{default:(0,n.w5)((()=>[T,E])),_:1}),m.isSuperManagement?((0,n.wg)(),(0,n.j4)(R,{key:0,to:"/settings",class:"nav-sub-item"},{default:(0,n.w5)((()=>[O,U])),_:1})):(0,n.kq)("",!0)],512),[[i.F8,l.showSubMenu]])]),(0,n._)("div",M,[o.isAuthenticated?(0,n.wy)(((0,n.wg)(),(0,n.iD)("a",{key:0,class:"account",style:{"flex-direction":"row","column-gap":"10px"},onClick:t[3]||(t[3]=e=>l.showAccountOption=!l.showAccountOption)},[(0,n._)("div",{class:(0,s.C_)(["navbar-item__avatar",{"default-avatar":!m.hasAvatar}]),style:(0,s.j5)({"background-image":`url(${m.avatarPath})`})},null,6),(0,n._)("span",null,(0,s.zw)(l.account.UserName),1),l.showAccountOption?((0,n.wg)(),(0,n.iD)("div",z,[(0,n.Wm)(R,{to:"/account",class:"option-item"},{default:(0,n.w5)((()=>[A,$])),_:1}),(0,n._)("div",{class:"option-item",onClick:t[1]||(t[1]=(...e)=>m.onChangePassword&&m.onChangePassword(...e))},L),m.isAdministrator?((0,n.wg)(),(0,n.j4)(R,{key:0,to:"/admin",class:"option-item"},{default:(0,n.w5)((()=>[F,Z])),_:1})):(0,n.kq)("",!0),(0,n._)("div",{class:"option-item",onClick:t[2]||(t[2]=(...e)=>m.logOut&&m.logOut(...e))},H)])):(0,n.kq)("",!0)])),[[q,m.hideListAccountOption]]):((0,n.wg)(),(0,n.j4)(R,{key:1,to:"/login",class:"navbar-item"},{default:(0,n.w5)((()=>[G])),_:1}))])])]),m.isSuperManagement?((0,n.wg)(),(0,n.iD)("div",J,[(0,n._)("div",j," Tổng hóa đơn tháng: "+(0,s.zw)(o.organizationInfo.TotalInvoices||0),1),(0,n._)("div",Y,[(0,n._)("span",Q,[(0,n.Uk)("Doanh thu tháng: "),(0,n._)("span",K,"+"+(0,s.zw)(e.commonJs.formatMoney(o.organizationInfo.TotalMoneys)||0),1)])])])):(0,n.kq)("",!0),l.showChangePassword?((0,n.wg)(),(0,n.j4)(W,{key:1,onOnClose:t[4]||(t[4]=e=>l.showChangePassword=!1)})):(0,n.kq)("",!0)],64)}var ee=o(9404),te=o(4291);const oe={action:""},ie={class:"m-row"},ne={class:"m-col"},ae={class:"m-row"},se={class:"m-col"},le={class:"m-row"},re={class:"m-col"},ce={class:"m-row"},de={class:"m-col"},ue=(0,n._)("i",{class:"icofont-ui-close"},null,-1),me=(0,n._)("i",{class:"icofont-key"},null,-1);function he(e,t,o,i,a,s){const l=(0,n.up)("m-input"),r=(0,n.up)("m-dialog");return(0,n.wg)(),(0,n.j4)(r,{title:"Đổi mật khẩu",onOnClose:s.onClose},{content:(0,n.w5)((()=>[(0,n._)("form",oe,[(0,n._)("div",ie,[(0,n._)("div",ne,[(0,n.Wm)(l,{label:"Tài khoản đăng nhập:",ref:"txtUserName",modelValue:a.user.UserName,required:!0,isDisabled:!0},null,8,["modelValue"])])]),(0,n._)("div",ae,[(0,n._)("div",se,[(0,n.Wm)(l,{label:"Mật khẩu hiện tại",ref:"txtPassword",type:"password",modelValue:a.user.Password,"onUpdate:modelValue":t[0]||(t[0]=e=>a.user.Password=e),required:!0,isDisabled:!1},null,8,["modelValue"])])]),(0,n._)("div",le,[(0,n._)("div",re,[(0,n.Wm)(l,{label:"Mật khẩu mới",ref:"txtPassword",type:"password",modelValue:a.user.NewPassword,"onUpdate:modelValue":t[1]||(t[1]=e=>a.user.NewPassword=e),required:!0,isDisabled:!1},null,8,["modelValue"])])]),(0,n._)("div",ce,[(0,n._)("div",de,[(0,n.Wm)(l,{label:"Xác nhận mật khẩu mới",ref:"txtPassword",type:"password",modelValue:a.user.ReNewPassword,"onUpdate:modelValue":t[2]||(t[2]=e=>a.user.ReNewPassword=e),required:!0,isDisabled:!1},null,8,["modelValue"])])])])])),footer:(0,n.w5)((()=>[(0,n._)("button",{class:"btn btn--close",onClick:t[3]||(t[3]=(...e)=>s.onClose&&s.onClose(...e))},[ue,(0,n.Uk)(" Hủy ")]),(0,n._)("button",{class:"btn btn--default mg-left-10",onClick:t[4]||(t[4]=(...e)=>s.onSave&&s.onSave(...e))},[me,(0,n.Uk)(" Đổi mật khẩu ")])])),_:1},8,["onOnClose"])}var pe={name:"ChangePassword",emits:["onClose"],props:["id"],computed:{formMode:function(){return ee.Z.FormMode.UPDATE}},created(){this.user.UserName=localStorage.getItem("userName")},methods:{onClose(){this.$emit("onClose")},onSave(){this.maxios.put("accounts/change-password",this.user).then((()=>{this.commonJs.showMessenger({title:"Đổi mật khẩu thành công",msg:"Bạn đã thay đổi mật khẩu thành công. Bạn có thể sử dụng mật khẩu mới cho lần đăng nhập kế tiếp.",type:ee.Z.MsgType.Success,confirm:()=>{this.$emit("onClose")}})}))}},data(){return{user:{}}}},ge=o(89);const _e=(0,ge.Z)(pe,[["render",he]]);var fe=_e,ve=o(4928);const be={mounted(e,t,o,i){e.clickOutsideEvent=o=>{e===o.target||e.contains(o.target)||e.previousElementSibling&&e.previousElementSibling.contains(o.target)||t.value(o,e)},document.body.addEventListener("click",e.clickOutsideEvent)},beforeUnmount:e=>{document.body.removeEventListener("click",e.clickOutsideEvent)}};var we={name:"TheHeader",directives:{clickoutside:be},components:{ChangePassword:fe},props:["isAuthenticated","isProfileLoaded","organizationInfo"],created(){console.log(localStorage.getItem("userRoleValue")),this.isAuthenticated&&(this.account.AvatarFullPath=localStorage.getItem("avatar"),this.account.FullName=localStorage.getItem("fullName"))},computed:{isAdministrator:function(){var e=ve.Z.getters.role;return e==ee.Z.Role.Administrator},isSuperManagement:function(){var e=ve.Z.getters.role;return e<=ee.Z.Role.SuperManagement},userName:function(){if(this.isAuthenticated)return localStorage.getItem("userName")},hasAvatar:function(){return!(!this.account.AvatarFullPath||"null"==this.account.AvatarFullPath)},avatarPath:function(){return this.account.AvatarFullPath&&"null"!=this.account.AvatarFullPath?this.account.AvatarFullPath:"../../assets/imgs/avatar.png"}},watch:{isProfileLoaded:function(e){e&&(this.account.AvatarFullPath=localStorage.getItem("avatar"),this.account.FullName=localStorage.getItem("fullName"),this.account.UserName=localStorage.getItem("userName"))}},methods:{logOut(){this.hubConnection.invoke("RemoveConnection"),this.$store.dispatch(te.LQ)},hideListAccountOption(){this.showAccountOption=!1},hideSubMenu(){this.showSubMenu=!1},onChangePassword(){this.showChangePassword=!0}},data(){return{account:{AvatarFullPath:null},showAccountOption:!1,showSubMenu:!1,showChangePassword:!1}}};const ke=(0,ge.Z)(we,[["render",X],["__scopeId","data-v-5108f20a"]]);var ye=ke;const De={class:"main"},Ce={class:"main-container"};function xe(e,t,o,i,a,s){const l=(0,n.up)("router-view");return(0,n.wg)(),(0,n.iD)("div",De,[(0,n._)("div",Ce,[(0,n.Wm)(l),(0,n.Wm)(l,{class:"register",name:"Register"})])])}var Pe={};const Ie=(0,ge.Z)(Pe,[["render",xe],["__scopeId","data-v-1e72cb01"]]);var Se=Ie;const Ve=e=>((0,n.dD)("data-v-0ea73270"),e=e(),(0,n.Cn)(),e),Ne=Ve((()=>(0,n._)("i",{class:"icofont-close"},null,-1))),Te=[Ne],Ee=Ve((()=>(0,n._)("div",{class:"news__icon"},[(0,n._)("i",{class:"icofont-hand-right"})],-1))),Oe={class:"news-content"},Ue=Ve((()=>(0,n._)("div",{class:"news__info"}," THÔNG BÁO HOT: BẤM ĐỂ ĐĂNG KÝ tham gia họp lớp kỷ niệm 15 năm ra trường ",-1))),Me={class:"time--left"};function ze(e,t,o,i,a,l){return(0,n.wg)(),(0,n.iD)("div",{class:"news",onClick:t[1]||(t[1]=(...e)=>l.showNews&&l.showNews(...e))},[(0,n._)("button",{class:"close-comment",onClick:t[0]||(t[0]=(...e)=>l.onClose&&l.onClose(...e))},Te),Ee,(0,n._)("div",Oe,[Ue,(0,n._)("span",null,[(0,n.Uk)("Chỉ còn: "),(0,n._)("span",Me,(0,s.zw)(a.timeLeftInfo),1)])])])}o(7658);var Ae=o(5679),$e={name:"NewsNotice",props:[],emits:["onClose"],created(){this.interValTime()},methods:{onClose(){this.$emit("onClose"),event.stopPropagation()},showNews(){Ae.Z.push("/events"),this.$emit("onClose")},interValTime(){this.calculatorTimeInfo();var e=new Date,t=new Date(this.item.StartTime);t>e&&setInterval(this.calculatorTimeInfo,1e3)},calculatorTimeInfo(){var e=this;try{var t=new Date,o=new Date(e.item.StartTime),i=o-t;if(i<0)return void(e.timeLeftInfo=null);var n=Math.floor(i/1e3);if(n<60)return void(e.timeLeftInfo=`${n} giây.`);var a=Math.floor(n/60),s=Math.floor(n%60);if(s=s<10?`0${s}`:s,a<60)return void(e.timeLeftInfo=`${a} phút ${s} giây.`);var l=Math.floor(a/60),r=Math.floor(a%60);if(r=r<10?`0${r}`:r,l<24)return void(e.timeLeftInfo=`${l} giờ ${r} phút ${s} giây.`);var c=Math.floor(l/24),d=Math.floor(l%24);if(d=d<10?`0${d}`:d,c<30)return void(e.timeLeftInfo=`${c} ngày ${d}:${r}:${s}.`);var u=Math.floor(c/30),m=Math.floor(c%30);if(u<12)return void(e.timeLeftInfo=`${u} tháng ${m} ngày ${d}:${r}:${s}.`);var h=Math.floor(u/12);if(h<12)return void(e.timeLeftInfo=`${h} năm.`)}catch(p){e.timeLeftInfo=""}}},data(){return{item:{StartTime:new Date("2022-11-06 23:59:00")},timeLeftInfo:null}}};const Re=(0,ge.Z)($e,[["render",ze],["__scopeId","data-v-0ea73270"]]);var We=Re,Le=o(8914),Fe=o(65);const Ze=e=>((0,n.dD)("data-v-f60cd4b2"),e=e(),(0,n.Cn)(),e),qe={class:"dialog dialog-notification"},Be={class:"dialog-wapper"},He=Ze((()=>(0,n._)("i",{class:"icofont-close"},null,-1))),Ge=[He],Je={class:"dialog__header"},je={class:"dialog__body"},Ye={class:"notified-item"},Qe={key:0,class:"icofont-error"},Ke={key:1,class:"icofont-info-circle"},Xe={key:2,class:"icofont-verification-check"},et={key:3,class:"icofont-warning"},tt={key:4,class:"icofont-question-circle"},ot={class:"dialog__text"},it=["innerHTML"],nt={class:"dialog__footer"};function at(e,t,o,i,a,l){const r=(0,n.up)("m-button");return(0,n.wg)(),(0,n.iD)("div",qe,[(0,n._)("div",Be,[(0,n._)("button",{class:"dialog__button--close",onClick:t[0]||(t[0]=(...e)=>l.btnCloseDialogClick&&l.btnCloseDialogClick(...e)),tabindex:"-1"},Ge),(0,n._)("div",Je,(0,s.zw)(o.title||"Thông báo"),1),(0,n._)("div",je,[(0,n._)("div",Ye,[(0,n._)("div",{class:(0,s.C_)(["dialog__icon",{"color--info":a.isInfo,"color--error":a.isError||a.isQuestion,"color--success":a.isSuccess,"color--warning":a.isWarning}])},[a.isError?((0,n.wg)(),(0,n.iD)("i",Qe)):(0,n.kq)("",!0),a.isInfo?((0,n.wg)(),(0,n.iD)("i",Ke)):(0,n.kq)("",!0),a.isSuccess?((0,n.wg)(),(0,n.iD)("i",Xe)):(0,n.kq)("",!0),a.isWarning?((0,n.wg)(),(0,n.iD)("i",et)):(0,n.kq)("",!0),a.isQuestion?((0,n.wg)(),(0,n.iD)("i",tt)):(0,n.kq)("",!0)],2),(0,n._)("div",ot,[(0,n._)("ul",{class:(0,s.C_)({"dialog__text--single":1==o.arrayMsgs.length})},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.arrayMsgs,((e,t)=>((0,n.wg)(),(0,n.iD)("li",{key:t,class:"text__item"},[(0,n._)("span",{innerHTML:e},null,8,it)])))),128))],2)])])]),(0,n._)("div",nt,[(0,n.Wm)(r,{focus:!0,class:"dialog__button--confirm",text:"Đồng ý",ref:"btnconfirm",onClick:l.btnConfirmClick},null,8,["onClick"]),o.showCancelButton?((0,n.wg)(),(0,n.j4)(r,{key:0,class:"dialog__button--cancel",text:"Đóng",onClick:l.btnCancelClick},null,8,["onClick"])):(0,n.kq)("",!0)])])])}var st={name:"DialogDefault",props:{title:{type:String,default:"Thông báo",required:!1},showCancelButton:{type:Boolean,default:!0,required:!1},text:{type:String,default:"",required:!1},arrayMsgs:{type:Array,required:!0},visible:{type:Boolean,default:!1},type:Number},created(){switch(this.type){case ee.Z.MsgType.Error:this.isError=!0,this.isInfo=!1,this.isSuccess=!1,this.isWarning=!1,this.isQuestion=!1;break;case ee.Z.MsgType.Warning:this.isError=!1,this.isInfo=!1,this.isSuccess=!1,this.isWarning=!0,this.isQuestion=!1;break;case ee.Z.MsgType.Success:this.isError=!1,this.isInfo=!1,this.isSuccess=!0,this.isWarning=!1,this.isQuestion=!1;break;case ee.Z.MsgType.Question:this.isError=!1,this.isInfo=!1,this.isSuccess=!1,this.isWarning=!1,this.isQuestion=!0;break;default:this.isError=!1,this.isInfo=!0,this.isSuccess=!1,this.isWarning=!1,this.isQuestion=!1;break}},mounted(){},data(){return{isShow:!0,isError:!1,isInfo:!1,isSuccess:!1,isWarning:!0,isQuestion:!1}},methods:{btnConfirmClick(){this.$emit("confirmFunction"),this.commonJs.hideErrorMessenger()},btnCloseDialogClick(){this.$emit("closeDialog"),this.commonJs.hideErrorMessenger()},btnCancelClick(){this.isShow=!1,this.$emit("btnCancelClick")},showDialog(){this.isShow=!0},hideDialog(){this.isShow=!1}}};const lt=(0,ge.Z)(st,[["render",at],["__scopeId","data-v-f60cd4b2"]]);var rt=lt;const ct=e=>((0,n.dD)("data-v-508c2018"),e=e(),(0,n.Cn)(),e),dt={class:"toast-list"},ut={class:"toast"},mt={key:0,class:"icofont-exclamation-tringle"},ht={key:1,class:"icofont-info-circle"},pt={key:2,class:"icofont-verification-check"},gt={key:3,class:"icofont-warning"},_t={class:"toast__text"},ft=ct((()=>(0,n._)("i",{class:"icofont-close"},null,-1))),vt=[ft];function bt(e,t,o,i,a,l){return(0,n.wg)(),(0,n.iD)("div",dt,[(0,n._)("div",ut,[(0,n._)("div",{class:(0,s.C_)(["toast__icon",{"toast__icon--info":a.isInfo,"toast__icon--error":a.isError,"toast__icon--success":a.isSuccess,"toast__icon--warning":a.isWarning}])},[a.isError?((0,n.wg)(),(0,n.iD)("i",mt)):(0,n.kq)("",!0),a.isInfo?((0,n.wg)(),(0,n.iD)("i",ht)):(0,n.kq)("",!0),a.isSuccess?((0,n.wg)(),(0,n.iD)("i",pt)):(0,n.kq)("",!0),a.isWarning?((0,n.wg)(),(0,n.iD)("i",gt)):(0,n.kq)("",!0)],2),(0,n._)("div",_t,(0,s.zw)(o.msg),1),(0,n._)("div",{class:(0,s.C_)(["toast__close",{"toast__icon--info":a.isInfo,"toast__icon--error":a.isError,"toast__icon--success":a.isSuccess,"toast__icon--warning":a.isWarning}])},vt,2)])])}var wt={name:"MToast",props:["type","msg"],created(){switch(this.type){case ee.Z.MsgType.Error:this.isError=!0,this.isInfo=!1,this.isSuccess=!1,this.isWarning=!1;break;case ee.Z.MsgType.Warning:this.isError=!1,this.isInfo=!1,this.isSuccess=!1,this.isWarning=!0;break;case ee.Z.MsgType.Success:this.isError=!1,this.isInfo=!1,this.isSuccess=!0,this.isWarning=!1;break;default:this.isError=!1,this.isInfo=!0,this.isSuccess=!1,this.isWarning=!1;break}},data(){return{isWarning:!0,isError:!1,isInfo:!1,isSuccess:!1}}};const kt=(0,ge.Z)(wt,[["render",bt],["__scopeId","data-v-508c2018"]]);var yt=kt;const Dt=e=>((0,n.dD)("data-v-0d2a9355"),e=e(),(0,n.Cn)(),e),Ct={key:0,class:"progressbar"},xt=Dt((()=>(0,n._)("div",{class:"loading-progressbar"},[(0,n._)("div",{class:"loading__icon"},[(0,n._)("i",{class:"icofont-spinner-alt-1"})])],-1))),Pt={key:1,class:"progressbar-bg"};function It(e,t,o,i,a,s){const l=(0,n.up)("ProgressBarNoBG"),r=(0,n.up)("ProgressBarBG");return(0,n.wg)(),(0,n.iD)(n.HY,null,[a.progressNotBGs.length>0?((0,n.wg)(),(0,n.iD)("div",Ct,[xt,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.progressNotBGs,(e=>((0,n.wg)(),(0,n.j4)(l,{progess:e,key:e.Id},null,8,["progess"])))),128))])):(0,n.kq)("",!0),a.progressBGs.length>0?((0,n.wg)(),(0,n.iD)("div",Pt,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.progressBGs,(e=>((0,n.wg)(),(0,n.j4)(r,{progress:e,key:e.Id},null,8,["progress"])))),128))])):(0,n.kq)("",!0)],64)}var St=o(5471);const Vt=["title"],Nt=["value","max"],Tt={class:"progressbar-bg__info"},Et={key:0},Ot={key:1};function Ut(e,t,o,i,a,l){return(0,n.wg)(),(0,n.iD)("div",{title:o.progress.Name,class:"progressbar-bg__content"},[(0,n._)("progress",{value:o.progress.Value,max:o.progress.Max},null,8,Nt),(0,n._)("div",Tt,[o.progress.Message?((0,n.wg)(),(0,n.iD)("span",Et,(0,s.zw)(o.progress.Message),1)):((0,n.wg)(),(0,n.iD)("span",Ot,"Đang xử lý "+(0,s.zw)(o.progress.Value)+"/"+(0,s.zw)(o.progress.Max)+" tệp",1))])],8,Vt)}var Mt={name:"ProgressBarBG",props:["progress"],emits:[],created(){},watch:{},methods:{},data(){return{}}};const zt=(0,ge.Z)(Mt,[["render",Ut],["__scopeId","data-v-236418a0"]]);var At=zt;const $t={class:"progressbar__content"},Rt=["value","max"],Wt={class:"progressbar__info"},Lt={key:0},Ft={key:1};function Zt(e,t,o,i,a,l){return(0,n.wg)(),(0,n.iD)("div",$t,[(0,n._)("progress",{value:o.progess.Value,max:o.progess.Max},null,8,Rt),(0,n._)("div",Wt,[o.progess.Message?((0,n.wg)(),(0,n.iD)("span",Lt,(0,s.zw)(o.progess.Message),1)):((0,n.wg)(),(0,n.iD)("span",Ft,"Đang xử lý "+(0,s.zw)(o.progess.Value)+"/"+(0,s.zw)(o.progess.Max)+" tệp",1))])])}var qt={name:"ProgressBarBG",props:["progess"],created(){},watch:{}};const Bt=(0,ge.Z)(qt,[["render",Zt],["__scopeId","data-v-ef6b25b0"]]);var Ht=Bt,Gt={name:"ProgressBar",components:{ProgressBarBG:At,ProgressBarNoBG:Ht},props:["processList"],emits:[],created(){this.progressBGs=this.processList.filter((e=>1==e.RunBackground)),this.progressNotBGs=this.processList.filter((e=>!e.RunBackground))},watch:{processList:{handler(e){this.progressBGs=e.filter((e=>1==e.RunBackground)),this.progressNotBGs=this.processList.filter((e=>!e.RunBackground))},deep:!0},runBackground:function(e){1==e&&St.Z.showMessenger({title:"Thông báo",msg:"Quá trình sẽ tiếp tục được xử lý trong ít phút. Hệ thống sẽ thông báo cho bạn khi hoàn thành.",type:ee.Z.MsgType.Info,showCancelButton:!1})},value:function(e){e==this.max&&St.Z.showToast("Đã hoàn thành",ee.Z.MsgType.Success)}},methods:{},data(){return{progressNotBGs:[],progressBGs:[]}}};const Jt=(0,ge.Z)(Gt,[["render",It],["__scopeId","data-v-0d2a9355"]]);var jt=Jt,Yt={name:"App",components:{TheHeader:ye,TheMain:Se,MToast:yt,MDialogNotification:rt,NewsList:We,ProgressBar:jt},computed:{...(0,Fe.Se)(["getProfile","isAuthenticated","isProfileLoaded","isShowError","errorsNotification","titleNotification","showCancelButton","isShowLoading","connectingHub","msgType","confirmFunction","role","isShowToast","msgToast","msgToastType","isShowProgressBar","processList","organizationInfo"]),...(0,Fe.rn)({authLoading:e=>"loading"===e.auth.status,name:e=>`${e.user.profile.title} ${e.user.profile.name}`})},async created(){this.$store.getters.isAuthenticated&&await this.$store.dispatch(Le.iz)},methods:{hideNotice(){this.commonJs.hideConfirm()},closeMessageBox(){this.showMessageBox=!1}},data(){return{showHomePage:!1,showNew:!1,progressing:!1}}};const Qt=(0,ge.Z)(Yt,[["render",a]]);var Kt=Qt,Xt=o(9660),eo=o(3007);const to={get:(e,t)=>(0,eo.Z)({url:e,method:"GET",callback:t}),post:(e,t,o)=>(0,eo.Z)({url:e,data:t,method:"POST",callback:o}),put:(e,t,o)=>(0,eo.Z)({url:e,data:t,method:"PUT",callback:o}),patch:(e,t,o)=>(0,eo.Z)({url:e,data:t,method:"PATCH",callback:o}),delete:(e,t)=>(0,eo.Z)({url:e,method:"DELETE",callback:t})};var oo=to;const io={class:"page"},no={class:"page__header"},ao={class:"page__title"},so={class:"page__header--right"},lo={class:"page__container"},ro={class:"page__footer"};function co(e,t,o,a,l,r){return(0,n.wg)(),(0,n.iD)("div",io,[(0,n._)("div",no,[(0,n._)("div",ao,(0,s.zw)(o.title),1),(0,n.wy)((0,n._)("div",so,[(0,n.WI)(e.$slots,"header-right",{},void 0,!0)],512),[[i.F8,o.rightSlot]])]),(0,n._)("div",lo,[(0,n.WI)(e.$slots,"container",{},void 0,!0)]),(0,n._)("div",ro,[(0,n.WI)(e.$slots,"footer",{},void 0,!0)])])}var uo={name:"ThePage",emits:[],props:{title:String,rightSlot:{type:Boolean,default:!1,required:!1}},created(){}};const mo=(0,ge.Z)(uo,[["render",co],["__scopeId","data-v-c7c07e1c"]]);var ho=mo;const po={class:"table"},go={class:"table__toolbar"},_o={class:"table__container"},fo={class:"table__footer"};function vo(e,t,o,i,a,s){return(0,n.wg)(),(0,n.iD)("div",po,[(0,n._)("div",go,[(0,n.WI)(e.$slots,"toolbar",{},void 0,!0)]),(0,n._)("div",_o,[(0,n.WI)(e.$slots,"container",{},void 0,!0)]),(0,n._)("div",fo,[(0,n.WI)(e.$slots,"footer",{},void 0,!0)])])}var bo={name:"MTable",emits:[],props:{}};const wo=(0,ge.Z)(bo,[["render",vo],["__scopeId","data-v-5824f88a"]]);var ko=wo;const yo=e=>((0,n.dD)("data-v-0b6e3cda"),e=e(),(0,n.Cn)(),e),Do={key:0},Co={key:0},xo=yo((()=>(0,n._)("span",{class:"required"},"*",-1))),Po={class:"input-block"},Io=yo((()=>(0,n._)("i",{class:"icofont-close"},null,-1))),So=[Io],Vo=["type","required","placeholder","maxlength","autocomplete","disabled"],No={key:1,class:"money-code"},To={key:1,class:"validate-error"},Eo={class:"error__content"},Oo=["innerHTML"],Uo={key:1},Mo={key:0},zo={key:1};function Ao(e,t,o,a,l,r){return(0,n.wg)(),(0,n.iD)("div",{class:"input-wrapper",onClick:t[5]||(t[5]=(...e)=>r.onClick&&r.onClick(...e))},[o.label?((0,n.wg)(),(0,n.iD)("label",Do,[(0,n.Uk)((0,s.zw)(o.label)+" ",1),o.required?((0,n.wg)(),(0,n.iD)("span",Co,[(0,n.Uk)("("),xo,(0,n.Uk)(")")])):(0,n.kq)("",!0),(0,n.Uk)(":")])):(0,n.kq)("",!0),(0,n._)("div",Po,[r.isShowClear?((0,n.wg)(),(0,n.iD)("span",{key:0,class:(0,s.C_)(["clear-button",{"clear-button--left":"right"==o.align}]),onClick:t[0]||(t[0]=(...e)=>r.clearButtonOnClick&&r.clearButtonOnClick(...e))},So,2)):(0,n.kq)("",!0),(0,n.wy)((0,n._)("input",{type:o.type,ref:"minput",required:o.required,placeholder:o.placeholder,"onUpdate:modelValue":t[1]||(t[1]=e=>l.value=e),onInput:t[2]||(t[2]=(...e)=>r.onInput&&r.onInput(...e)),onKeydown:t[3]||(t[3]=(...e)=>r.onKeyDown&&r.onKeyDown(...e)),onBlur:t[4]||(t[4]=(...e)=>r.onBlur&&r.onBlur(...e)),maxlength:o.maxLength,autocomplete:o.autocomplete,disabled:o.disabled,style:(0,s.j5)({"text-align":o.align}),class:(0,s.C_)(["input",{"input--invalid":r.inValid,"input-editable":o.editOnClick,"input-money":"money"==o.format}])},null,46,Vo),[[i.YZ,l.value]]),"money"==o.format?((0,n.wg)(),(0,n.iD)("span",No,(0,s.zw)(o.moneyCode),1)):(0,n.kq)("",!0)]),r.inValid?((0,n.wg)(),(0,n.iD)("div",To,[(0,n._)("div",Eo,[l.errorText?((0,n.wg)(),(0,n.iD)("span",{key:0,innerHTML:l.errorText},null,8,Oo)):((0,n.wg)(),(0,n.iD)("div",Uo,[o.label?((0,n.wg)(),(0,n.iD)("span",Mo,[(0,n._)("b",null,(0,s.zw)(o.label),1)])):((0,n.wg)(),(0,n.iD)("span",zo,"này")),(0,n.Uk)(" không được phép để trống. ")]))])])):(0,n.kq)("",!0)])}var $o=o(1890);const Ro=(0,ge.Z)($o.Z,[["render",Ao],["__scopeId","data-v-0b6e3cda"]]);var Wo=Ro;const Lo=e=>((0,n.dD)("data-v-069fedae"),e=e(),(0,n.Cn)(),e),Fo={class:"search-block"},Zo=Lo((()=>(0,n._)("i",{class:"icofont-close"},null,-1))),qo=[Zo],Bo=["placeholder","value"];function Ho(e,t,o,i,a,s){return(0,n.wg)(),(0,n.iD)("div",Fo,[a.isShowClear?((0,n.wg)(),(0,n.iD)("span",{key:0,class:"clear-button",onClick:t[0]||(t[0]=(...e)=>s.clearButtonOnClick&&s.clearButtonOnClick(...e))},qo)):(0,n.kq)("",!0),(0,n._)("input",{class:"input input-search icon icon-16 icon-search",ref:"minput",type:"text",placeholder:o.placeholder,value:o.modelValue,onInput:t[1]||(t[1]=(...e)=>s.updateValue&&s.updateValue(...e))},null,40,Bo)])}var Go={name:"MInputSearch",props:["modelValue","focus","placeholder"],emits:["update:modelValue","onInput"],mounted(){1==this.focus&&this.$refs["minput"].focus()},watch:{modelValue:function(e){this.isShowClear=!!e}},methods:{updateValue(){var e=this.$refs.minput.value;this.$emit("update:modelValue",e),this.$emit("onInput",e)},clearButtonOnClick(){this.$emit("update:modelValue",null),this.isShowClear=!1}},data(){return{isShowClear:!1}}};const Jo=(0,ge.Z)(Go,[["render",Ho],["__scopeId","data-v-069fedae"]]);var jo=Jo;const Yo={class:"m-checkbox"},Qo=["id","disabled"],Ko=["for"];function Xo(e,t,o,a,l,r){return(0,n.wg)(),(0,n.iD)("div",Yo,[(0,n.wy)((0,n._)("input",{id:o.id,class:"input-checkbox",disabled:o.disabled,"onUpdate:modelValue":t[0]||(t[0]=e=>l.value=e),type:"checkbox",name:"mcheckbox"},null,8,Qo),[[i.e8,l.value]]),(0,n._)("label",{for:o.id},(0,s.zw)(o.label),9,Ko)])}var ei={name:"MCheckbox",emits:["update:modelValue"],props:["label","id","modelValue","disabled"],created(){this.value=this.modelValue},watch:{value(e){this.$emit("update:modelValue",e)}},methods:{},data(){return{value:null}}};const ti=(0,ge.Z)(ei,[["render",Xo],["__scopeId","data-v-0804a35b"]]);var oi=ti;const ii={ref:"button",class:"btn btn--default"};function ni(e,t,o,i,a,l){return(0,n.wg)(),(0,n.iD)("button",ii,[(0,n.Uk)((0,s.zw)(o.text)+" ",1),(0,n.WI)(e.$slots,"default",{},void 0,!0)],512)}var ai={name:"MButton",props:["text","focus"],mounted(){1==this.focus&&this.$refs["button"].focus()}};const si=(0,ge.Z)(ai,[["render",ni],["__scopeId","data-v-0c28f6bb"]]);var li=si;const ri={class:"btn btn-icon"};function ci(e,t,o,i,a,l){return(0,n.wg)(),(0,n.iD)("button",ri,[(0,n.Uk)((0,s.zw)(o.text)+" ",1),(0,n.WI)(e.$slots,"default",{},void 0,!0)])}var di={name:"MButtonIcon",props:["text"]};const ui=(0,ge.Z)(di,[["render",ci],["__scopeId","data-v-c740b302"]]);var mi=ui;const hi={class:"btn btn-icon-font"},pi={class:"button__icon-font"},gi={class:"button__text"};function _i(e,t,o,i,a,l){return(0,n.wg)(),(0,n.iD)("button",hi,[(0,n._)("div",pi,[(0,n.WI)(e.$slots,"default",{},void 0,!0)]),(0,n._)("span",gi,(0,s.zw)(o.text),1)])}var fi={name:"MButtonIcon",props:["text","icon-cls"]};const vi=(0,ge.Z)(fi,[["render",_i],["__scopeId","data-v-267844f1"]]);var bi=vi;const wi=e=>((0,n.dD)("data-v-29dba1a1"),e=e(),(0,n.Cn)(),e),ki={class:"input-wrapper"},yi={key:0},Di={key:0},Ci=wi((()=>(0,n._)("span",{class:"required"},"*",-1))),xi=["placeholder","focus","required","disabled"];function Pi(e,t,o,a,l,r){return(0,n.wg)(),(0,n.iD)("div",ki,[o.label?((0,n.wg)(),(0,n.iD)("label",yi,[(0,n.Uk)((0,s.zw)(o.label)+" ",1),o.required?((0,n.wg)(),(0,n.iD)("span",Di,[(0,n.Uk)("("),Ci,(0,n.Uk)(")")])):(0,n.kq)("",!0),(0,n.Uk)(":")])):(0,n.kq)("",!0),(0,n.wy)((0,n._)("textarea",{cols:"15",rows:"3",ref:"minput",placeholder:o.textPlaceholder,focus:o.focus,required:o.required,"onUpdate:modelValue":t[0]||(t[0]=e=>l.value=e),onInput:t[1]||(t[1]=(...e)=>r.onInput&&r.onInput(...e)),disabled:o.disabled,class:"text-area"},null,40,xi),[[i.nr,l.value]])])}var Ii={name:"MInput",props:{modelValue:{type:String,default:"",required:!0},label:{type:String,default:null,required:!1},focus:{type:Boolean,default:!1,required:!1},required:{type:Boolean,default:!1,required:!1},disabled:{type:Boolean,default:!1,required:!1},textPlaceholder:{type:String,default:"",required:!1}},emits:["update:modelValue"],created(){this.value=this.modelValue},methods:{onInput(){this.$emit("update:modelValue",this.value)}},watch:{modelValue:function(e){this.value=e}},data(){return{value:null}}};const Si=(0,ge.Z)(Ii,[["render",Pi],["__scopeId","data-v-29dba1a1"]]);var Vi=Si;const Ni=e=>((0,n.dD)("data-v-64dd1e2b"),e=e(),(0,n.Cn)(),e),Ti={class:"combobox-wrapper"},Ei={key:0,for:""},Oi={key:0},Ui=Ni((()=>(0,n._)("span",{class:"required"},"*",-1))),Mi={class:"combobox"},zi=Ni((()=>(0,n._)("i",{class:"icofont-close"},null,-1))),Ai=[zi],$i=["placeholder","disabled"],Ri=["disabled"],Wi=["src"],Li={key:2,class:"combobox__data",ref:"combobox__data"},Fi=["value","onClick","onFocus","onKeydown","onKeyup"],Zi={class:"combobox__item-icon"},qi=["src"],Bi={key:3,class:"combobox-loading"};function Hi(e,t,a,l,r,c){const d=(0,n.Q2)("clickoutside");return(0,n.wg)(),(0,n.iD)("div",Ti,[a.label?((0,n.wg)(),(0,n.iD)("label",Ei,[(0,n.Uk)((0,s.zw)(a.label)+" ",1),a.required?((0,n.wg)(),(0,n.iD)("span",Oi,[(0,n.Uk)("("),Ui,(0,n.Uk)(")")])):(0,n.kq)("",!0),(0,n.Uk)(":")])):(0,n.kq)("",!0),(0,n._)("div",Mi,[r.isShowClear&&!a.isDisabled?((0,n.wg)(),(0,n.iD)("span",{key:0,class:"clear-button",onClick:t[0]||(t[0]=(...e)=>c.clearButtonOnClick&&c.clearButtonOnClick(...e))},Ai)):(0,n.kq)("",!0),(0,n.wy)((0,n._)("input",{type:"text",class:"input combobox__input",ref:"minput","onUpdate:modelValue":t[1]||(t[1]=e=>r.textInput=e),placeholder:a.placeholder,onInput:t[2]||(t[2]=(...e)=>c.inputOnChange&&c.inputOnChange(...e)),disabled:a.isDisabled,onKeydown:t[3]||(t[3]=(...e)=>c.selecItemUpDown&&c.selecItemUpDown(...e))},null,40,$i),[[i.nr,r.textInput]]),a.isDisabled?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("button",{key:1,class:"button combobox__button",onClick:t[4]||(t[4]=(...e)=>c.btnSelectDataOnClick&&c.btnSelectDataOnClick(...e)),type:"button",onKeydown:t[5]||(t[5]=(...e)=>c.selecItemUpDown&&c.selecItemUpDown(...e)),tabindex:"-1",disabled:a.isDisabled},[(0,n._)("img",{src:o(7944),alt:"",srcset:"",width:"24",height:"24"},null,8,Wi)],40,Ri)),r.isShowListData?(0,n.wy)(((0,n.wg)(),(0,n.iD)("div",Li,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r.dataFilter,((e,t)=>((0,n.wg)(),(0,n.iD)("a",{class:(0,s.C_)(["combobox__item",{"combobox__item--focus":t==r.indexItemFocus,"combobox__item--selected":t==r.indexItemSelected||a.modelValue==e[this.propValue]}]),key:e[this.propValue],ref_for:!0,ref:"toFocus_"+t,value:e[this.propValue],onClick:o=>c.itemOnSelect(e,t),onFocus:e=>c.saveItemFocus(t),onKeydown:e=>c.selecItemUpDown(t),onKeyup:e=>c.selecItemUpDown(t),tabindex:"1"},[(0,n._)("div",Zi,[(0,n.wy)((0,n._)("img",{src:o(611),alt:"",srcset:"",width:"14",height:"11"},null,8,qi),[[i.F8,t==r.indexItemSelected]])]),(0,n._)("span",null,(0,s.zw)(e[this.propText]),1)],42,Fi)))),128))])),[[d,c.hideListData]]):(0,n.kq)("",!0),r.showLoadingData?((0,n.wg)(),(0,n.iD)("div",Bi)):(0,n.kq)("",!0)])])}const Gi={mounted(e,t,o,i){e.clickOutsideEvent=o=>{e===o.target||e.contains(o.target)||e.previousElementSibling.contains(o.target)||t.value(o,e)},document.body.addEventListener("click",e.clickOutsideEvent)},beforeUnmount:e=>{document.body.removeEventListener("click",e.clickOutsideEvent)}};function Ji(e){return null==e||void 0==e?"":(e=e.replace(/à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ/g,"a"),e=e.replace(/è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ/g,"e"),e=e.replace(/ì|í|ị|ỉ|ĩ/g,"i"),e=e.replace(/ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ/g,"o"),e=e.replace(/ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ/g,"u"),e=e.replace(/ỳ|ý|ỵ|ỷ|ỹ/g,"y"),e=e.replace(/đ/g,"d"),e=e.replace(/À|Á|Ạ|Ả|Ã|Â|Ầ|Ấ|Ậ|Ẩ|Ẫ|Ă|Ằ|Ắ|Ặ|Ẳ|Ẵ/g,"A"),e=e.replace(/È|É|Ẹ|Ẻ|Ẽ|Ê|Ề|Ế|Ệ|Ể|Ễ/g,"E"),e=e.replace(/Ì|Í|Ị|Ỉ|Ĩ/g,"I"),e=e.replace(/Ò|Ó|Ọ|Ỏ|Õ|Ô|Ồ|Ố|Ộ|Ổ|Ỗ|Ơ|Ờ|Ớ|Ợ|Ở|Ỡ/g,"O"),e=e.replace(/Ù|Ú|Ụ|Ủ|Ũ|Ư|Ừ|Ứ|Ự|Ử|Ữ/g,"U"),e=e.replace(/Ỳ|Ý|Ỵ|Ỷ|Ỹ/g,"Y"),e=e.replace(/Đ/g,"D"),e=e.replace(/\u0300|\u0301|\u0303|\u0309|\u0323/g,""),e=e.replace(/\u02C6|\u0306|\u031B/g,""),e=e.replace(/ + /g," "),e=e.trim(),e=e.replace(/!|@|%|\^|\*|\(|\)|\+|\=|\<|\>|\?|\/|,|\.|\:|\;|\'|\"|\&|\#|\[|\]|~|\$|_|`|-|{|}|\||\\/g," "),e)}const ji={Enter:13,ArrowUp:38,ArrowDown:40,ESC:27};var Yi={name:"MSCombobox",directives:{clickoutside:Gi},props:["value","label","modelValue","url","propValue","propText","isLoadData","placeholder","required","isDisabled","isFocus","firstSelected"],emits:["onSelected","getValue","update:modelValue","onChangeText"],methods:{saveItemFocus(e){this.indexItemFocus=e},hideListData(){this.isShowListData=!1},btnSelectDataOnClick(){this.dataFilter=this.data,this.isShowListData=!this.isShowListData},itemOnSelect(e,t){const o=e[this.propText],i=e[this.propValue];this.textInput=o,this.indexItemSelected=t,this.isShowListData=!1,this.$emit("getValue",i,o,e),this.$emit("update:modelValue",i)},inputOnChange(){var e=this;this.dataFilter=this.data.filter((t=>{let o=Ji(e.textInput).toLowerCase().replace(" ",""),i=Ji(t[e.propText]).toLowerCase().replace(" ","");return i.includes(o)})),this.isShowListData=!0},selecItemUpDown(){var e=this,t=event.keyCode,o=null;switch(t){case ji.ESC:this.isShowListData=!1;break;case ji.ArrowDown:this.isShowListData=!0,o=this.$refs[`toFocus_${e.indexItemFocus+1}`],null!=this.indexItemFocus&&o&&0!=o.length?this.indexItemFocus+=1:this.indexItemFocus=0;break;case ji.ArrowUp:this.isShowListData=!0,o=this.$refs["toFocus_"+(e.indexItemFocus-1)],null!=this.indexItemFocus&&o&&0!=o.length?this.indexItemFocus-=1:this.indexItemFocus=this.dataFilter.length-1;break;case ji.Enter:o=this.$refs[`toFocus_${e.indexItemFocus}`],o&&o.length>0&&(o[0].click(),this.isShowListData=!1);break;default:break}},loadData(){const e=localStorage.getItem("user-token"),t=new Headers;var o="https://shopapi.manhhao.com/api/v1",i=this.url;o&&(i=o+i),t.append("Authorization",e),this.showLoadingData=!0,fetch(i,{headers:t}).then((e=>e.json())).then((e=>{if(this.data=e,this.dataFilter=e,this.firstSelected&&this.dataFilter.length>0){var t=this.dataFilter[0][this.propValue];this.$emit("update:modelValue",t)}this.setTextForInput(),this.showLoadingData=!1})).catch((e=>{console.log(e),this.showLoadingData=!1}))},setTextForInput(){var e=this,t=e.modelValue;if(0==t||t)for(let o=0;o<e.data.length;o++){const i=e.data[o],n=i[e.propValue];if(null!=n&&n==t){e.textInput=i[e.propText],e.indexItemSelected=o,this.$emit("onSelected",n,e.textInput,i);break}}else this.textInput=null,this.isShowClear=!1,this.indexItemSelected=null,this.indexItemFocus=null,this.$emit("onSelected",null,null,null)},clearButtonOnClick(){this.textInput=null,this.isShowClear=!1,this.indexItemSelected=null,this.indexItemFocus=null,this.$emit("update:modelValue",null)},setFocusDefault(){1==this.isFocus&&this.$nextTick((function(){this.$refs.minput.focus()}))},setFocus(){this.$nextTick((function(){this.$refs.minput.focus()}))}},watch:{modelValue:function(e,t){this.setTextForInput()},textInput:function(e){this.isShowClear=!!e,this.$emit("onChangeText",e)},showLoadingData:function(e){this.isDisabled||e||this.setFocusDefault()}},created(){this.loadData()},mounted(){},data(){return{data:[],textInput:null,dataFilter:[],isShowListData:!1,indexItemFocus:null,indexItemSelected:null,showLoadingData:!1,isShowClear:!1}}};const Qi=(0,ge.Z)(Yi,[["render",Hi],["__scopeId","data-v-64dd1e2b"]]);var Ki=Qi;const Xi=e=>((0,n.dD)("data-v-608be0ba"),e=e(),(0,n.Cn)(),e),en={class:"dialog"},tn={class:"dialog-wrapper"},on=Xi((()=>(0,n._)("i",{class:"icofont-close"},null,-1))),nn=[on],an={class:"dialog__header"},sn={class:"dialog__header--title"},ln={class:"dialog__content"},rn={class:"dialog__footer"},cn={key:0,class:"btn btn--cancel dialog__button--close"};function dn(e,t,o,i,a,l){return(0,n.wg)(),(0,n.iD)("div",en,[(0,n._)("div",tn,[(0,n._)("button",{class:"dialog__button-close",onClick:t[0]||(t[0]=(...e)=>l.onClose&&l.onClose(...e))},nn),(0,n._)("div",an,[(0,n._)("div",sn,(0,s.zw)(o.title),1)]),(0,n._)("div",ln,[(0,n.WI)(e.$slots,"content",{},void 0,!0)]),(0,n._)("div",rn,[(0,n.WI)(e.$slots,"footer",{},void 0,!0),o.showButton?((0,n.wg)(),(0,n.iD)("button",cn)):(0,n.kq)("",!0),o.showButton?((0,n.wg)(),(0,n.iD)("button",{key:1,class:"btn btn-default dialog__button--save",onClick:t[1]||(t[1]=(...e)=>l.onSubmit&&l.onSubmit(...e))},(0,s.zw)(o.submitText),1)):(0,n.kq)("",!0)])])])}var un={name:"BaseDialog",emits:["onSubmit","onClose"],props:{title:{type:String,required:!1},showButton:{type:Boolean,default:!1,required:!1},submitText:{type:String,default:"Lưu",required:!1}},methods:{onSubmit(){this.$emit("onSubmit")},onClose(){this.$emit("onClose")}}};const mn=(0,ge.Z)(un,[["render",dn],["__scopeId","data-v-608be0ba"]]);var hn=mn;const pn=e=>((0,n.dD)("data-v-923b9f30"),e=e(),(0,n.Cn)(),e),gn={class:"loading"},_n=pn((()=>(0,n._)("div",{class:"loading-wrapper"},[(0,n._)("div",{class:"loading__icon"},[(0,n._)("i",{class:"icofont-spinner-alt-1"})]),(0,n._)("div",{class:"loading__text"},"Đang xử lý, vui lòng đợi...")],-1))),fn=[_n];function vn(e,t){return(0,n.wg)(),(0,n.iD)("div",gn,fn)}const bn={},wn=(0,ge.Z)(bn,[["render",vn],["__scopeId","data-v-923b9f30"]]);var kn=wn;const yn=e=>((0,n.dD)("data-v-77d331ae"),e=e(),(0,n.Cn)(),e),Dn={class:"paging"},Cn={class:"paging__left"},xn={class:"paging-entity-name"},Pn={class:"paging__right"},In={class:"paging__pagesize"},Sn=yn((()=>(0,n._)("span",null,"Số bản ghi/ trang",-1))),Vn={class:"pagesize-cbx"},Nn=["value"],Tn={class:"pagesize-data"},En=["onClick"],On={class:"pagesize-item__text"},Un=yn((()=>(0,n._)("div",{class:"pagesize-item__icon"},null,-1))),Mn={class:"paging-index"},zn={class:"paging__button"},An=["disabled"],$n=yn((()=>(0,n._)("i",{class:"icofont-rounded-left"},null,-1))),Rn=[$n],Wn=["disabled"],Ln=yn((()=>(0,n._)("i",{class:"icofont-rounded-right"},null,-1))),Fn=[Ln];function Zn(e,t,o,a,l,r){return(0,n.wg)(),(0,n.iD)("div",Dn,[(0,n._)("div",Cn,[(0,n.Uk)(" Tổng số: "),(0,n._)("b",null,(0,s.zw)(o.totalRecords),1),(0,n.Uk)(),(0,n._)("span",xn,(0,s.zw)(o.entityName.toLowerCase()),1)]),(0,n._)("div",Pn,[(0,n._)("div",In,[Sn,(0,n._)("div",Vn,[(0,n._)("input",{type:"text",value:r.pageSizeComputed,onClick:t[0]||(t[0]=(...e)=>r.onShowPagesizeData&&r.onShowPagesizeData(...e))},null,8,Nn),(0,n.wy)((0,n._)("div",Tn,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.pageSizeData,((e,t)=>((0,n.wg)(),(0,n.iD)("a",{class:(0,s.C_)(["pagesize-item",{"pagesize-item--selected":t==l.indexPageSizeSelected}]),key:t,onClick:o=>r.onSelectPagesizeItem(t,e)},[(0,n._)("div",On,(0,s.zw)(e),1),Un],10,En)))),128))],512),[[i.F8,l.showPagesizeData]])])]),(0,n._)("div",Mn,"Từ "+(0,s.zw)(l.startIndex)+"-"+(0,s.zw)(l.endIndex),1),(0,n._)("div",zn,[(0,n._)("button",{class:"btn-paging--prev",onClick:t[1]||(t[1]=(...e)=>r.onPrevPage&&r.onPrevPage(...e)),disabled:r.disabledPrev},Rn,8,An),(0,n._)("button",{class:"btn-paging--next",onClick:t[2]||(t[2]=(...e)=>r.onNextPage&&r.onNextPage(...e)),disabled:r.disabledNext},Fn,8,Wn)])])])}var qn={name:"MPaging",emits:["onChangePagesize","onPrevPage","onNextPage","onInitPaging","update:limit","update:offset"],props:{entityName:{type:String,default:"bản ghi",required:!1},pageSizeDefault:Number,totalRecords:{type:Number,default:0,required:!1},limit:{type:Number,default:0,required:!1},offset:{type:Number,default:0,required:!1},pageSizeData:{type:Array,default:()=>[10,20,50,100,200],required:!1}},computed:{pageSizeComputed:function(){return this.pageSizeData[this.indexPageSizeSelected]},startIndexComputed:function(){var e=this.startIndex-this.pageSizeSelected;return e<0?1:e},endIndexComputed:function(){var e=this.startIndex+this.pageSizeSelected-1;return this.totalRecords<this.pageSizeSelected||this.totalRecords<=e?this.totalRecords:e},disabledNext:function(){return this.endIndex>=this.totalRecords},disabledPrev:function(){return this.startIndex<=1}},watch:{totalRecords(e){e>0?(this.startIndex=1,this.endIndex=this.endIndexComputed):(this.startIndex=0,this.endIndex=0)},pageSizeSelected(){this.endIndex=this.endIndexComputed;let e=this.endIndex-this.startIndex+1;this.endIndex>=this.totalRecords&&e<this.pageSizeSelected&&(this.startIndex=this.startIndexComputed)}},created(){this.pageSizeSelected=this.pageSizeComputed,this.$emit("onInitPaging",this.startIndex,this.endIndex,this.pageSizeSelected)},methods:{onShowPagesizeData(){this.showPagesizeData=!0},onSelectPagesizeItem(e,t){this.indexPageSizeSelected=e,this.pageSizeSelected=t,this.showPagesizeData=!1,this.$emit("update:limit",this.pageSizeSelected),this.$emit("onChangePagesize",t)},onPrevPage(){this.startIndex=this.startIndexComputed,this.endIndex=this.endIndexComputed,this.$emit("update:offset",this.startIndex-1),this.$emit("onPrevPage",this.startIndex,this.endIndex,this.pageSizeComputed)},onNextPage(){this.startIndex+=this.pageSizeSelected,this.endIndex=this.endIndexComputed,this.$emit("update:offset",this.startIndex-1),this.$emit("onNextPage",this.startIndex,this.endIndex,this.pageSizeComputed)}},data(){return{indexPageSizeSelected:0,pageSizeSelected:null,showPagesizeData:!1,startIndex:1,endIndex:null}}};const Bn=(0,ge.Z)(qn,[["render",Zn],["__scopeId","data-v-77d331ae"]]);var Hn=Bn,Gn=(o(4415),o(3163),o(165),o(6998)),Jn=o(1325),jn=o(9907),Yn=o.n(jn),Qn=o(3209);function Kn(){let e="";for(const t of[...document.querySelectorAll('style[type="text/css"], style')])e+=t.outerHTML;return console.log("stylesHtml: ",e),e}const Xn={install(e,t={}){e.config.globalProperties.$htmlToPaper=(e,o,i=(()=>!0))=>{let n="_blank",a=["fullscreen=yes","titlebar=yes","scrollbars=yes"],s=!0,l=[],{name:r=n,specs:c=a,replace:d=s,styles:u=l}=t;console.log("localOptions",o),o&&(o.name&&(r=o.name),o.specs&&(c=o.specs),o.replace&&(d=o.replace),o.styles&&(u=o.styles)),c=c.length?c.join(","):"";const m=window.document.getElementById(e);if(!m)return void alert(`Element to print #${e} not found!`);var h="",p=document.querySelectorAll("link");if(p&&p.length>0)for(const t of p)h+=t.outerHTML;const g="",_=window.open(g,r,c,d),f=Kn();return _.document.write(`\n          <html>\n            <head>\n              <title>NVNMANH</title>\n              ${f}\n              ${h}\n            </head>\n            <body>\n              ${m.outerHTML}\n            </body>\n          </html>\n        `),setTimeout((()=>{_.document.close(),_.focus(),_.print(),_.close(),i()}),1e3),!0}}};var ea=Xn;const ta={getPreviousDay(e){const t=new Date(e.getTime());return t.setDate(e.getDate()-1),t},getRangeDateTimeInDay(e){var t=e.setHours(0,0,0,0),o=e.setHours(23,59,59,999);return{StartDateTime:new Date(t),EndDateTime:new Date(o)}},getRangeDateTimeInYesterday(e){e=this.getPreviousDay(e);var t=e.setHours(0,0,0,0),o=e.setHours(23,59,59,999);return{StartDateTime:new Date(t),EndDateTime:new Date(o)}},getRangeDateTimeWeekOfDate(e){var t=e.getDate()-e.getDay()+1,o=new Date(e.setDate(t)),i=o.addDays(6);return{StartDateTime:new Date(o.setHours(0,0,0,0)),EndDateTime:new Date(i.setHours(23,59,59,999))}},getRangeDateTimeMonthOfDate(e){var t=new Date(e.setDate(1)),o=new Date(e.getFullYear(),e.getMonth()+1,0);return{StartDateTime:new Date(t.setHours(0,0,0,0)),EndDateTime:new Date(o.setHours(23,59,59,999))}},getRangeDateTimeQuarterOfDate(e){var t=Math.ceil((e.getMonth()+1)/3),o=3*t-3,i=3*t-1,n=new Date(e.getFullYear(),o,1),a=new Date(e.getFullYear(),i+1,0);return{StartDateTime:new Date(n.setHours(0,0,0,0)),EndDateTime:new Date(a.setHours(23,59,59,999))}},getRangeDateTimeYearOfDate(e){var t=e.getFullYear(),o=new Date(t,0,1),i=new Date(t,12,0);return{StartDateTime:new Date(o.setHours(0,0,0,0)),EndDateTime:new Date(i.setHours(23,59,59,999))}}};var oa=ta;const ia=(0,i.ri)(Kt);ia.component("MPage",ho),ia.component("MTableLayout",ko),ia.component("MInput",Wo),ia.component("MCheckbox",oi),ia.component("MInputSearch",jo),ia.component("MButton",li),ia.component("MTextArea",Vi),ia.component("MCombobox",Ki),ia.component("MButtonIcon",mi),ia.component("MButtonFontIcon",bi),ia.component("MDialog",hn),ia.component("MToast",yt),ia.component("MLoading",kn),ia.component("MPaging",Hn),ia.component("MTable",Qn.eI),ia.component("MColumn",Qn.$Y),ia.config.globalProperties.commonJs=St.Z,ia.config.globalProperties.timeRange=oa,ia.config.globalProperties.debounce=Xt.Z,ia.config.globalProperties.api=eo.Z,ia.config.globalProperties.maxios=oo,ia.config.globalProperties.Enum=ee.Z,ia.config.globalProperties.hubConnection=St.Z.createHubConnection(),document.addEventListener("DOMContentLoaded",(function(){for(var e=document.getElementsByTagName("INPUT"),t=0;t<e.length;t++)e[t].oninvalid=function(e){e.target.setCustomValidity(""),e.target.validity.valid||e.target.setCustomValidity("Thông tin này không được phép để trống")},e[t].oninput=function(e){e.target.setCustomValidity("")}}));var na=!1;try{var aa=Object.defineProperty({},"passive",{get:function(){return na=!0,na}});window.addEventListener("test",null,aa)}catch(sa){console.log(sa)}na=!na||{capture:!0,passive:!0},document.addEventListener("touchstart",null,{passive:!0}),ia.use(Jn.Z,{locale:Gn.Z}),ia.use(ve.Z).use(Ae.Z).use(Yn()).use(ea),ia.mount("#app")},5679:function(e,t,o){o.d(t,{Z:function(){return Sm}});var i=o(2483),n=o(4928),a=o(9404),s=o(3396),l=o(7139);const r=e=>((0,s.dD)("data-v-baa6274e"),e=e(),(0,s.Cn)(),e),c=r((()=>(0,s._)("i",{class:"icofont-ui-add"},null,-1))),d={class:"toolbar__left"},u={class:"toolbar__right"},m=r((()=>(0,s._)("i",{class:"icofont-refresh"},null,-1))),h=[m],p={class:"table-cell org-name"},g={key:0,class:"org-name__icon org--confirm"},_=r((()=>(0,s._)("i",{class:"icofont-check-circled"},null,-1))),f=[_],v={class:"org-name__text"},b={class:"org-description"},w={class:"button-column"},k=["title","onClick"],y=r((()=>(0,s._)("i",{class:"icofont-ui-edit"},null,-1))),D=[y],C=["title","onClick"],x=r((()=>(0,s._)("i",{class:"icofont-ui-delete"},null,-1))),P=[x],I={key:0,class:"delete-info"},S={key:0,class:"delete__icon delete__icon--checked"},V=r((()=>(0,s._)("i",{class:"icofont-checked"},null,-1))),N=[V],T={key:1,class:"delete__icon delete__icon--unchecked"},E=r((()=>(0,s._)("i",{class:"icofont-spinner"},null,-1))),O=[E],U={class:"delete__text"},M={key:0},z={key:1};function A(e,t,o,i,n,a){const r=(0,s.up)("m-input-search"),m=(0,s.up)("el-table-column"),_=(0,s.up)("m-column"),y=(0,s.up)("m-table"),x=(0,s.up)("m-paging"),V=(0,s.up)("m-table-layout"),E=(0,s.up)("m-page");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(E,{title:"Danh sách doanh nghiệp",rightSlot:!0},{"header-right":(0,s.w5)((()=>[(0,s._)("button",{class:"btn btn--default btn--refresh",onClick:t[0]||(t[0]=(...e)=>a.onAddNew&&a.onAddNew(...e))},[c,(0,s.Uk)(" Thêm đơn vị ")])])),container:(0,s.w5)((()=>[(0,s.Wm)(V,null,{toolbar:(0,s.w5)((()=>[(0,s._)("div",d,[(0,s.Wm)(r,{width:"300px",placeholder:"Tìm kiếm",modelValue:n.keySearch,"onUpdate:modelValue":t[1]||(t[1]=e=>n.keySearch=e)},null,8,["modelValue"])]),(0,s._)("div",u,[(0,s._)("button",{class:"btn-icon icon icon-24 icon--mail-statistic",title:"GỬI THỐNG KÊ HÔM NAY",onClick:t[2]||(t[2]=e=>a.sentStatistic())}),(0,s._)("button",{class:"btn-icon icon icon-20 icon--backup",title:"SAO LƯU DỮ LIỆU",onClick:t[3]||(t[3]=e=>a.backupDatabase())}),(0,s._)("button",{class:"btn btn-refresh",title:"LẤY DỮ LIỆU MỚI",onClick:t[4]||(t[4]=e=>a.loadData())},h)])])),container:(0,s.w5)((()=>[(0,s.Wm)(y,{ref:"tbOrganizations",data:n.organizations,"empty-text":"Không có dữ liệu",width:"100%",height:"100%"},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{type:"selection",width:"30",fixed:"left"}),(0,s.Wm)(_,{prop:"OrganizationName",fixed:"left",label:"Tên cửa hàng"},{default:(0,s.w5)((e=>[(0,s._)("div",p,[e.row.IsConfirm?((0,s.wg)(),(0,s.iD)("span",g,f)):(0,s.kq)("",!0),(0,s._)("span",v,(0,l.zw)(e.row.OrganizationName),1)]),(0,s._)("div",b,(0,l.zw)(e.row.Description),1)])),_:1}),a.isMobile?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(_,{key:0,prop:"Address",label:"Địa chỉ"})),(0,s.Wm)(_,{width:"50",fixed:"right"},{default:(0,s.w5)((e=>[(0,s._)("div",w,[(0,s._)("button",{class:"btn--table-mini --color-edit",title:e.row.OrganizationName,onClick:t=>a.onUpdate(e.row)},D,8,k),e.row.IsConfirm?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("button",{key:0,class:"btn--table-mini --color-red",title:e.row.OrganizationName,onClick:t=>a.onDelete(e.row)},P,8,C))])])),_:1})])),_:1},8,["data"])])),footer:(0,s.w5)((()=>[(0,s.Wm)(x,{entityName:"cửa hàng",totalRecords:n.totalRecords,pageSizeData:[10,20,50,100,200],limit:n.limit,"onUpdate:limit":t[5]||(t[5]=e=>n.limit=e),offset:n.offset,"onUpdate:offset":t[6]||(t[6]=e=>n.offset=e),onOnChangePagesize:a.loadData,onOnPrevPage:a.loadData,onOnNextPage:a.loadData,onOnInitPaging:a.onInitPaging},null,8,["totalRecords","limit","offset","onOnChangePagesize","onOnPrevPage","onOnNextPage","onOnInitPaging"])])),_:1})])),footer:(0,s.w5)((()=>[])),_:1}),n.showDeleteProgress?((0,s.wg)(),(0,s.iD)("div",I,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.deleteInfos,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:"delete-item",key:t},[e.IsDeleted?((0,s.wg)(),(0,s.iD)("div",S,N)):((0,s.wg)(),(0,s.iD)("div",T,O)),(0,s._)("div",U,[e.IsDeleted?((0,s.wg)(),(0,s.iD)("span",M,"Đã xóa")):((0,s.wg)(),(0,s.iD)("span",z,"Đang xóa")),(0,s._)("span",null,(0,l.zw)(e.ObjectText),1)])])))),128))])):(0,s.kq)("",!0)],64)}o(7658);var $=o(9660),R=o(5471),W={name:"OrganizationList",components:{},emits:[],props:[],computed:{isMobile:function(){return this.innerWidth<720}},created(){this.innerWidth=window.innerWidth,window.addEventListener("resize",this.setWindownWith),this.deleteInfos_Original=JSON.stringify(this.deleteInfos),this.hubConnection.on("RecieveRemoveOrganizationInfo",((e,t)=>{for(const o of this.deleteInfos)if(o.ObjectName==e){o.IsDeleted=!0;break}t&&this.loadData()}))},watch:{keySearch:(0,$.Z)((function(){this.loadData()}),500)},methods:{setWindownWith(){var e=window.innerWidth;this.innerWidth=e},onInitPaging(e,t,o){this.limit=o,this.offset=e-1,this.loadData()},loadData(){var e=this.keySearch;this.maxios.get(`organizations/paging?limit=${this.limit}&offset=${this.offset}&key=${e||""}`).then((e=>{this.organizations=e.Data,this.totalRecords=e.TotalRecords}))},onAddNew(){Sm.push("/admin/organizations/create")},onUpdate(e){Sm.push(`/admin/organizations/${e.OrganizationId}`)},onDelete(e){this.deleteInfos=JSON.parse(this.deleteInfos_Original),this.commonJs.showConfirm(`Bạn có chắc chắn muốn xóa [<b>${e.OrganizationName}</b>] không? <br>\n        Sau khi xóa toàn bộ dữ liệu sẽ bị mất và không thể khôi phục.`,(()=>{this.showDeleteProgress=!0,this.maxios.delete(`organizations/${e.OrganizationId}`).then((()=>{setTimeout((()=>{this.showDeleteProgress=!1}),2e3)})).catch((()=>{this.showDeleteProgress=!1})),this.loadData()}))},backupDatabase(){this.commonJs.showConfirm("Thực hiện sao lưu dữ liệu? <br>\n        Quá trình có thể mất vài phút.",(()=>{this.maxios.post("organizations/backup")}))},sentStatistic(){this.commonJs.showConfirm(`Việc này sẽ thực hiện gửi báo cáo doanh thu tự động trong <b>ngày hôm nay (${R.Z.formatDate(new Date)})</b> cho toàn bộ các đơn vị. <br>\n        Quá trình có thể mất vài phút. <br>\n        Nhấn <b>[Đồng ý]</b> để tiến hành!`,(()=>{const e=new Date,t=e.getDate(),o=e.getMonth()+1,i=e.getFullYear();this.maxios.get(`organizations/statistics?date=${i}-${o}-${t}&sentEmail=true`)}))}},beforeUnmount(){this.hubConnection.off("RecieveRemoveOrganizationInfo"),window.removeEventListener("resize",this.setWindownWith)},data(){return{innerWidth:0,organizations:[],totalRecords:0,isReload:!1,keySearch:"",limit:0,offset:0,idSelected:null,showDeleteProgress:!1,deleteInfos_Original:"",deleteInfos:[{IsDeleted:!1,ObjectName:"InvoiceDetails",ObjectText:"Chi tiết hóa đơn"},{IsDeleted:!1,ObjectName:"Invoices",ObjectText:"Hóa đơn"},{IsDeleted:!1,ObjectName:"Products",ObjectText:"Sản phẩm"},{IsDeleted:!1,ObjectName:"GroupProducts",ObjectText:"Nhóm sản phẩm"},{IsDeleted:!1,ObjectName:"Units",ObjectText:"Đơn vị tính"},{IsDeleted:!1,ObjectName:"Customers",ObjectText:"Dữ liệu khách hàng"},{IsDeleted:!1,ObjectName:"CustomerGroups",ObjectText:"Nhóm khách hàng"},{IsDeleted:!1,ObjectName:"Positions",ObjectText:"Chức vụ, vị trí"},{IsDeleted:!1,ObjectName:"UserRoles",ObjectText:"Quyền User"},{IsDeleted:!1,ObjectName:"Users",ObjectText:"Người dùng"},{IsDeleted:!1,ObjectName:"Employees",ObjectText:"Dữ liệu nhân viên"},{IsDeleted:!1,ObjectName:"MSLicenses",ObjectText:"Thông tin License"},{IsDeleted:!1,ObjectName:"Organizations",ObjectText:"Thông tin đơn vị"}]}}},L=o(89);const F=(0,L.Z)(W,[["render",A],["__scopeId","data-v-baa6274e"]]);var Z=F,q=o(9242);const B=e=>((0,s.dD)("data-v-6a86a7ae"),e=e(),(0,s.Cn)(),e),H={key:0,class:"confirm-info"},G=B((()=>(0,s._)("i",{class:"icofont-check-circled"},null,-1))),J=[G],j={class:"org-container"},Y={key:0,class:"org-update"},Q=B((()=>(0,s._)("div",{class:"license__icon"},[(0,s._)("i",{class:"icofont-license"})],-1))),K=["innerHTML"],X=["innerHTML"],ee={class:"function-button"},te=B((()=>(0,s._)("i",{class:"icofont-check-circled"},null,-1))),oe=B((()=>(0,s._)("i",{class:"icofont-close-circled"},null,-1))),ie=B((()=>(0,s._)("i",{class:"icofont-certificate"},null,-1))),ne=B((()=>(0,s._)("i",{class:"icofont-close-circled"},null,-1))),ae=B((()=>(0,s._)("div",{class:"sub-title"},"Thông tin doanh nghiệp",-1))),se={class:"m-row"},le={class:"m-col",style:{width:"100px"}},re=B((()=>(0,s._)("div",{class:"m-col"},null,-1))),ce={class:"m-row"},de={class:"m-col flex-1"},ue={class:"m-row"},me={class:"m-col"},he={class:"m-row"},pe={class:"m-col"},ge={class:"m-row"},_e={class:"m-col"},fe=B((()=>(0,s._)("div",{class:"m-col"},null,-1))),ve={class:"m-row"},be={class:"m-col"},we={class:"m-col"},ke={class:"m-row"},ye={class:"m-col"},De={class:"m-col"},Ce={class:"m-row"},xe={key:0,class:"account-container"},Pe=B((()=>(0,s._)("div",{class:"sub-title"},"Thông tin tài khoản",-1))),Ie={class:"m-row"},Se={class:"m-col",style:{width:"100px"}},Ve=B((()=>(0,s._)("div",{class:"m-col flex-1"},null,-1))),Ne={class:"m-row"},Te={class:"m-col",style:{width:"100px"}},Ee={class:"m-col flex-1"},Oe={class:"footer__button"},Ue=B((()=>(0,s._)("i",{class:"icofont-swoosh-left"},null,-1))),Me=B((()=>(0,s._)("span",null,"Quay lại",-1))),ze=["disabled"],Ae=B((()=>(0,s._)("i",{class:"icofont-ui-check"},null,-1))),$e=B((()=>(0,s._)("span",null,"Lưu",-1)));function Re(e,t,o,i,n,a){const r=(0,s.up)("m-input"),c=(0,s.up)("m-text-area"),d=(0,s.up)("m-page"),u=(0,s.up)("RenewLicense");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(d,{title:n.organization.OrganizationName,rightSlot:!0},{"header-right":(0,s.w5)((()=>[n.organization.IsConfirm?((0,s.wg)(),(0,s.iD)("div",H,J)):(0,s.kq)("",!0)])),container:(0,s.w5)((()=>[(0,s._)("form",null,[(0,s._)("div",j,[o.id?((0,s.wg)(),(0,s.iD)("div",Y,[(0,s._)("div",{class:(0,l.C_)(["license-info",{"license--limitted":!a.licenseDate}])},[Q,a.licenseDate?((0,s.wg)(),(0,s.iD)("div",{key:0,class:"license__content",innerHTML:n.licenseInfoHTML},null,8,K)):((0,s.wg)(),(0,s.iD)("div",{key:1,class:"license__content",innerHTML:n.licenseInfoHTML},null,8,X))],2),(0,s._)("div",ee,[n.organization.IsConfirm?((0,s.wg)(),(0,s.iD)("button",{key:1,class:"btn btn--remove",onClick:t[1]||(t[1]=(0,q.iM)((e=>a.onConfirmOrganization(!1)),["prevent"]))},[oe,(0,s.Uk)(" Bỏ xác nhận ")])):((0,s.wg)(),(0,s.iD)("button",{key:0,class:"btn btn--default",onClick:t[0]||(t[0]=(0,q.iM)((e=>a.onConfirmOrganization(!0)),["prevent"]))},[te,(0,s.Uk)(" Xác nhận doanh nghiệp ")])),(0,s._)("button",{class:"btn btn--success",onClick:t[2]||(t[2]=(0,q.iM)(((...e)=>a.onRenewVIP&&a.onRenewVIP(...e)),["prevent"]))},[ie,(0,s.Uk)(" Gia hạn VIP ")]),a.licenseDate?((0,s.wg)(),(0,s.iD)("button",{key:2,class:"btn btn--remove",onClick:t[3]||(t[3]=(0,q.iM)(((...e)=>a.onCancelVIP&&a.onCancelVIP(...e)),["prevent"]))},[ne,(0,s.Uk)(" Hủy VIP ")])):(0,s.kq)("",!0)])])):(0,s.kq)("",!0),ae,(0,s._)("div",se,[(0,s._)("div",le,[(0,s.Wm)(r,{label:"Mã",ref:"txtOrganizationCode",modelValue:n.organization.OrganizationCode,"onUpdate:modelValue":t[4]||(t[4]=e=>n.organization.OrganizationCode=e),required:!0,disabled:!0,isFocus:!1},null,8,["modelValue"])]),re]),(0,s._)("div",ce,[(0,s._)("div",de,[(0,s.Wm)(r,{label:"Tên doanh nghiệp",ref:"txtOrganizationName",modelValue:n.organization.OrganizationName,"onUpdate:modelValue":t[5]||(t[5]=e=>n.organization.OrganizationName=e),required:!0,isDisabled:!1,isFocus:!0},null,8,["modelValue"])])]),(0,s._)("div",ue,[(0,s._)("div",me,[(0,s.Wm)(r,{label:"Lĩnh vực kinh doanh (VD: Tạp hóa/ Dịch vụ giải trí)",ref:"txtOrganizationCode",modelValue:n.organization.Description,"onUpdate:modelValue":t[6]||(t[6]=e=>n.organization.Description=e),isDisabled:!1},null,8,["modelValue"])])]),(0,s._)("div",he,[(0,s._)("div",pe,[(0,s.Wm)(r,{label:"Slogan (khẩu hiệu)",ref:"txtSlogan",modelValue:n.organization.Slogan,"onUpdate:modelValue":t[7]||(t[7]=e=>n.organization.Slogan=e),isDisabled:!1},null,8,["modelValue"])])]),(0,s._)("div",ge,[(0,s._)("div",_e,[(0,s.Wm)(r,{label:"Chủ doanh nghiệp/ đại lý",ref:"txtFullName",modelValue:n.organization.OwnerName,"onUpdate:modelValue":t[8]||(t[8]=e=>n.organization.OwnerName=e),isDisabled:!1,onlyNumberChar:!1,required:!0},null,8,["modelValue"])]),fe]),(0,s._)("div",ve,[(0,s._)("div",be,[(0,s.Wm)(r,{label:"Số điện thoại",modelValue:n.organization.PhoneNumber,"onUpdate:modelValue":t[9]||(t[9]=e=>n.organization.PhoneNumber=e),ref:"txtPhoneNumber",isDisabled:!1,required:!0,onlyNumberChar:!0},null,8,["modelValue"])]),(0,s._)("div",we,[(0,s.Wm)(r,{label:"Email",ref:"txtEmail",modelValue:n.organization.Email,"onUpdate:modelValue":t[10]||(t[10]=e=>n.organization.Email=e),isDisabled:!1,required:!0},null,8,["modelValue"])])]),(0,s._)("div",ke,[(0,s._)("div",ye,[(0,s.Wm)(r,{label:"Giấy phép hoạt động kinh doanh (nếu có)",modelValue:n.organization.BusinessLicense,"onUpdate:modelValue":t[11]||(t[11]=e=>n.organization.BusinessLicense=e),isDisabled:!1,onlyNumberChar:!0},null,8,["modelValue"])]),(0,s._)("div",De,[(0,s.Wm)(r,{label:"Website",modelValue:n.organization.Website,"onUpdate:modelValue":t[12]||(t[12]=e=>n.organization.Website=e),isDisabled:!1},null,8,["modelValue"])])]),(0,s._)("div",Ce,[(0,s.Wm)(c,{label:"Địa chỉ",modelValue:n.organization.Address,"onUpdate:modelValue":t[13]||(t[13]=e=>n.organization.Address=e)},null,8,["modelValue"])])]),a.formMode==e.Enum.FormMode.ADD?((0,s.wg)(),(0,s.iD)("div",xe,[Pe,(0,s._)("div",Ie,[(0,s._)("div",Se,[(0,s.Wm)(r,{label:"Tài khoản đăng nhập",ref:"txtUserName",modelValue:n.user.UserName,"onUpdate:modelValue":t[14]||(t[14]=e=>n.user.UserName=e),required:!0,isFocus:!1},null,8,["modelValue"])]),Ve]),(0,s._)("div",Ne,[(0,s._)("div",Te,[(0,s.Wm)(r,{label:"Mật khẩu",ref:"txtPassword",type:"password",modelValue:n.user.Password,"onUpdate:modelValue":t[15]||(t[15]=e=>n.user.Password=e),required:!0},null,8,["modelValue"])]),(0,s._)("div",Ee,[(0,s.Wm)(r,{label:"Xác nhận mật khẩu",type:"password",ref:"txtRePassword",modelValue:n.user.RePassword,"onUpdate:modelValue":t[16]||(t[16]=e=>n.user.RePassword=e),required:!0},null,8,["modelValue"])])])])):(0,s.kq)("",!0)])])),footer:(0,s.w5)((()=>[(0,s._)("div",Oe,[(0,s._)("button",{class:"btn btn--success",onClick:t[17]||(t[17]=(...e)=>a.onClose&&a.onClose(...e))},[Ue,(0,s.Uk)(),Me]),(0,s._)("button",{class:"btn btn--default mg-left-10",disabled:!a.isChange,onClick:t[18]||(t[18]=(...e)=>a.onSave&&a.onSave(...e))},[Ae,(0,s.Uk)(),$e],8,ze)])])),_:1},8,["title"]),n.showVIPOption?((0,s.wg)(),(0,s.j4)(u,{key:0,onOnClose:a.onDoneRenew,organization:n.organization},null,8,["onOnClose","organization"])):(0,s.kq)("",!0)],64)}const We=e=>((0,s.dD)("data-v-031d2144"),e=e(),(0,s.Cn)(),e),Le={class:"form__button"},Fe=["disabled"],Ze=We((()=>(0,s._)("i",{class:"icofont-ui-rate-add"},null,-1))),qe=We((()=>(0,s._)("button",{class:"btn btn--close"},[(0,s._)("i",{class:"icofont-ui-close"}),(0,s.Uk)(" Hủy ")],-1)));function Be(e,t,o,i,n,a){const l=(0,s.up)("m-combobox"),r=(0,s.up)("m-dialog");return(0,s.wg)(),(0,s.j4)(r,{title:"Gia hạn VIP",onOnClose:a.onClose},{content:(0,s.w5)((()=>[(0,s.Wm)(l,{label:"Thời hạn VIP",modelValue:n.license.VIPOption,"onUpdate:modelValue":t[0]||(t[0]=e=>n.license.VIPOption=e),url:"/dictionarys/vip-options",propText:"Text",propValue:"Value",onOnSelected:a.onSelectVIP},null,8,["modelValue","onOnSelected"])])),footer:(0,s.w5)((()=>[(0,s._)("div",Le,[(0,s._)("button",{class:"btn btn--default",onClick:t[1]||(t[1]=(...e)=>a.onRenewVIP&&a.onRenewVIP(...e)),disabled:!n.vipSelected},[Ze,(0,s.Uk)(" Gia hạn ")],8,Fe),qe])])),_:1},8,["onOnClose"])}var He={name:"RenewLicense",props:["organization"],emits:["onClose"],created(){},methods:{onRenewVIP(){this.license.OrganizationId=this.organization.OrganizationId,this.license.VIPOption=this.vipSelected.Value,this.commonJs.showConfirm(`Bạn có chắc chắn muốn gia hạn <b>${this.vipSelected?.Text} VIP</b> cho <b>${this.organization.OrganizationName}</b>?`,(()=>{this.maxios.post(`organizations/${this.organization.OrganizationId}/licenses`,this.license).then((()=>{this.$emit("onClose")}))}))},onSelectVIP(e,t,o){this.vipSelected=o},onClose(){this.$emit("onClose")}},data(){return{license:{},vipSelected:null}}};const Ge=(0,L.Z)(He,[["render",Be],["__scopeId","data-v-031d2144"]]);var Je=Ge,je={name:"OrganizationSettings",components:{RenewLicense:Je},emits:["onClose"],props:["id"],computed:{formMode:function(){return this.id?a.Z.FormMode.UPDATE:a.Z.FormMode.ADD},licenseDate:function(){var e=this.organization.MSLicense;if(e&&e.length>0){var t=this.commonJs.formatDateTime(e[0].ExpiredDate);return t}return null},licenseInfo:function(){let e="";return e=this.licenseDate?`<b>${this.organization.OrganizationName}</b> là đối tác VIP của Mạnh Software.\n              Hạn đến: ${this.licenseDate}.`:`<b>${this.organization.OrganizationName}</b> chưa đăng ký thành viên VIP, một số\n                          chức năng có thể bị giới hạn.<br>\n                          Vui lòng liên hệ:\n                          <li>Công ty Phần mềm Mạnh Software.</li>\n                          <li>SĐT: <a href="tel:0961179969">0961.179.969 (Mr Mạnh)</a></li>\n                          <li>Email: <a href="mail:nmanh.com@gmail.com">nmanh.com@gmail.com</a></li>\n                          <li>Địa chỉ: Tòa nhà Technosoft, ngõ 15 Duy Tân, Cầu Giấy, Hà nội</li>`,e},isChange:function(){var e=JSON.stringify(this.organization);return e!=this.organizationOrigilJSON}},created(){this.id?this.loadData():this.maxios.get("organizations/new-code").then((e=>{this.organization.OrganizationCode=e}))},methods:{loadData(){var e=this.id;e?this.maxios.get(`organizations/${e}`).then((e=>{this.organization=e,this.licenseInfoHTML=this.licenseInfo,this.organizationOrigilJSON=JSON.stringify(e)})):Sm.push("/")},onClose(){Sm.push("/admin")},onDoneRenew(){this.showVIPOption=!1,this.loadData()},onSave(){this.formMode==a.Z.FormMode.ADD&&(this.user.Organization=this.organization,this.user.FullName=this.organization.OwnerName,this.user.Email=this.organization.Email,this.user.PhoneNumber=this.organization.PhoneNumber),this.validate()&&(this.formMode==a.Z.FormMode.ADD?this.maxios.post("accounts/register",this.user,this.setFocusFirstInputErrors).then((()=>{Sm.push("/admin")})).catch((e=>{console.log(e);const t=e.status;if(400==t){let t=e.errors,n=Object.keys(t);var o=[];for(const e of n){var i=t[e];switch(e){case"UserName":this.stepRegister=1,this.$refs.txtUserName.setInValidState(!0,i),o.push(this.$refs.txtUserName);break;case"Password":this.stepRegister=1,this.$refs.txtPassword.setInValidState(!0,i),o.push(this.$refs.txtPassword);break;case"RePassword":this.stepRegister=1,this.$refs.txtRePassword.setInValidState(!0,i),o.push(this.$refs.txtRePassword);break;case"FullName":this.stepRegister=1,this.$refs.txtFullName.setInValidState(!0,i),o.push(this.$refs.txtFullName);break;case"Mobile":this.stepRegister=1,this.$refs.txtUserPhoneNumber.setInValidState(!0,i),o.push(this.$refs.txtUserPhoneNumber);break;case"Email":this.stepRegister=2,this.$refs.txtEmail.setInValidState(!0,i),o.push(this.$refs.txtEmail);break;case"OrganizationName":this.stepRegister=2,this.$refs.txtOrganizationName.setInValidState(!0,i),o.push(this.$refs.txtOrganizationName);break;default:break}}o.length>0&&(this.propFirstNotValid=o[0])}})):this.maxios.put(`organizations/${this.organization.OrganizationId}`,this.organization).then((()=>{Sm.push("/admin")})))},validate(){var e=[],t=[];if(!this.commonJs.checkRequired(this.organization.OrganizationCode)){let o="<b>Mã doanh nghiệp</b> không được để trống.";e.push(o),this.$refs.txtOrganizationCode.setInValidState(!0,o),t.push(this.$refs.txtOrganizationCode)}if(!this.commonJs.checkRequired(this.organization.OrganizationName)){let o="<b>Tên doanh nghiệp</b> không được để trống.";e.push(o),t.push(this.$refs.txtOrganizationName),this.$refs.txtOrganizationName.setInValidState(!0,o)}if(!this.commonJs.checkRequired(this.organization.PhoneNumber)){let o="<b>Số điện thoại</b> không được để trống.";e.push(o),t.push(this.$refs.txtPhoneNumber),this.$refs.txtPhoneNumber.setInValidState(!0,o)}if(!this.commonJs.checkRequired(this.organization.Email)){let o="<b>Email</b> không được để trống.";e.push(o),t.push(this.$refs.txtEmail),this.$refs.txtEmail.setInValidState(!0,o)}if(!this.commonJs.checkEmailFormat(this.organization.Email)){let o="<b>Email</b> không đúng định dạng.";e.push(o),t.push(this.$refs.txtEmail),this.$refs.txtEmail.setInValidState(!0,o)}if(this.formMode==a.Z.FormMode.ADD){if(!this.commonJs.checkRequired(this.user.UserName)){let o="<b>Tài khoản</b> không được để trống.";e.push(o),this.$refs.txtUserName.setInValidState(!0,o),t.push(this.$refs.txtUserName)}if(this.commonJs.checkRequired(this.user.Password)){if(this.user.Password!=this.user.RePassword){let o="<b>Mật khẩu xác nhận</b> không khớp.";e.push(o),t.push(this.$refs.txtRePassword),this.$refs.txtRePassword.setInValidState(!0,o)}}else{let o="<b>Mật khẩu</b> không được để trống.";e.push(o),t.push(this.$refs.txtPassword),this.$refs.txtPassword.setInValidState(!0,o)}if(!this.commonJs.checkRequired(this.user.FullName)){let o="<b>Họ và tên</b> không được để trống.";e.push(o),this.$refs.txtFullName.setInValidState(!0,o),t.push(this.$refs.txtFullName)}if(!this.commonJs.checkRequired(this.user.PhoneNumber)){let o="<b>Số điện thoại</b> không được để trống.";e.push(o),this.$refs.txtPhoneNumber.setInValidState(!0,o),t.push(this.$refs.txtPhoneNumber)}}return!(e.length>0)||(this.commonJs.showMessenger({title:"Dữ liệu không hợp lệ",msg:e,type:a.Z.MsgType.Error,confirm:()=>{t.length>0&&t[0].setFocus()}}),!1)},onConfirmOrganization(e){this.commonJs.showConfirm("Khi doanh nghiệp được xác nhận, doanh nghiệp này sẽ không thể bị xóa khỏi hệ thống.",(()=>{this.maxios.patch(`organizations/${this.organization.OrganizationId}`,{IsConfirm:e},(()=>{this.loadData()}))}))},onRenewVIP(){this.showVIPOption=!0},onCancelVIP(){this.commonJs.showConfirm("Khi hủy thành viên VIP, doanh nghiệp sẽ không thể sử dụng các tính năng trong hạng mục VIP.",(()=>{this.maxios.delete(`organizations/${this.organization.OrganizationId}/licenses`,this.license).then((()=>{this.loadData()}))}))},setFocusFirstInputErrors(){this.propFirstNotValid&&this.$nextTick((function(){this.propFirstNotValid.setFocus()}))}},data(){return{user:{},organization:{},licenseInfoHTML:"",organizationOrigilJSON:null,propFirstNotValid:null,showVIPOption:!1}}};const Ye=(0,L.Z)(je,[["render",Re],["__scopeId","data-v-6a86a7ae"]]);var Qe=Ye;const Ke=e=>((0,s.dD)("data-v-6e086ffe"),e=e(),(0,s.Cn)(),e),Xe=Ke((()=>(0,s._)("i",{class:"icofont-ui-add"},null,-1))),et={class:"toolbar__left"},tt={class:"toolbar__right"},ot=Ke((()=>(0,s._)("i",{class:"icofont-refresh"},null,-1))),it=[ot],nt={class:"button-column"},at=["title","onClick"],st=Ke((()=>(0,s._)("i",{class:"icofont-ui-edit"},null,-1))),lt=[st],rt=["title","onClick"],ct=Ke((()=>(0,s._)("i",{class:"icofont-ui-delete"},null,-1))),dt=[ct];function ut(e,t,o,i,n,a){const r=(0,s.up)("m-input-search"),c=(0,s.up)("m-column"),d=(0,s.up)("m-table"),u=(0,s.up)("m-paging"),m=(0,s.up)("m-table-layout"),h=(0,s.up)("m-page"),p=(0,s.up)("employee-detail");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(h,{title:"QUẢN LÝ NHÂN VIÊN",rightSlot:!0},{"header-right":(0,s.w5)((()=>[(0,s._)("button",{class:"btn btn--default btn--refresh",onClick:t[0]||(t[0]=(...e)=>a.onAddNew&&a.onAddNew(...e))},[Xe,(0,s.Uk)(" Thêm mới ")])])),container:(0,s.w5)((()=>[(0,s.Wm)(m,null,{toolbar:(0,s.w5)((()=>[(0,s._)("div",et,[(0,s.Wm)(r,{width:"200px",placeholder:"Tìm kiếm",modelValue:n.keySearch,"onUpdate:modelValue":t[1]||(t[1]=e=>n.keySearch=e)},null,8,["modelValue"])]),(0,s._)("div",tt,[(0,s._)("button",{class:"btn btn-refresh",onClick:t[2]||(t[2]=e=>a.loadData())},it)])])),container:(0,s.w5)((()=>[(0,s.Wm)(d,{ref:"tbListDocument",data:n.employees,"empty-text":"Không có dữ liệu",width:"100%",height:"100%"},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{prop:"FullName",label:"#",width:"68px"},{default:(0,s.w5)((e=>[(0,s._)("div",{class:"avatar",style:(0,l.j5)({"background-image":`url(${e.row.AvatarFullPath||"https://file.nmanh.com/e-contact/Content/imgs/avatar.png"})`})},null,4)])),_:1}),(0,s.Wm)(c,{prop:"FullName",label:"Họ và tên"}),(0,s.Wm)(c,{label:"Số điện thoại"},{default:(0,s.w5)((e=>[(0,s._)("div",null,(0,l.zw)(e.row.Mobile),1)])),_:1}),(0,s.Wm)(c,{width:"50",fixed:"right"},{default:(0,s.w5)((e=>[(0,s._)("div",nt,[(0,s._)("button",{class:"btn--table-mini --color-edit",title:e.row.FullName,onClick:t=>a.onUpdate(e.row)},lt,8,at),(0,s._)("button",{class:"btn--table-mini --color-red",title:e.row.FullName,onClick:t=>a.onDelete(e.row)},dt,8,rt)])])),_:1})])),_:1},8,["data"])])),footer:(0,s.w5)((()=>[(0,s.Wm)(u,{entityName:"Nhân viên",totalRecords:n.totalRecords,pageSizeData:[10,20,50,100,200],pageSizeDefault:20,limit:n.limit,"onUpdate:limit":t[3]||(t[3]=e=>n.limit=e),offset:n.offset,"onUpdate:offset":t[4]||(t[4]=e=>n.offset=e),onOnChangePagesize:a.loadData,onOnPrevPage:a.loadData,onOnNextPage:a.loadData,onOnInitPaging:a.onInitPaging},null,8,["totalRecords","limit","offset","onOnChangePagesize","onOnPrevPage","onOnNextPage","onOnInitPaging"])])),_:1})])),footer:(0,s.w5)((()=>[])),_:1}),n.showDetail?((0,s.wg)(),(0,s.j4)(p,{key:0,onOnClose:a.resetDefault,id:n.employeeUpdateId,onOnSaveSuccess:a.onSaveSuccess},null,8,["onOnClose","id","onOnSaveSuccess"])):(0,s.kq)("",!0)],64)}const mt=e=>((0,s.dD)("data-v-7ca5ba8c"),e=e(),(0,s.Cn)(),e),ht={id:"frm-detail"},pt={class:"form-group"},gt={class:"m-row"},_t={class:"m-col"},ft={class:"m-col"},vt={class:"m-row"},bt={class:"m-col"},wt=mt((()=>(0,s._)("label",{for:""},"Ngày sinh:",-1))),kt={class:"m-col"},yt={class:"m-row"},Dt={class:"m-col"},Ct={class:"m-col"},xt={class:"m-row"},Pt={class:"m-col"},It=mt((()=>(0,s._)("div",{class:"m-col"},null,-1))),St={class:"m-row"},Vt={class:"form-group"},Nt={class:"m-row"},Tt={class:"m-col"},Et={class:"m-col"},Ot=mt((()=>(0,s._)("label",{for:""},"Ngày bắt đầu làm việc:",-1))),Ut={class:"m-row"},Mt={class:"m-col"},zt={class:"m-col"},At={class:"m-row"},$t={class:"m-col"},Rt=mt((()=>(0,s._)("div",{class:"m-col"},null,-1))),Wt={class:"m-row"},Lt={class:"m-col"},Ft={class:"m-col"},Zt={class:"m-row"},qt={class:"m-col"},Bt={class:"m-col"},Ht={key:0,class:"m-row"},Gt={class:"m-col"},Jt={class:"m-col"},jt={key:1,class:"m-row"},Yt=mt((()=>(0,s._)("div",{class:"note"},[(0,s._)("ul",null,[(0,s._)("li",null," Mặc định tài khoản sẽ là số điện thoại của nhân viên. Bạn có thể nhập tài khoản khác theo ý muốn. "),(0,s._)("li",null,[(0,s.Uk)(" Nếu bạn không thiết lập mật khẩu, thì mật khẩu mặc định sẽ là: "),(0,s._)("b",null,"12345678")])])],-1))),Qt=[Yt],Kt={key:2,class:"m-row"},Xt={class:"permission-info"},eo=mt((()=>(0,s._)("label",{for:""},"Thông tin quyền hạn của tài khoản: ",-1)));function to(e,t,o,i,n,a){const r=(0,s.up)("m-input"),c=(0,s.up)("el-date-picker"),d=(0,s.up)("m-combobox"),u=(0,s.up)("el-tab-pane"),m=(0,s.up)("el-tabs"),h=(0,s.up)("m-dialog");return(0,s.wg)(),(0,s.j4)(h,{title:"Thông tin nhân viên",onOnClose:t[24]||(t[24]=t=>e.$emit("onClose"))},{content:(0,s.w5)((()=>[(0,s._)("form",ht,[(0,s.Wm)(m,{modelValue:n.tabActive,"onUpdate:modelValue":t[19]||(t[19]=e=>n.tabActive=e),type:"border-card",onTabClick:a.tabOnClick},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{label:"Thông tin chung",name:"general"},{default:(0,s.w5)((()=>[(0,s._)("div",pt,[(0,s._)("div",gt,[(0,s._)("div",_t,[(0,s.Wm)(r,{label:"Mã nhân viên",ref:"txtEmployeeCode",modelValue:n.employee.EmployeeCode,"onUpdate:modelValue":t[0]||(t[0]=e=>n.employee.EmployeeCode=e),validated:n.isValidated,required:!0,isDisabled:!1,isFocus:!0},null,8,["modelValue","validated"])]),(0,s._)("div",ft,[(0,s.Wm)(r,{label:"Họ và tên",ref:"txtFullName",validated:n.isValidated,modelValue:n.employee.FullName,"onUpdate:modelValue":t[1]||(t[1]=e=>n.employee.FullName=e),required:!0},null,8,["validated","modelValue"])])]),(0,s._)("div",vt,[(0,s._)("div",bt,[wt,(0,s.Wm)(c,{modelValue:n.employee.DateOfBirth,"onUpdate:modelValue":t[2]||(t[2]=e=>n.employee.DateOfBirth=e),type:"date",format:"DD-MM-YYYY"},null,8,["modelValue"])]),(0,s._)("div",kt,[(0,s.Wm)(d,{label:"Giới tính",modelValue:n.employee.Gender,"onUpdate:modelValue":t[3]||(t[3]=e=>n.employee.Gender=e),url:"/dictionarys/gender",propText:"Text",propValue:"Value"},null,8,["modelValue"])])]),(0,s._)("div",yt,[(0,s._)("div",Dt,[(0,s.Wm)(r,{label:"Điện thoại",modelValue:n.employee.Mobile,"onUpdate:modelValue":t[4]||(t[4]=e=>n.employee.Mobile=e),type:"tel",ref:"txtMobile",validated:n.isValidated,required:!0,onlyNumberChar:!0},null,8,["modelValue","validated"])]),(0,s._)("div",Ct,[(0,s.Wm)(r,{label:"Email",modelValue:n.employee.Email,"onUpdate:modelValue":t[5]||(t[5]=e=>n.employee.Email=e)},null,8,["modelValue"])])]),(0,s._)("div",xt,[(0,s._)("div",Pt,[(0,s.Wm)(r,{label:"Số CMTND",modelValue:n.employee.IdentityNumber,"onUpdate:modelValue":t[6]||(t[6]=e=>n.employee.IdentityNumber=e),required:!1},null,8,["modelValue"])]),It]),(0,s._)("div",St,[(0,s.Wm)(r,{label:"Địa chỉ",modelValue:n.employee.Address,"onUpdate:modelValue":t[7]||(t[7]=e=>n.employee.Address=e),onOnBlur:a.addressOnBlur},null,8,["modelValue","onOnBlur"])])])])),_:1}),(0,s.Wm)(u,{label:"Công việc",name:"work"},{default:(0,s.w5)((()=>[(0,s._)("div",Vt,[(0,s._)("div",Nt,[(0,s._)("div",Tt,[(0,s.Wm)(d,{label:"Vị trí",ref:"cbxPosition",modelValue:n.employee.PositionId,"onUpdate:modelValue":t[8]||(t[8]=e=>n.employee.PositionId=e),url:"/positions",propText:"PositionName",propValue:"PositionId"},null,8,["modelValue"])]),(0,s._)("div",Et,[Ot,(0,s.Wm)(c,{modelValue:n.employee.JoinDate,"onUpdate:modelValue":t[9]||(t[9]=e=>n.employee.JoinDate=e),type:"date",format:"DD-MM-YYYY"},null,8,["modelValue"])])]),(0,s._)("div",Ut,[(0,s._)("div",Mt,[(0,s.Wm)(d,{label:"Tình trạng công việc hiện tại",modelValue:n.employee.WorkStatus,"onUpdate:modelValue":t[10]||(t[10]=e=>n.employee.WorkStatus=e),url:"/dictionarys/work-status",propText:"Text",propValue:"Value"},null,8,["modelValue"])]),(0,s._)("div",zt,[(0,s.Wm)(r,{label:"Mức lương",onlyNumberChar:!0,modelValue:n.employee.Salary,"onUpdate:modelValue":t[11]||(t[11]=e=>n.employee.Salary=e)},null,8,["modelValue"])])]),(0,s._)("div",At,[(0,s._)("div",$t,[(0,s.Wm)(r,{label:"Số tài khoản ngân hàng",modelValue:n.employee.BankAccountNumber,"onUpdate:modelValue":t[12]||(t[12]=e=>n.employee.BankAccountNumber=e)},null,8,["modelValue"])]),Rt]),(0,s._)("div",Wt,[(0,s._)("div",Lt,[(0,s.Wm)(r,{label:"Ngân hàng",modelValue:n.employee.BankName,"onUpdate:modelValue":t[13]||(t[13]=e=>n.employee.BankName=e)},null,8,["modelValue"])]),(0,s._)("div",Ft,[(0,s.Wm)(r,{label:"Chi nhánh ngân hàng",modelValue:n.employee.BankBranchName,"onUpdate:modelValue":t[14]||(t[14]=e=>n.employee.BankBranchName=e),onOnBlur:a.bankBranchOnBlur},null,8,["modelValue","onOnBlur"])])])])])),_:1}),(0,s.Wm)(u,{label:"Tài khoản",name:"account"},{default:(0,s.w5)((()=>[(0,s._)("div",Zt,[(0,s._)("div",qt,[(0,s.Wm)(r,{label:"Tài khoản đăng nhập",modelValue:n.employee.User.UserName,"onUpdate:modelValue":t[15]||(t[15]=e=>n.employee.User.UserName=e),ref:"txtUserName",required:!0,validated:n.isValidated},null,8,["modelValue","validated"])]),(0,s._)("div",Bt,[(0,s.Wm)(d,{label:"Quyền trên Website",onOnSelected:a.onChangePermission,modelValue:n.employee.RoleId,"onUpdate:modelValue":t[16]||(t[16]=e=>n.employee.RoleId=e),url:"/roles",propText:"OtherName",propValue:"RoleId"},null,8,["onOnSelected","modelValue"])])]),n.formMode==e.Enum.FormMode.ADD?((0,s.wg)(),(0,s.iD)("div",Ht,[(0,s._)("div",Gt,[(0,s.Wm)(r,{label:"Mật khẩu",type:"password",ref:"txtPassword",required:!0,validated:n.isValidated,modelValue:n.employee.User.Password,"onUpdate:modelValue":t[17]||(t[17]=e=>n.employee.User.Password=e)},null,8,["validated","modelValue"])]),(0,s._)("div",Jt,[(0,s.Wm)(r,{label:"Xác nhận mật khẩu",type:"password",ref:"txtRePassword",required:!0,validated:n.isValidated,modelValue:n.employee.User.RePassword,"onUpdate:modelValue":t[18]||(t[18]=e=>n.employee.User.RePassword=e)},null,8,["validated","modelValue"])])])):(0,s.kq)("",!0),n.formMode==e.Enum.FormMode.ADD?((0,s.wg)(),(0,s.iD)("div",jt,Qt)):(0,s.kq)("",!0),n.role?((0,s.wg)(),(0,s.iD)("div",Kt,[(0,s._)("div",Xt,[eo,(0,s._)("li",null,(0,l.zw)(n.role.OtherName)+": "+(0,l.zw)(n.role.Description),1)])])):(0,s.kq)("",!0)])),_:1})])),_:1},8,["modelValue","onTabClick"]),(0,s._)("input",{hidden:"",type:"file",ref:"fileAvatar",name:"avatar",onChange:t[20]||(t[20]=(...e)=>a.fileAvatarOnChange&&a.fileAvatarOnChange(...e)),id:"fileAvatar"},null,544)])])),footer:(0,s.w5)((()=>[(0,s._)("button",{class:"btn btn--default",onClick:t[21]||(t[21]=(...e)=>a.submit&&a.submit(...e)),style:{order:"2"}},"Lưu"),(0,s._)("button",{class:"btn btn--close",onClick:t[22]||(t[22]=t=>e.$emit("onClose")),style:{order:"1"},onBlur:t[23]||(t[23]=(...e)=>a.btnCloseOnBlur&&a.btnCloseOnBlur(...e))}," Hủy ",32)])),_:1})}var oo={name:"EmployeeDetail",emits:["onClose","onSaveSuccess"],props:{id:{type:String,default:null,required:!1}},created(){this.id?(this.formMode=a.Z.FormMode.UPDATE,this.maxios.get(`employees/${this.id}`).then((e=>{this.employee=e,console.log("res",e)}))):(this.getNewCode(),this.employee.RoleId="2c1f24fc-4f7b-11ed-9483-00163e06abee")},watch:{},methods:{btnCloseOnBlur(){this.tabActive="general",this.$nextTick((function(){this.$refs.txtFullName.setFocus()}))},addressOnBlur(){this.tabActive="work",this.$nextTick((function(){this.$refs.cbxPosition.setFocus()}))},bankBranchOnBlur(){this.tabActive="account",this.$nextTick((function(){this.$refs.txtUserName.setFocus()}))},tabOnClick(e){var t=e.props.name;switch(t){case"general":this.$nextTick((function(){this.$refs.txtFullName.setFocus()}));break;case"work":this.$nextTick((function(){this.$refs.cbxPosition.setFocus()}));break;case"account":this.$nextTick((function(){this.$refs.txtUserName.setFocus()}));break;default:break}},submit(){var e=this.onValidate();if(e){var t=new FormData,o=this.$refs.fileAvatar.files[0];o&&t.append("file",o),t.append("employee",JSON.stringify(this.employee)),this.id?this.maxios.put("employees/update",t).then((()=>{this.$emit("onClose"),this.$emit("onSaveSuccess")})):this.maxios.post("employees/create",t).then((()=>{this.$emit("onClose"),this.$emit("onSaveSuccess")}))}},onValidate(){var e=[];if(this.commonJs.checkRequired(this.employee.EmployeeCode)||(e.push("Mã nhân viên không được phép để trống."),this.inputInvalids.push(this.$refs.txtEmployeeCode),this.tabActive="general"),this.commonJs.checkRequired(this.employee.FullName)||(e.push("Họ tên nhân viên không được phép để trống."),this.inputInvalids.push(this.$refs.txtFullName),this.tabActive="general"),this.commonJs.checkRequired(this.employee.Mobile)||(e.push("Số điện thoại nhân viên không được phép để trống."),this.inputInvalids.push(this.$refs.txtMobile),this.tabActive="general"),this.commonJs.checkRequired(this.employee.User?.UserName)){var t=/^[a-zA-Z0-9]+$/;const o=this.employee.User?.UserName.match(t);o||(0==e.length&&this.$nextTick((()=>{this.tabActive="account"})),e.push("Tên tài khoản không được chứa các kỹ tự đặc biệt."),this.inputInvalids.push(this.$refs.txtUserName))}else 0==e.length&&this.$nextTick((()=>{this.tabActive="account"})),e.push("Tài khoản không được phép để trống."),this.inputInvalids.push(this.$refs.txtUserName);if(this.$refs.txtPassword&&(this.commonJs.checkRequired(this.employee.User?.Password)||(0==e.length&&this.$nextTick((()=>{this.tabActive="account"})),e.push("Mật khẩu không được phép để trống."),this.inputInvalids.push(this.$refs.txtPassword))),e.length>0){for(const e of this.inputInvalids)e&&e.setInValidState(!0);return this.commonJs.showMessenger({title:"Dữ liệu không hợp lệ",msg:e,type:a.Z.MsgType.Error,confirm:()=>{this.inputInvalids[0].setFocus()}}),!1}return!0},onChangePermission(e,t,o){this.role=o},avatarOnClick(){this.$refs.fileAvatar.click()},fileAvatarOnChange(e){const t=e.target.name,o=e.target.files[0],i=["avatar"].includes(t);i&&(this.employee.AvatarFullPath=URL.createObjectURL(o))},getNewCode(){this.maxios.get("employees/new-code").then((e=>{this.employee.EmployeeCode=e}))}},data(){return{employee:{User:{UserName:"",Password:"12345678",RePassword:"12345678"}},formMode:a.Z.FormMode.ADD,isValidated:!1,activeUserInfo:!0,role:{},inputInvalids:[],tabActive:"general"}}};const io=(0,L.Z)(oo,[["render",to],["__scopeId","data-v-7ca5ba8c"]]);var no=io,ao={name:"EmployeeList",components:{EmployeeDetail:no},emits:[],props:{},created(){},watch:{keySearch:(0,$.Z)((function(){this.loadData()}),500)},methods:{onInitPaging(e,t,o){this.limit=o,this.offset=e-1,this.loadData()},loadData(){var e=this.keySearch;this.maxios.get(`employees/paging?limit=${this.limit}&offset=${this.offset}&key=${e||""}`).then((e=>{this.employees=e.Data,this.totalRecords=e.TotalRecords}))},onAddNew(){this.showDetail=!0,this.employeeUpdateId=null},onUpdate(e){this.showDetail=!0,this.employeeUpdateId=e.EmployeeId},onSaveSuccess(){this.loadData(),this.resetDefault()},onDelete(e){this.commonJs.showConfirm("Bạn có chắc chắn muốn xóa nhân viên này?",(()=>{this.maxios.delete(`/employees/${e.EmployeeId}`)}))},resetDefault(){this.showDetail=!1,this.employeeUpdateId=null}},data(){return{employees:[],showDetail:!1,employeeUpdateId:null,totalRecords:0,isReload:!1,keySearch:"",limit:0,offset:0}}};const so=(0,L.Z)(ao,[["render",ut],["__scopeId","data-v-6e086ffe"]]);var lo=so;function ro(e,t,o,i,n,a){const l=(0,s.up)("router-view");return(0,s.wg)(),(0,s.j4)(l,{name:"InvoiceView"})}var co={name:"InvoiceHome"};const uo=(0,L.Z)(co,[["render",ro]]);var mo=uo;const ho=e=>((0,s.dD)("data-v-5a0ed02c"),e=e(),(0,s.Cn)(),e),po={class:"invoice-detail"},go={class:"invoice-detail__header"},_o=ho((()=>(0,s._)("i",{class:"icofont-ui-close"},null,-1))),fo=[_o],vo=ho((()=>(0,s._)("div",{class:"invoice-detail__title"},"Thông tin hóa đơn",-1))),bo={class:"invoice-detail__container"},wo={class:"m-row"},ko={class:"m-col"},yo={class:"m-col"},Do=ho((()=>(0,s._)("label",{for:""},"Ngày lập:",-1))),Co={class:"m-row"},xo={class:"m-col"},Po={class:"m-col"},Io={class:"m-row"},So={class:"m-col"},Vo=ho((()=>(0,s._)("div",{class:"m-col"},null,-1))),No={class:"m-row mg-top-0"},To={class:"products"},Eo={class:"unit-price"},Oo=ho((()=>(0,s._)("span",{class:"font-icon--flex"},[(0,s._)("i",{class:"icofont-ui-add"}),(0,s._)("i",{class:"icofont-cart-alt"})],-1))),Uo=[Oo],Mo={class:"button-column"},zo=["title","onClick"],Ao=ho((()=>(0,s._)("i",{class:"icofont-ui-edit"},null,-1))),$o=[Ao],Ro=["title","onClick"],Wo=ho((()=>(0,s._)("i",{class:"icofont-ui-delete"},null,-1))),Lo=[Wo],Fo=["title","onClick"],Zo=ho((()=>(0,s._)("i",{class:"icofont-undo"},null,-1))),qo=[Zo],Bo={class:"footer--custom"},Ho={class:"invoice__money"},Go=ho((()=>(0,s._)("label",{class:"money-label"},[(0,s._)("i",{class:"icofont-pay"})],-1))),Jo={class:"money-total"},jo={class:"invoice__button"};function Yo(e,t,o,i,n,a){const r=(0,s.up)("m-input"),c=(0,s.up)("el-date-picker"),d=(0,s.up)("m-combobox"),u=(0,s.up)("m-column"),m=(0,s.up)("el-tag"),h=(0,s.up)("m-table"),p=(0,s.up)("m-table-layout"),g=(0,s.up)("select-product");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",po,[(0,s._)("div",go,[(0,s._)("button",{class:"btn--close-top",onClick:t[0]||(t[0]=(...e)=>a.onClose&&a.onClose(...e))},fo),vo]),(0,s._)("div",bo,[(0,s._)("div",wo,[(0,s._)("div",ko,[(0,s.Wm)(r,{label:"Mã hóa đơn",ref:"txtInvoiceCode",modelValue:n.invoice.InvoiceCode,"onUpdate:modelValue":t[1]||(t[1]=e=>n.invoice.InvoiceCode=e),validated:n.isValidated,required:!0,isDisabled:!1,isFocus:!0},null,8,["modelValue","validated"])]),(0,s._)("div",yo,[Do,(0,s.Wm)(c,{modelValue:n.invoice.InvoiceDate,"onUpdate:modelValue":t[2]||(t[2]=e=>n.invoice.InvoiceDate=e),type:"datetime",format:"DD/MM/YYYY (hh:mm:ss)"},null,8,["modelValue"])])]),(0,s._)("div",Co,[(0,s._)("div",xo,[(0,s.Wm)(d,{label:"Khách hàng",modelValue:n.invoice.CustomerId,"onUpdate:modelValue":t[3]||(t[3]=e=>n.invoice.CustomerId=e),url:"/customers",propText:"FullName",onOnChangeText:a.onInputCustomerName,onOnSelected:a.onSelectCustomer,propValue:"CustomerId"},null,8,["modelValue","onOnChangeText","onOnSelected"])]),(0,s._)("div",Po,[(0,s.Wm)(r,{label:"SĐT/ Địa chỉ khách",ref:"txtInvoiceCode",modelValue:n.invoice.CustomerAddress,"onUpdate:modelValue":t[4]||(t[4]=e=>n.invoice.CustomerAddress=e),validated:n.isValidated,required:!1,isDisabled:!1,onlyNumberChar:!0,type:"tel"},null,8,["modelValue","validated"])])]),(0,s._)("div",Io,[(0,s._)("div",So,[(0,s.Wm)(d,{label:"Nhân viên thực hiện",required:!0,modelValue:n.invoice.EmployeeId,"onUpdate:modelValue":t[5]||(t[5]=e=>n.invoice.EmployeeId=e),url:"/employees",propText:"FullName",propValue:"EmployeeId"},null,8,["modelValue"])]),Vo]),(0,s._)("div",No,[(0,s._)("div",To,[(0,s.Wm)(p,null,{container:(0,s.w5)((()=>[(0,s.Wm)(h,{ref:"tbProducts",data:n.products,size:"small","empty-text":"Không có sản phẩm/ dịch vụ",width:"100%",height:"100%",onCellClick:a.onCellClick},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{prop:"ProductCode",label:"Mã SP",width:"80px"},{default:(0,s.w5)((t=>[(0,s._)("div",{class:(0,l.C_)(["flex",{"is-delete":t.row.EntityState==e.Enum.EntityState.DELETE}])},[(0,s._)("span",null,(0,l.zw)(t.row.Product?.ProductCode),1)],2)])),_:1}),(0,s.Wm)(u,{prop:"ProductName",label:"SP/dịch vụ",width:"130px"},{default:(0,s.w5)((t=>[(0,s._)("div",{class:(0,l.C_)(["flex",{"is-delete":t.row.EntityState==e.Enum.EntityState.DELETE}])},[(0,s._)("span",null,(0,l.zw)(t.row.Product?.ProductName),1)],2)])),_:1}),(0,s.Wm)(u,{prop:"Quantity",label:"SL",align:"right"},{default:(0,s.w5)((e=>[(0,s.Wm)(r,{ref:`txtMoney_${e.row.ProductCode}`,modelValue:e.row.Quantity,"onUpdate:modelValue":t=>e.row.Quantity=t,required:!1,editOnClick:!0,disabled:!1,onlyNumberChar:!0,onOnChange:a.onChangeQuantity,onOnBlur:a.onQuantityChanged,align:"right"},null,8,["modelValue","onUpdate:modelValue","onOnChange","onOnBlur"])])),_:1}),(0,s.Wm)(u,{label:"Đơn giá",align:"right",width:"100px"},{default:(0,s.w5)((t=>[(0,s._)("div",Eo,[(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(e.commonJs.formatMoney(t.row.UnitPrice)),1)])),_:2},1024)])])),_:1}),(0,s.Wm)(u,{label:"Thành tiền",align:"right",width:"120px"},{default:(0,s.w5)((t=>[(0,s.Wm)(r,{format:"money",ref:`txtMoney_${t.row.ProductCode}`,modelValue:t.row.TotalMoney,"onUpdate:modelValue":e=>t.row.TotalMoney=e,class:(0,l.C_)({"is-delete":t.row.EntityState==e.Enum.EntityState.DELETE}),required:!1,editOnClick:!0,disabled:!1,align:"right"},null,8,["modelValue","onUpdate:modelValue","class"])])),_:1}),(0,s.Wm)(u,{width:"80px",fixed:"right",align:"center"},{header:(0,s.w5)((()=>[(0,s._)("button",{id:"btnAddProduct",class:"btn btn--nobg",onClick:t[6]||(t[6]=(...e)=>a.onShowSelectProducts&&a.onShowSelectProducts(...e))},Uo)])),default:(0,s.w5)((t=>[(0,s._)("div",Mo,[t.row.EntityState!=e.Enum.EntityState.DELETE?((0,s.wg)(),(0,s.iD)("button",{key:0,class:"btn--table-mini --color-edit",title:t.row.ProductName,onClick:e=>a.onUpdateProductInCart(t.row)},$o,8,zo)):(0,s.kq)("",!0),t.row.EntityState!=e.Enum.EntityState.DELETE?((0,s.wg)(),(0,s.iD)("button",{key:1,class:"btn--table-mini --color-red",title:t.row.ProductName,onClick:e=>a.onDeleteProductInCart(t.row)},Lo,8,Ro)):(0,s.kq)("",!0),t.row.EntityState==e.Enum.EntityState.DELETE?((0,s.wg)(),(0,s.iD)("button",{key:2,class:"btn--table-mini --color-edit",title:t.row.ProductName,onClick:e=>a.onUndoDeleteProductInCart(t.row)},qo,8,Fo)):(0,s.kq)("",!0)])])),_:1})])),_:1},8,["data","onCellClick"])])),_:1})])]),(0,s._)("div",Bo,[(0,s._)("div",Ho,[Go,(0,s._)("span",Jo,(0,l.zw)(a.totalMoneyComputed.text),1)]),(0,s._)("div",jo,[(0,s._)("button",{id:"btn-close",class:"btn btn--close",onClick:t[7]||(t[7]=(...e)=>a.onClose&&a.onClose(...e))}," Hủy "),(0,s._)("button",{class:"btn btn--default mg-left-10",onClick:t[8]||(t[8]=(...e)=>a.onSave&&a.onSave(...e))}," Lưu ")])])])]),n.showSelectProducts?((0,s.wg)(),(0,s.j4)(g,{key:0,onGetSelectionProducts:a.getSelectionProducts,onOnClose:t[9]||(t[9]=e=>n.showSelectProducts=!1)},null,8,["onGetSelectionProducts"])):(0,s.kq)("",!0)],64)}var Qo=o(9055);const Ko=(0,L.Z)(Qo.Z,[["render",Yo],["__scopeId","data-v-5a0ed02c"]]);var Xo=Ko;const ei=e=>((0,s.dD)("data-v-4e996bda"),e=e(),(0,s.Cn)(),e),ti=ei((()=>(0,s._)("i",{class:"icofont-ui-add"},null,-1))),oi={class:"toolbar__left"},ii={class:"toolbar__right"},ni=ei((()=>(0,s._)("i",{class:"icofont-refresh"},null,-1))),ai=[ni],si={key:0,class:"employee-name"},li={class:"product-list"},ri={class:"product-name"},ci={class:"product-money"},di=["innerHTML"],ui={class:"button-column"},mi=["title","onClick"],hi=ei((()=>(0,s._)("i",{class:"icofont-printer"},null,-1))),pi=[hi],gi=["title","onClick"],_i=ei((()=>(0,s._)("i",{class:"icofont-ui-edit"},null,-1))),fi=[_i],vi=["title","onClick"],bi=ei((()=>(0,s._)("i",{class:"icofont-ui-delete"},null,-1))),wi=[bi];function ki(e,t,o,i,n,a){const r=(0,s.up)("m-input-search"),c=(0,s.up)("m-column"),d=(0,s.up)("el-tag"),u=(0,s.up)("m-table"),m=(0,s.up)("m-paging"),h=(0,s.up)("m-table-layout"),p=(0,s.up)("m-page"),g=(0,s.up)("router-view"),_=(0,s.up)("invoice-print");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(p,{title:"Hóa đơn bán hàng/ dịch vụ",rightSlot:!0},{"header-right":(0,s.w5)((()=>[(0,s._)("button",{class:"btn btn--default btn--refresh",onClick:t[0]||(t[0]=(...e)=>a.onAddNew&&a.onAddNew(...e))},[ti,(0,s.Uk)(" Thêm hóa đơn ")])])),container:(0,s.w5)((()=>[(0,s.Wm)(h,null,{toolbar:(0,s.w5)((()=>[(0,s._)("div",oi,[(0,s.Wm)(r,{width:"300px",placeholder:"Tìm kiếm",modelValue:n.keySearch,"onUpdate:modelValue":t[1]||(t[1]=e=>n.keySearch=e),onBlur:a.onSearchInvoice},null,8,["modelValue","onBlur"])]),(0,s._)("div",ii,[(0,s._)("button",{class:"btn btn-refresh",onClick:t[2]||(t[2]=e=>a.loadData())},ai)])])),container:(0,s.w5)((()=>[(0,s.Wm)(u,{ref:"tbProducts",data:n.invoices,"empty-text":"Không có dữ liệu",width:"100%",height:"100%"},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{prop:"InvoiceCode",label:"Mã hóa đơn",width:"100px"},{default:(0,s.w5)((e=>[(0,s._)("div",null,(0,l.zw)(e.row.InvoiceCode),1),e.row.LastName?((0,s.wg)(),(0,s.iD)("div",si," ("+(0,l.zw)(e.row.LastName)+") ",1)):(0,s.kq)("",!0)])),_:1}),(0,s.Wm)(c,{prop:"ProductList","min-width":"200px",label:"SP/DV"},{default:(0,s.w5)((e=>[(0,s._)("div",li,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.processProductList(e.row.ProductList),((e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:"product-list-item",key:t},[(0,s._)("span",null,[(0,s.Uk)("- "),(0,s._)("span",ri,(0,l.zw)(e.ProductName)+":",1)]),(0,s._)("span",ci,"+"+(0,l.zw)(e.Total||0),1)])))),128))])])),_:1}),(0,s.Wm)(c,{prop:"InvoiceDate",width:"100px",label:"Ngày lập",align:"center"},{default:(0,s.w5)((t=>[(0,s._)("div",{innerHTML:e.commonJs.formatDateTimeHTML(t.row.InvoiceDate)},null,8,di)])),_:1}),(0,s.Wm)(c,{label:"Tổng tiền",width:"100px",fixed:"right",align:"right"},{default:(0,s.w5)((t=>[(0,s.Wm)(d,null,{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("b",null,(0,l.zw)(e.commonJs.formatMoney(t.row.TotalMoney)),1)])])),_:2},1024)])),_:1}),(0,s.Wm)(c,{width:"100",fixed:"right",align:"right"},{default:(0,s.w5)((e=>[(0,s._)("div",ui,[(0,s._)("button",{class:"btn--table-mini --color-green",title:e.row.InvoiceName,onClick:t=>a.onPrint(e.row)},pi,8,mi),(0,s._)("button",{class:"btn--table-mini --color-edit",title:e.row.InvoiceName,onClick:t=>a.onUpdate(e.row)},fi,8,gi),(0,s._)("button",{class:"btn--table-mini --color-red",title:e.row.InvoiceName,onClick:t=>a.onDelete(e.row)},wi,8,vi)])])),_:1})])),_:1},8,["data"])])),footer:(0,s.w5)((()=>[(0,s.Wm)(m,{entityName:"hóa đơn",totalRecords:n.totalRecords,pageSizeData:[10,20,50,100,200,500],limit:n.limit,"onUpdate:limit":t[3]||(t[3]=e=>n.limit=e),offset:n.offset,"onUpdate:offset":t[4]||(t[4]=e=>n.offset=e),onOnChangePagesize:a.onChangePagesize,onOnPrevPage:a.onPrevPage,onOnNextPage:a.onNextPage,onOnInitPaging:a.onInitPaging},null,8,["totalRecords","limit","offset","onOnChangePagesize","onOnPrevPage","onOnNextPage","onOnInitPaging"])])),_:1})])),footer:(0,s.w5)((()=>[])),_:1}),(0,s.Wm)(g,{name:"InvoiceDetailView",isReload:n.isReload,"onUpdate:isReload":t[5]||(t[5]=e=>n.isReload=e)},null,8,["isReload"]),(0,s.Wm)(g,{name:"InvoicePrintFromMobile"}),n.showPrint?((0,s.wg)(),(0,s.j4)(_,{key:0,id:n.invoiceIdSelected,onOnClose:t[6]||(t[6]=e=>n.showPrint=!1)},null,8,["id"])):(0,s.kq)("",!0)],64)}const yi=e=>((0,s.dD)("data-v-03f9350a"),e=e(),(0,s.Cn)(),e),Di={id:"invoice",class:"invoice"},Ci={class:"invoice__header"},xi={class:"header__left"},Pi={class:"org-info"},Ii={class:"org__name"},Si={class:"org__address"},Vi=yi((()=>(0,s._)("div",{class:"info__icon"},[(0,s._)("i",{class:"icofont-home"})],-1))),Ni={class:"info__text"},Ti={class:"org__mobile"},Ei=yi((()=>(0,s._)("div",{class:"info__icon"},[(0,s._)("i",{class:"icofont-ui-cell-phone"})],-1))),Oi={class:"info__text"},Ui={class:"header__right"},Mi={class:"org__description"},zi={class:"invoice__name"},Ai=yi((()=>(0,s._)("div",{class:"invoice__title"},"HÓA ĐƠN THANH TOÁN",-1))),$i={class:"customer"},Ri={class:"customer__name"},Wi={class:"customer__address"},Li={class:"invoice__products"},Fi={class:"unit-price"},Zi={class:"invoice__money"},qi={class:"money"},Bi=yi((()=>(0,s._)("div",{class:"money__title"},"Tổng tiền:",-1))),Hi={class:"money__text"},Gi={class:"invoice__footer"},Ji={class:"footer__left"},ji=yi((()=>(0,s._)("label",{for:""},"KHÁCH HÀNG",-1))),Yi={class:"employee__name"},Qi={class:"footer__right"},Ki={class:"invoice__date"},Xi={class:"invoice__employee"},en=yi((()=>(0,s._)("div",{class:"employee__text"},"NHÂN VIÊN BÁN HÀNG",-1))),tn={class:"employee__name"},on={key:0,id:"print-element"},nn={class:"p-org"},an={class:"p-org__name"},sn={class:"p-org__description"},ln={class:"p-org__address"},rn={class:"p-org__phone"},cn=yi((()=>(0,s._)("i",{class:"icofont-ui-cell-phone"},null,-1))),dn=yi((()=>(0,s._)("div",{class:"p__title"},"HÓA ĐƠN BÁN HÀNG",-1))),un={class:"p-invoice__code"},mn=yi((()=>(0,s._)("label",null,"Số hóa đơn:",-1))),hn={class:"p-invoice__date"},pn=yi((()=>(0,s._)("label",null,"Ngày:",-1))),gn={class:"p-customer__name"},_n=yi((()=>(0,s._)("label",null,"Khách hàng:",-1))),fn={class:"p-customer__address"},vn=yi((()=>(0,s._)("label",null,"Địa chỉ/ĐT:",-1))),bn={class:"p-products"},wn={class:"product__info"},kn={class:"product__name"},yn={class:"product__total-money"},Dn={class:"product__price"},Cn={class:"product__total"},xn={class:"p-total-money"},Pn=yi((()=>(0,s._)("div",{class:"p-money__label"},"TỔNG:",-1))),In={class:"p-money__value"},Sn={class:"p-person"},Vn=yi((()=>(0,s._)("div",{class:"p-customer"},null,-1))),Nn={class:"p-employee"},Tn=yi((()=>(0,s._)("div",{class:"p-employee__title"},"Nhân viên bán hàng:",-1))),En={class:"p-employee__name"},On=yi((()=>(0,s._)("div",{class:"p-moreinfo"},[(0,s.Uk)(" Quý khách vui lòng kiểm tra kỹ hóa đơn trước khi thanh toán."),(0,s._)("br"),(0,s.Uk)(" Trân trọng cám ơn quý khách đã sử dụng dịch vụ! ")],-1))),Un=yi((()=>(0,s._)("div",{class:"p-author"},"Mạnh Software - www.nmanh.com",-1))),Mn={class:"invoice__button"},zn=yi((()=>(0,s._)("i",{class:"icofont-ui-close"},null,-1))),An=yi((()=>(0,s._)("i",{class:"icofont-printer"},null,-1)));function $n(e,t,o,i,n,a){const r=(0,s.up)("m-column"),c=(0,s.up)("m-table"),d=(0,s.up)("m-dialog");return(0,s.wg)(),(0,s.j4)(d,{onOnClose:a.onClose},{content:(0,s.w5)((()=>[(0,s.wy)((0,s._)("div",Di,[(0,s._)("div",Ci,[(0,s._)("div",xi,[(0,s._)("div",Pi,[(0,s._)("div",Ii,(0,l.zw)(n.invoice.Organization?.OrganizationName),1),(0,s._)("div",Si,[Vi,(0,s._)("div",Ni,(0,l.zw)(n.invoice.Organization?.Address),1)]),(0,s._)("div",Ti,[Ei,(0,s._)("div",Oi,(0,l.zw)(n.invoice.Organization?.PhoneNumber),1)])])]),(0,s._)("div",Ui,[(0,s._)("div",Mi,(0,l.zw)(n.invoice.Organization?.Description),1)])]),(0,s._)("div",zi,[Ai,(0,s._)("div",$i,[(0,s._)("div",Ri," Tên khách hàng: "+(0,l.zw)(n.invoice.CustomerName),1),(0,s._)("div",Wi," Địa chỉ/SĐT: "+(0,l.zw)(n.invoice.CustomerAddress),1)])]),(0,s._)("div",Li,[(0,s.Wm)(c,{ref:"tbProducts",data:n.invoice.InvoiceDetail,size:"small","empty-text":"Không có sản phẩm/ dịch vụ",width:"100%",height:"100%"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{type:"index",label:"#",width:"40px"}),(0,s.Wm)(r,{prop:"ProductName",label:"SP/dịch vụ",width:"130px"},{default:(0,s.w5)((t=>[(0,s._)("div",{class:(0,l.C_)(["flex",{"is-delete":t.row.EntityState==e.Enum.EntityState.DELETE}])},[(0,s._)("span",null,(0,l.zw)(t.row.Product?.ProductName),1)],2)])),_:1}),(0,s.Wm)(r,{prop:"Quantity",label:"SL",align:"right"}),(0,s.Wm)(r,{label:"Đơn giá",align:"right",width:"100px"},{default:(0,s.w5)((t=>[(0,s._)("div",Fi,(0,l.zw)(e.commonJs.formatMoney(t.row.UnitPrice)),1)])),_:1}),(0,s.Wm)(r,{label:"Thành tiền",align:"right",fixed:"right",width:"120px"},{default:(0,s.w5)((t=>[(0,s._)("div",null,(0,l.zw)(e.commonJs.formatMoney(t.row.TotalMoney)),1)])),_:1})])),_:1},8,["data"])]),(0,s._)("div",Zi,[(0,s._)("div",qi,[Bi,(0,s._)("div",Hi,(0,l.zw)(e.commonJs.formatMoney(n.invoice.TotalMoney)),1)])]),(0,s._)("div",Gi,[(0,s._)("div",Ji,[ji,(0,s._)("div",Yi,(0,l.zw)(n.invoice.CustomerName),1)]),(0,s._)("div",Qi,[(0,s._)("div",Ki,(0,l.zw)(e.commonJs.formatDateWithStringVN(n.invoice.InvoiceDate)),1),(0,s._)("div",Xi,[en,(0,s._)("div",tn,(0,l.zw)(n.invoice.Employee?.FullName),1)])])])],512),[[q.F8,!n.showPrintPreview]]),n.showPrintPreview?((0,s.wg)(),(0,s.iD)("div",on,[(0,s._)("div",nn,[(0,s._)("div",an,(0,l.zw)(n.invoice.Organization?.OrganizationName),1),(0,s._)("div",sn,(0,l.zw)(n.invoice.Organization?.Description),1),(0,s._)("div",ln,(0,l.zw)(n.invoice.Organization?.Address),1),(0,s._)("div",rn,[cn,(0,s.Uk)(": "+(0,l.zw)(n.invoice.Organization?.PhoneNumber),1)])]),dn,(0,s._)("div",un,[mn,(0,s.Uk)(" "+(0,l.zw)(n.invoice.InvoiceCode),1)]),(0,s._)("div",hn,[pn,(0,s.Uk)(" "+(0,l.zw)(e.commonJs.formatDateTime(n.invoice.InvoiceDate)),1)]),(0,s._)("div",gn,[_n,(0,s.Uk)(" "+(0,l.zw)(n.invoice.CustomerName),1)]),(0,s._)("div",fn,[vn,(0,s.Uk)(" "+(0,l.zw)(n.invoice.CustomerAddress),1)]),(0,s._)("div",bn,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.invoice.InvoiceDetail,((t,o)=>((0,s.wg)(),(0,s.iD)("div",{class:"p-product",key:o},[(0,s._)("div",wn,[(0,s._)("div",kn,(0,l.zw)(t.Product?.ProductName),1)]),(0,s._)("div",yn,[(0,s._)("div",Dn,(0,l.zw)(e.commonJs.formatMoney(t.Product?.UnitPrice))+" x "+(0,l.zw)(t.Quantity),1),(0,s._)("div",Cn,(0,l.zw)(e.commonJs.formatMoney(t.TotalMoney)),1)])])))),128))]),(0,s._)("div",xn,[Pn,(0,s._)("div",In,(0,l.zw)(e.commonJs.formatMoney(n.invoice.TotalMoney)),1)]),(0,s._)("div",Sn,[Vn,(0,s._)("div",Nn,[Tn,(0,s._)("div",En,(0,l.zw)(n.invoice.Employee?.FullName),1)])]),On,Un])):(0,s.kq)("",!0)])),footer:(0,s.w5)((()=>[(0,s._)("div",Mn,[(0,s._)("button",{id:"btn-close",class:"btn btn--close",onClick:t[0]||(t[0]=(...e)=>a.onClose&&a.onClose(...e))},[zn,(0,s.Uk)(" Đóng ")]),(0,s._)("button",{class:"btn btn--default mg-left-10",onClick:t[1]||(t[1]=(...e)=>a.onPrint&&a.onPrint(...e))},[An,(0,s.Uk)(" In hóa đơn ")])])])),_:1},8,["onOnClose"])}var Rn={name:"InvoicePrint",emits:[],props:{id:String},created(){this.maxios.get(`invoices/${this.id}`).then((e=>{this.invoice=e}))},methods:{onPrint(){this.showPrintPreview=!0,this.$nextTick((function(){this.$htmlToPaper("print-element")}))},onClose(){this.$emit("onClose")}},data(){return{showPrintPreview:!1,invoice:{}}}};const Wn=(0,L.Z)(Rn,[["render",$n],["__scopeId","data-v-03f9350a"]]);var Ln=Wn,Fn={name:"InvoiceList",components:{InvoicePrint:Ln},emits:[],props:[],setup(){},created(){},watch:{isReload(e){e&&this.loadData()},keySearch:(0,$.Z)((function(){this.loadData()}),500)},methods:{onInitPaging(e,t,o){this.limit=o,this.offset=e-1,this.loadData()},loadData(){var e=this.keySearch;this.maxios.get(`/invoices/paging?limit=${this.limit}&offset=${this.offset}&key=${e||""}`).then((e=>{this.invoices=e.Data,this.totalRecords=e.TotalRecords})),this.isReload=!1},onSearchInvoice(){},onAddNew(){Sm.push("/invoices/create")},onUpdate(e){Sm.push(`/invoices/${e.InvoiceId}`)},onDelete(e){this.commonJs.showConfirm(`Bạn có chắc chắn muốn xóa hóa đơn [${e.InvoiceCode}] không?`,(()=>{this.maxios.delete(`invoices/${e.InvoiceId}`,(()=>{this.loadData()}))}))},onChangePagesize(e){this.loadData()},onPrevPage(e,t,o){this.loadData()},onNextPage(e,t,o){this.loadData()},onPrint(e){this.invoiceIdSelected=e.InvoiceId;var t=this.commonJs.mobileCheck();t&&this.hubConnection.invoke("PrintFromMobile",this.invoiceIdSelected),this.showPrint=!0},processProductList(e){let t=JSON.parse(e);for(const o of t)o.Total=this.commonJs.formatMoney(o.Total);return console.log("products:",t),t}},data(){return{invoices:[],totalRecords:0,isReload:!1,keySearch:"",invoiceIdSelected:null,showPrint:!1,limit:0,offset:0}}};const Zn=(0,L.Z)(Fn,[["render",ki],["__scopeId","data-v-4e996bda"]]);var qn=Zn;const Bn=e=>((0,s.dD)("data-v-43f53bd8"),e=e(),(0,s.Cn)(),e),Hn={id:"invoice",class:"invoice"},Gn={class:"invoice__header"},Jn={class:"header__left"},jn={class:"org-info"},Yn={class:"org__name"},Qn={class:"org__address"},Kn=Bn((()=>(0,s._)("div",{class:"info__icon"},[(0,s._)("i",{class:"icofont-home"})],-1))),Xn={class:"info__text"},ea={class:"org__mobile"},ta=Bn((()=>(0,s._)("div",{class:"info__icon"},[(0,s._)("i",{class:"icofont-ui-cell-phone"})],-1))),oa={class:"info__text"},ia={class:"header__right"},na={class:"org__description"},aa={class:"invoice__name"},sa=Bn((()=>(0,s._)("div",{class:"invoice__title"},"HÓA ĐƠN THANH TOÁN",-1))),la={class:"customer"},ra={class:"customer__name"},ca={class:"customer__address"},da={class:"invoice__products"},ua={class:"unit-price"},ma={class:"invoice__money"},ha={class:"money"},pa=Bn((()=>(0,s._)("div",{class:"money__title"},"Tổng tiền:",-1))),ga={class:"money__text"},_a={class:"invoice__footer"},fa={class:"footer__left"},va=Bn((()=>(0,s._)("label",{for:""},"KHÁCH HÀNG",-1))),ba={class:"employee__name"},wa={class:"footer__right"},ka={class:"invoice__date"},ya={class:"invoice__employee"},Da=Bn((()=>(0,s._)("div",{class:"employee__text"},"NHÂN VIÊN BÁN HÀNG",-1))),Ca={class:"employee__name"},xa={key:0,id:"print-element"},Pa={class:"p-org"},Ia={class:"p-org__name"},Sa={class:"p-org__description"},Va={class:"p-org__address"},Na={class:"p-org__phone"},Ta=Bn((()=>(0,s._)("i",{class:"icofont-ui-cell-phone"},null,-1))),Ea=Bn((()=>(0,s._)("div",{class:"p__title"},"HÓA ĐƠN BÁN HÀNG",-1))),Oa={class:"p-invoice__code"},Ua=Bn((()=>(0,s._)("label",null,"Số hóa đơn:",-1))),Ma={class:"p-invoice__date"},za=Bn((()=>(0,s._)("label",null,"Ngày:",-1))),Aa={class:"p-customer__name"},$a=Bn((()=>(0,s._)("label",null,"Khách hàng:",-1))),Ra={class:"p-customer__address"},Wa=Bn((()=>(0,s._)("label",null,"Địa chỉ/ĐT:",-1))),La={class:"p-products"},Fa={class:"product__info"},Za={class:"product__name"},qa={class:"product__total-money"},Ba={class:"product__price"},Ha={class:"product__total"},Ga={class:"p-total-money"},Ja=Bn((()=>(0,s._)("div",{class:"p-money__label"},"TỔNG:",-1))),ja={class:"p-money__value"},Ya={class:"p-person"},Qa=Bn((()=>(0,s._)("div",{class:"p-customer"},null,-1))),Ka={class:"p-employee"},Xa=Bn((()=>(0,s._)("div",{class:"p-employee__title"},"Nhân viên bán hàng:",-1))),es={class:"p-employee__name"},ts=Bn((()=>(0,s._)("div",{class:"p-moreinfo"},[(0,s.Uk)(" Quý khách vui lòng kiểm tra kỹ hóa đơn trước khi thanh toán."),(0,s._)("br"),(0,s.Uk)(" Trân trọng cám ơn quý khách đã sử dụng dịch vụ! ")],-1))),os=Bn((()=>(0,s._)("div",{class:"p-author"},"Mạnh Software - www.nmanh.com",-1))),is={class:"invoice__button"},ns=Bn((()=>(0,s._)("i",{class:"icofont-ui-close"},null,-1))),as=Bn((()=>(0,s._)("i",{class:"icofont-printer"},null,-1)));function ss(e,t,o,i,n,a){const r=(0,s.up)("m-column"),c=(0,s.up)("m-table"),d=(0,s.up)("m-dialog");return(0,s.wg)(),(0,s.j4)(d,{onOnClose:a.onClose},{content:(0,s.w5)((()=>[(0,s.wy)((0,s._)("div",Hn,[(0,s._)("div",Gn,[(0,s._)("div",Jn,[(0,s._)("div",jn,[(0,s._)("div",Yn,(0,l.zw)(n.invoice.Organization?.OrganizationName),1),(0,s._)("div",Qn,[Kn,(0,s._)("div",Xn,(0,l.zw)(n.invoice.Organization?.Address),1)]),(0,s._)("div",ea,[ta,(0,s._)("div",oa,(0,l.zw)(n.invoice.Organization?.PhoneNumber),1)])])]),(0,s._)("div",ia,[(0,s._)("div",na,(0,l.zw)(n.invoice.Organization?.Description),1)])]),(0,s._)("div",aa,[sa,(0,s._)("div",la,[(0,s._)("div",ra,"Tên khách hàng: "+(0,l.zw)(n.invoice.CustomerName),1),(0,s._)("div",ca," Địa chỉ/SĐT: "+(0,l.zw)(n.invoice.CustomerAddress),1)])]),(0,s._)("div",da,[(0,s.Wm)(c,{ref:"tbProducts",data:n.invoice.InvoiceDetail,size:"small","empty-text":"Không có sản phẩm/ dịch vụ",width:"100%",height:"100%"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{type:"index",label:"#",width:"40px"}),(0,s.Wm)(r,{prop:"ProductName",label:"SP/dịch vụ",width:"130px"},{default:(0,s.w5)((t=>[(0,s._)("div",{class:(0,l.C_)(["flex",{"is-delete":t.row.EntityState==e.Enum.EntityState.DELETE}])},[(0,s._)("span",null,(0,l.zw)(t.row.Product?.ProductName),1)],2)])),_:1}),(0,s.Wm)(r,{prop:"Quantity",label:"SL",align:"right"}),(0,s.Wm)(r,{label:"Đơn giá",align:"right",width:"100px"},{default:(0,s.w5)((t=>[(0,s._)("div",ua,(0,l.zw)(e.commonJs.formatMoney(t.row.UnitPrice)),1)])),_:1}),(0,s.Wm)(r,{label:"Thành tiền",align:"right",fixed:"right",width:"120px"},{default:(0,s.w5)((t=>[(0,s._)("div",null,(0,l.zw)(e.commonJs.formatMoney(t.row.TotalMoney)),1)])),_:1})])),_:1},8,["data"])]),(0,s._)("div",ma,[(0,s._)("div",ha,[pa,(0,s._)("div",ga,(0,l.zw)(e.commonJs.formatMoney(n.invoice.TotalMoney)),1)])]),(0,s._)("div",_a,[(0,s._)("div",fa,[va,(0,s._)("div",ba,(0,l.zw)(n.invoice.CustomerName),1)]),(0,s._)("div",wa,[(0,s._)("div",ka,(0,l.zw)(e.commonJs.formatDateWithStringVN(n.invoice.InvoiceDate)),1),(0,s._)("div",ya,[Da,(0,s._)("div",Ca,(0,l.zw)(n.invoice.Employee?.FullName),1)])])])],512),[[q.F8,!n.showPrintPreview]]),n.showPrintPreview?((0,s.wg)(),(0,s.iD)("div",xa,[(0,s._)("div",Pa,[(0,s._)("div",Ia,(0,l.zw)(n.invoice.Organization?.OrganizationName),1),(0,s._)("div",Sa,(0,l.zw)(n.invoice.Organization?.Description),1),(0,s._)("div",Va,(0,l.zw)(n.invoice.Organization?.Address),1),(0,s._)("div",Na,[Ta,(0,s.Uk)(": "+(0,l.zw)(n.invoice.Organization?.PhoneNumber),1)])]),Ea,(0,s._)("div",Oa,[Ua,(0,s.Uk)(" "+(0,l.zw)(n.invoice.InvoiceCode),1)]),(0,s._)("div",Ma,[za,(0,s.Uk)(" "+(0,l.zw)(e.commonJs.formatDateTime(n.invoice.InvoiceDate)),1)]),(0,s._)("div",Aa,[$a,(0,s.Uk)(" "+(0,l.zw)(n.invoice.CustomerName),1)]),(0,s._)("div",Ra,[Wa,(0,s.Uk)(" "+(0,l.zw)(n.invoice.CustomerAddress),1)]),(0,s._)("div",La,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.invoice.InvoiceDetail,((t,o)=>((0,s.wg)(),(0,s.iD)("div",{class:"p-product",key:o},[(0,s._)("div",Fa,[(0,s._)("div",Za,(0,l.zw)(t.Product?.ProductName),1)]),(0,s._)("div",qa,[(0,s._)("div",Ba,(0,l.zw)(e.commonJs.formatMoney(t.Product?.UnitPrice))+" x "+(0,l.zw)(t.Quantity),1),(0,s._)("div",Ha,(0,l.zw)(e.commonJs.formatMoney(t.TotalMoney)),1)])])))),128))]),(0,s._)("div",Ga,[Ja,(0,s._)("div",ja,(0,l.zw)(e.commonJs.formatMoney(n.invoice.TotalMoney)),1)]),(0,s._)("div",Ya,[Qa,(0,s._)("div",Ka,[Xa,(0,s._)("div",es,(0,l.zw)(n.invoice.Employee?.FullName),1)])]),ts,os])):(0,s.kq)("",!0)])),footer:(0,s.w5)((()=>[(0,s._)("div",is,[(0,s._)("button",{id:"btn-close",class:"btn btn--close",onClick:t[0]||(t[0]=(...e)=>a.onClose&&a.onClose(...e))},[ns,(0,s.Uk)(" Đóng ")]),(0,s._)("button",{class:"btn btn--default mg-left-10",onClick:t[1]||(t[1]=(...e)=>a.onPrint&&a.onPrint(...e))},[as,(0,s.Uk)(" In hóa đơn ")])])])),_:1},8,["onOnClose"])}var ls={name:"InvoicePrintFromMobile",emits:[],props:{id:String,device:String},created(){this.maxios.get(`invoices/${this.id}`).then((e=>{this.invoice=e}))},methods:{onPrint(){this.$htmlToPaper("print-element"),this.showPrintPreview=!0,this.$nextTick((function(){this.$htmlToPaper("print-element")}))},onClose(){this.$emit("onClose")}},data(){return{showPrintPreview:!1,invoice:{}}}};const rs=(0,L.Z)(ls,[["render",ss],["__scopeId","data-v-43f53bd8"]]);var cs=rs;const ds=(0,s._)("i",{class:"icofont-ui-add"},null,-1),us={class:"toolbar__left"},ms={class:"toolbar__right"},hs=(0,s._)("i",{class:"icofont-refresh"},null,-1),ps=[hs],gs={class:"button-column"},_s=["title","onClick"],fs=(0,s._)("i",{class:"icofont-ui-edit"},null,-1),vs=[fs],bs=["title","onClick"],ws=(0,s._)("i",{class:"icofont-ui-delete"},null,-1),ks=[ws];function ys(e,t,o,i,n,a){const l=(0,s.up)("m-input-search"),r=(0,s.up)("m-column"),c=(0,s.up)("m-table"),d=(0,s.up)("m-paging"),u=(0,s.up)("m-table-layout"),m=(0,s.up)("m-page"),h=(0,s.up)("customer-detail");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(m,{title:"Quản lý khách hàng",rightSlot:!0},{"header-right":(0,s.w5)((()=>[(0,s._)("button",{class:"btn btn--default btn--refresh",onClick:t[0]||(t[0]=(...e)=>a.onAddNew&&a.onAddNew(...e))},[ds,(0,s.Uk)(" Thêm khách hàng ")])])),container:(0,s.w5)((()=>[(0,s.Wm)(u,null,{toolbar:(0,s.w5)((()=>[(0,s._)("div",us,[(0,s.Wm)(l,{width:"300px",placeholder:"Tìm kiếm",modelValue:n.keySearch,"onUpdate:modelValue":t[1]||(t[1]=e=>n.keySearch=e)},null,8,["modelValue"])]),(0,s._)("div",ms,[(0,s._)("button",{class:"btn btn-refresh",onClick:t[2]||(t[2]=e=>a.loadData())},ps)])])),container:(0,s.w5)((()=>[(0,s.Wm)(c,{ref:"tbCustomers",data:n.customers,"empty-text":"Không có dữ liệu",width:"100%",height:"100%"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{prop:"CustomerCode",label:"#",width:"100px"}),(0,s.Wm)(r,{prop:"FullName",label:"Tên khách hàng"}),(0,s.Wm)(r,{prop:"Mobile",label:"SĐT",align:"left"}),(0,s.Wm)(r,{width:"50",fixed:"right"},{default:(0,s.w5)((e=>[(0,s._)("div",gs,[(0,s._)("button",{class:"btn--table-mini --color-edit",title:e.row.FullName,onClick:t=>a.onUpdate(e.row)},vs,8,_s),(0,s._)("button",{class:"btn--table-mini --color-red",title:e.row.CustomerName,onClick:t=>a.onDelete(e.row)},ks,8,bs)])])),_:1})])),_:1},8,["data"])])),footer:(0,s.w5)((()=>[(0,s.Wm)(d,{entityName:"khách hàng",totalRecords:n.totalRecords,pageSizeData:[10,20,50,100,200],limit:n.limit,"onUpdate:limit":t[3]||(t[3]=e=>n.limit=e),offset:n.offset,"onUpdate:offset":t[4]||(t[4]=e=>n.offset=e),onOnChangePagesize:a.loadData,onOnPrevPage:a.loadData,onOnNextPage:a.loadData,onOnInitPaging:a.onInitPaging},null,8,["totalRecords","limit","offset","onOnChangePagesize","onOnPrevPage","onOnNextPage","onOnInitPaging"])])),_:1})])),footer:(0,s.w5)((()=>[])),_:1}),n.showDetail?((0,s.wg)(),(0,s.j4)(h,{key:0,id:n.customerId,onOnClose:a.onCloseDetail},null,8,["id","onOnClose"])):(0,s.kq)("",!0)],64)}const Ds={class:"m-row"},Cs={class:"m-col"},xs={class:"m-col"},Ps={class:"m-row"},Is={class:"m-col"},Ss=(0,s._)("div",{class:"m-col"},null,-1),Vs={class:"m-row"},Ns={class:"m-col"},Ts={class:"m-col"},Es=(0,s._)("label",{for:""},"Ngày sinh:",-1),Os={class:"m-row"},Us={class:"m-col"},Ms={class:"m-col"},zs={class:"m-row"};function As(e,t,o,i,n,a){const l=(0,s.up)("m-input"),r=(0,s.up)("m-combobox"),c=(0,s.up)("el-date-picker"),d=(0,s.up)("m-text-area"),u=(0,s.up)("m-dialog");return(0,s.wg)(),(0,s.j4)(u,{title:"Thông tin khách hàng",onOnClose:a.onClose},{content:(0,s.w5)((()=>[(0,s._)("div",Ds,[(0,s._)("div",Cs,[(0,s.Wm)(l,{label:"Mã khách hàng",ref:"txtCustomerCode",modelValue:n.customer.CustomerCode,"onUpdate:modelValue":t[0]||(t[0]=e=>n.customer.CustomerCode=e),validated:e.isValidated,required:!0,isDisabled:!1,isFocus:!0},null,8,["modelValue","validated"])]),(0,s._)("div",xs,[(0,s.Wm)(l,{label:"Tên khách hàng",ref:"txtcustomerName",modelValue:n.customer.FullName,"onUpdate:modelValue":t[1]||(t[1]=e=>n.customer.FullName=e),validated:e.isValidated,required:!0,isDisabled:!1},null,8,["modelValue","validated"])])]),(0,s._)("div",Ps,[(0,s._)("div",Is,[(0,s.Wm)(r,{label:"Nhóm khách hàng",modelValue:n.customer.CustomerGroupId,"onUpdate:modelValue":t[2]||(t[2]=e=>n.customer.CustomerGroupId=e),url:"/customergroups",propText:"CustomerGroupName",propValue:"CustomerGroupId"},null,8,["modelValue"])]),Ss]),(0,s._)("div",Vs,[(0,s._)("div",Ns,[(0,s.Wm)(r,{label:"Giới tính",modelValue:n.customer.Gender,"onUpdate:modelValue":t[3]||(t[3]=e=>n.customer.Gender=e),url:"/dictionarys/gender",propText:"Text",propValue:"Value"},null,8,["modelValue"])]),(0,s._)("div",Ts,[Es,(0,s.Wm)(c,{modelValue:n.customer.DateOfBirth,"onUpdate:modelValue":t[4]||(t[4]=e=>n.customer.DateOfBirth=e),type:"date",format:"DD-MM-YYYY"},null,8,["modelValue"])])]),(0,s._)("div",Os,[(0,s._)("div",Us,[(0,s.Wm)(l,{label:"Số điện thoại",modelValue:n.customer.Mobile,"onUpdate:modelValue":t[5]||(t[5]=e=>n.customer.Mobile=e),isDisabled:!1,onlyNumberChar:!0},null,8,["modelValue"])]),(0,s._)("div",Ms,[(0,s.Wm)(l,{label:"Email",modelValue:n.customer.Email,"onUpdate:modelValue":t[6]||(t[6]=e=>n.customer.Email=e),isDisabled:!1},null,8,["modelValue"])])]),(0,s._)("div",zs,[(0,s.Wm)(d,{label:"Địa chỉ",modelValue:n.customer.Address,"onUpdate:modelValue":t[7]||(t[7]=e=>n.customer.Address=e)},null,8,["modelValue"])])])),footer:(0,s.w5)((()=>[(0,s._)("button",{class:"btn btn--close",onClick:t[8]||(t[8]=(...e)=>a.onClose&&a.onClose(...e))},"Hủy"),(0,s._)("button",{class:"btn btn--default mg-left-10",onClick:t[9]||(t[9]=(...e)=>a.onSave&&a.onSave(...e))},"Lưu")])),_:1},8,["onOnClose"])}var $s={name:"CustomerDetail",emits:["onClose"],props:["id"],computed:{formMode:function(){return this.id?a.Z.FormMode.UPDATE:a.Z.FormMode.ADD}},created(){this.id?this.maxios.get(`customers/${this.id}`).then((e=>{this.customer=e})):this.maxios.get("customers/new-code").then((e=>{this.customer.CustomerCode=e}))},methods:{onClose(){this.$emit("onClose")},onSave(){this.formMode==a.Z.FormMode.ADD?this.maxios.post("customers",this.customer).then((()=>{this.$emit("onClose")})):this.maxios.put(`customers/${this.id}`,this.customer).then((()=>{this.$emit("onClose")}))}},data(){return{customer:{}}}};const Rs=(0,L.Z)($s,[["render",As]]);var Ws=Rs,Ls={name:"CustomerList",components:{CustomerDetail:Ws},emits:[],props:{},watch:{keySearch:(0,$.Z)((function(){this.loadData()}),500)},created(){},methods:{onInitPaging(e,t,o){this.limit=o,this.offset=e-1,this.loadData()},loadData(){var e=this.keySearch;this.maxios.get(`customers/paging?limit=${this.limit}&offset=${this.offset}&key=${e||""}`).then((e=>{this.customers=e.Data,this.totalRecords=e.TotalRecords}))},onAddNew(){this.showDetail=!0},onUpdate(e){this.customerId=e.CustomerId,this.showDetail=!0},onDelete(e){this.commonJs.showConfirm(`Bạn có chắc chắn muốn xóa [${e.FullName}] không?`,(()=>{this.maxios.delete(`customers/${e.CustomerId}`),this.loadData()}))},onCloseDetail(){this.showDetail=!1,this.loadData()}},data(){return{customers:[],totalRecords:0,isReload:!1,customerId:null,keySearch:"",limit:0,offset:0,showDetail:!1}}};const Fs=(0,L.Z)(Ls,[["render",ys]]);var Zs=Fs;const qs=(0,s._)("i",{class:"icofont-ui-add"},null,-1),Bs={class:"toolbar__left"},Hs={class:"toolbar__right"},Gs=(0,s._)("i",{class:"icofont-refresh"},null,-1),Js=[Gs],js={class:"button-column"},Ys=["title","onClick"],Qs=(0,s._)("i",{class:"icofont-ui-edit"},null,-1),Ks=[Qs],Xs=["title","onClick"],el=(0,s._)("i",{class:"icofont-ui-delete"},null,-1),tl=[el];function ol(e,t,o,i,n,a){const l=(0,s.up)("m-input-search"),r=(0,s.up)("m-column"),c=(0,s.up)("m-table"),d=(0,s.up)("m-paging"),u=(0,s.up)("m-table-layout"),m=(0,s.up)("m-page"),h=(0,s.up)("CustomerGroupDetail");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(m,{title:"Danh mục nhóm khách hàng",rightSlot:!0},{"header-right":(0,s.w5)((()=>[(0,s._)("button",{class:"btn btn--default btn--refresh",onClick:t[0]||(t[0]=(...e)=>a.onAddNew&&a.onAddNew(...e))},[qs,(0,s.Uk)(" Thêm nhóm khách hàng ")])])),container:(0,s.w5)((()=>[(0,s.Wm)(u,null,{toolbar:(0,s.w5)((()=>[(0,s._)("div",Bs,[(0,s.Wm)(l,{width:"300px",placeholder:"Tìm kiếm",modelValue:n.keySearch,"onUpdate:modelValue":t[1]||(t[1]=e=>n.keySearch=e)},null,8,["modelValue"])]),(0,s._)("div",Hs,[(0,s._)("button",{class:"btn btn-refresh",onClick:t[2]||(t[2]=e=>a.loadData())},Js)])])),container:(0,s.w5)((()=>[(0,s.Wm)(c,{ref:"tbCustomerGroups",data:e.customergroups,"empty-text":"Không có dữ liệu",width:"100%",height:"100%"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{type:"index",label:"#",width:"100px"}),(0,s.Wm)(r,{prop:"CustomerGroupName",label:"Tên nhóm"}),(0,s.Wm)(r,{prop:"Description",label:"Mô tả"}),(0,s.Wm)(r,{width:"50",fixed:"right"},{default:(0,s.w5)((e=>[(0,s._)("div",js,[(0,s._)("button",{class:"btn--table-mini --color-edit",title:e.row.CustomerGroupName,onClick:t=>a.onUpdate(e.row)},Ks,8,Ys),(0,s._)("button",{class:"btn--table-mini --color-red",title:e.row.CustomerGroupName,onClick:t=>a.onDelete(e.row)},tl,8,Xs)])])),_:1})])),_:1},8,["data"])])),footer:(0,s.w5)((()=>[(0,s.Wm)(d,{entityName:"nhóm khách hàng",totalRecords:n.totalRecords,pageSizeData:[10,20,50,100,200],limit:n.limit,"onUpdate:limit":t[3]||(t[3]=e=>n.limit=e),offset:n.offset,"onUpdate:offset":t[4]||(t[4]=e=>n.offset=e),onOnChangePagesize:a.loadData,onOnPrevPage:a.loadData,onOnNextPage:a.loadData,onOnInitPaging:a.onInitPaging},null,8,["totalRecords","limit","offset","onOnChangePagesize","onOnPrevPage","onOnNextPage","onOnInitPaging"])])),_:1})])),footer:(0,s.w5)((()=>[])),_:1}),n.showDetail?((0,s.wg)(),(0,s.j4)(h,{key:0,onOnClose:a.onCloseDetail,id:n.idSelected},null,8,["onOnClose","id"])):(0,s.kq)("",!0)],64)}const il={class:"m-row"},nl={class:"m-col"},al={class:"m-row"};function sl(e,t,o,i,n,a){const l=(0,s.up)("m-input"),r=(0,s.up)("m-text-area"),c=(0,s.up)("m-dialog");return(0,s.wg)(),(0,s.j4)(c,{title:"Thông tin nhóm khách hàng",onOnClose:a.onClose},{content:(0,s.w5)((()=>[(0,s._)("div",il,[(0,s._)("div",nl,[(0,s.Wm)(l,{label:"Tên nhóm",ref:"txtCustomerGroupName",modelValue:n.customergroup.CustomerGroupName,"onUpdate:modelValue":t[0]||(t[0]=e=>n.customergroup.CustomerGroupName=e),validated:e.isValidated,required:!0,isDisabled:!1,isFocus:!0},null,8,["modelValue","validated"])])]),(0,s._)("div",al,[(0,s.Wm)(r,{label:"Mô tả",modelValue:n.customergroup.Description,"onUpdate:modelValue":t[1]||(t[1]=e=>n.customergroup.Description=e)},null,8,["modelValue"])])])),footer:(0,s.w5)((()=>[(0,s._)("button",{class:"btn btn--close",onClick:t[2]||(t[2]=(...e)=>a.onClose&&a.onClose(...e))},"Hủy"),(0,s._)("button",{class:"btn btn--default mg-left-10",onClick:t[3]||(t[3]=(...e)=>a.onSave&&a.onSave(...e))},"Lưu")])),_:1},8,["onOnClose"])}var ll={name:"customergroupDetail",emits:["onClose"],props:["id"],computed:{formMode:function(){return this.id?a.Z.FormMode.UPDATE:a.Z.FormMode.ADD}},created(){this.id&&this.maxios.get(`customergroups/${this.id}`).then((e=>{this.customergroup=e}))},methods:{onClose(){this.$emit("onClose")},onSave(){this.formMode==a.Z.FormMode.ADD?this.maxios.post("customergroups",this.customergroup).then((()=>{this.$emit("onClose")})):this.maxios.put(`customergroups/${this.id}`,this.customergroup).then((()=>{this.$emit("onClose")}))}},data(){return{customergroup:{}}}};const rl=(0,L.Z)(ll,[["render",sl]]);var cl=rl,dl={name:"ProductList",components:{CustomerGroupDetail:cl},emits:[],props:[],created(){},watch:{keySearch:(0,$.Z)((function(){this.loadData()}),500)},methods:{onInitPaging(e,t,o){this.limit=o,this.offset=e-1,this.loadData()},loadData(){var e=this.keySearch;this.maxios.get(`customergroups/paging?limit=${this.limit}&offset=${this.offset}&key=${e||""}`).then((e=>{this.customergroups=e.Data,this.totalRecords=e.TotalRecords}))},onAddNew(){this.showDetail=!0},onUpdate(e){this.idSelected=e.CustomerGroupId,this.showDetail=!0},onDelete(e){this.commonJs.showConfirm(`Bạn có chắc chắn muốn xóa [${e.CustomerGroupName}] không?`,(()=>{this.maxios.delete(`customergroups/${e.CustomerGroupId}`),this.loadData()}))},onCloseDetail(){this.showDetail=!1,this.loadData()}},data(){return{customerGroups:[],totalRecords:0,isReload:!1,keySearch:"",limit:0,offset:0,showDetail:!1,idSelected:null}}};const ul=(0,L.Z)(dl,[["render",ol]]);var ml=ul;const hl=(0,s._)("i",{class:"icofont-ui-add"},null,-1),pl={class:"toolbar__left"},gl={class:"toolbar__right"},_l=(0,s._)("i",{class:"icofont-refresh"},null,-1),fl=[_l],vl={key:0,class:"button-column"},bl=["title","onClick"],wl=(0,s._)("i",{class:"icofont-ui-edit"},null,-1),kl=[wl],yl=["title","onClick"],Dl=(0,s._)("i",{class:"icofont-ui-delete"},null,-1),Cl=[Dl];function xl(e,t,o,i,n,a){const l=(0,s.up)("m-input-search"),r=(0,s.up)("m-column"),c=(0,s.up)("m-table"),d=(0,s.up)("m-paging"),u=(0,s.up)("m-table-layout"),m=(0,s.up)("m-page"),h=(0,s.up)("UnitDetail");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(m,{title:"Danh mục đơn vị tính",rightSlot:!0},{"header-right":(0,s.w5)((()=>[(0,s._)("button",{class:"btn btn--default btn--refresh",onClick:t[0]||(t[0]=(...e)=>a.onAddNew&&a.onAddNew(...e))},[hl,(0,s.Uk)(" Thêm đơn vị ")])])),container:(0,s.w5)((()=>[(0,s.Wm)(u,null,{toolbar:(0,s.w5)((()=>[(0,s._)("div",pl,[(0,s.Wm)(l,{width:"300px",placeholder:"Tìm kiếm",modelValue:n.keySearch,"onUpdate:modelValue":t[1]||(t[1]=e=>n.keySearch=e)},null,8,["modelValue"])]),(0,s._)("div",gl,[(0,s._)("button",{class:"btn btn-refresh",onClick:t[2]||(t[2]=e=>a.loadData())},fl)])])),container:(0,s.w5)((()=>[(0,s.Wm)(c,{ref:"tbUnits",data:n.units,"empty-text":"Không có dữ liệu",width:"100%",height:"100%"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{type:"index",label:"#",width:"50px"}),(0,s.Wm)(r,{prop:"UnitName",label:"Tên đơn vị"}),(0,s.Wm)(r,{prop:"Description",label:"Mô tả"}),(0,s.Wm)(r,{width:"50",fixed:"right"},{default:(0,s.w5)((e=>[0==e.row.IsSystem?((0,s.wg)(),(0,s.iD)("div",vl,[(0,s._)("button",{class:"btn--table-mini --color-edit",title:e.row.UnitName,onClick:t=>a.onUpdate(e.row)},kl,8,bl),(0,s._)("button",{class:"btn--table-mini --color-red",title:e.row.UnitName,onClick:t=>a.onDelete(e.row)},Cl,8,yl)])):(0,s.kq)("",!0)])),_:1})])),_:1},8,["data"])])),footer:(0,s.w5)((()=>[(0,s.Wm)(d,{entityName:"đơn vị tính",totalRecords:n.totalRecords,pageSizeData:[10,20,50,100,200],limit:n.limit,"onUpdate:limit":t[3]||(t[3]=e=>n.limit=e),offset:n.offset,"onUpdate:offset":t[4]||(t[4]=e=>n.offset=e),onOnChangePagesize:a.loadData,onOnPrevPage:a.loadData,onOnNextPage:a.loadData,onOnInitPaging:a.onInitPaging},null,8,["totalRecords","limit","offset","onOnChangePagesize","onOnPrevPage","onOnNextPage","onOnInitPaging"])])),_:1})])),footer:(0,s.w5)((()=>[])),_:1}),n.showDetail?((0,s.wg)(),(0,s.j4)(h,{key:0,onOnClose:a.onCloseDetail,id:n.idSelected},null,8,["onOnClose","id"])):(0,s.kq)("",!0)],64)}const Pl={class:"m-row"},Il={class:"m-col"},Sl={class:"m-row"},Vl={class:"m-col"},Nl={class:"m-row"},Tl={class:"m-row"},El={class:"m-col"};function Ol(e,t,o,i,n,a){const l=(0,s.up)("m-input"),r=(0,s.up)("m-text-area"),c=(0,s.up)("m-checkbox"),d=(0,s.up)("m-dialog");return(0,s.wg)(),(0,s.j4)(d,{title:"Thông tin đơn vị tính",onOnClose:a.onClose},{content:(0,s.w5)((()=>[(0,s._)("div",Pl,[(0,s._)("div",Il,[(0,s.Wm)(l,{label:"Mã đơn vị",ref:"txtUnitName",modelValue:n.unit.UnitCode,"onUpdate:modelValue":t[0]||(t[0]=e=>n.unit.UnitCode=e),required:!0,isDisabled:!1,isFocus:!0},null,8,["modelValue"])])]),(0,s._)("div",Sl,[(0,s._)("div",Vl,[(0,s.Wm)(l,{label:"Tên đơn vị",ref:"txtUnitName",modelValue:n.unit.UnitName,"onUpdate:modelValue":t[1]||(t[1]=e=>n.unit.UnitName=e),required:!0,isDisabled:!1},null,8,["modelValue"])])]),(0,s._)("div",Nl,[(0,s.Wm)(r,{label:"Mô tả",modelValue:n.unit.Description,"onUpdate:modelValue":t[2]||(t[2]=e=>n.unit.Description=e)},null,8,["modelValue"])]),(0,s._)("div",Tl,[(0,s._)("div",El,[(0,s.Wm)(c,{id:"chkIsSystem",disabled:!a.isAdministrator,modelValue:n.unit.IsSystem,"onUpdate:modelValue":t[3]||(t[3]=e=>n.unit.IsSystem=e),label:"Đơn vị hệ thống"},null,8,["disabled","modelValue"])])])])),footer:(0,s.w5)((()=>[(0,s._)("button",{class:"btn btn--close",onClick:t[4]||(t[4]=(...e)=>a.onClose&&a.onClose(...e))},"Hủy"),(0,s._)("button",{class:"btn btn--default mg-left-10",onClick:t[5]||(t[5]=(...e)=>a.onSave&&a.onSave(...e))},"Lưu")])),_:1},8,["onOnClose"])}var Ul={name:"UnitDetail",emits:["onClose"],props:["id"],computed:{formMode:function(){return this.id?a.Z.FormMode.UPDATE:a.Z.FormMode.ADD},isAdministrator:function(){var e=localStorage.getItem("userRoleValue");return e==a.Z.Role.Administrator}},created(){this.id?this.maxios.get(`units/${this.id}`).then((e=>{this.unit=e})):this.maxios.get("units/new-code").then((e=>{this.unit.UnitCode=e}))},methods:{onClose(){this.$emit("onClose")},onSave(){this.formMode==a.Z.FormMode.ADD?this.maxios.post("units",this.unit).then((()=>{this.$emit("onClose")})):this.maxios.patch(`units/${this.id}`,this.unit).then((()=>{this.$emit("onClose")}))}},data(){return{unit:{}}}};const Ml=(0,L.Z)(Ul,[["render",Ol]]);var zl=Ml,Al={name:"UnitList",components:{UnitDetail:zl},emits:[],props:[],created(){},watch:{keySearch:(0,$.Z)((function(){this.loadData()}),500)},methods:{onInitPaging(e,t,o){this.limit=o,this.offset=e-1,this.loadData()},loadData(){var e=this.keySearch;this.maxios.get(`units/paging?limit=${this.limit}&offset=${this.offset}&key=${e||""}`).then((e=>{this.units=e.Data,this.totalRecords=e.TotalRecords}))},onAddNew(){this.showDetail=!0,this.idSelected=null},onUpdate(e){this.idSelected=e.UnitId,this.showDetail=!0},onDelete(e){this.commonJs.showConfirm(`Bạn có chắc chắn muốn xóa [${e.UnitName}] không?`,(()=>{this.maxios.delete(`units/${e.UnitId}`),this.loadData()}))},onCloseDetail(){this.showDetail=!1,this.loadData()}},data(){return{units:[],totalRecords:0,isReload:!1,keySearch:"",limit:0,offset:0,showDetail:!1,idSelected:null}}};const $l=(0,L.Z)(Al,[["render",xl]]);var Rl=$l;const Wl=(0,s._)("i",{class:"icofont-ui-add"},null,-1),Ll={class:"toolbar__left"},Fl={class:"toolbar__right"},Zl=(0,s._)("i",{class:"icofont-refresh"},null,-1),ql=[Zl],Bl={key:0,class:"button-column"},Hl=["title","onClick"],Gl=(0,s._)("i",{class:"icofont-ui-edit"},null,-1),Jl=[Gl],jl=["title","onClick"],Yl=(0,s._)("i",{class:"icofont-ui-delete"},null,-1),Ql=[Yl];function Kl(e,t,o,i,n,a){const l=(0,s.up)("m-input-search"),r=(0,s.up)("m-column"),c=(0,s.up)("m-table"),d=(0,s.up)("m-paging"),u=(0,s.up)("m-table-layout"),m=(0,s.up)("m-page"),h=(0,s.up)("PositionDetail");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(m,{title:"Danh mục vị trí /chức vụ",rightSlot:!0},{"header-right":(0,s.w5)((()=>[(0,s._)("button",{class:"btn btn--default btn--refresh",onClick:t[0]||(t[0]=(...e)=>a.onAddNew&&a.onAddNew(...e))},[Wl,(0,s.Uk)(" Thêm vị trí ")])])),container:(0,s.w5)((()=>[(0,s.Wm)(u,null,{toolbar:(0,s.w5)((()=>[(0,s._)("div",Ll,[(0,s.Wm)(l,{width:"300px",placeholder:"Tìm kiếm",modelValue:n.keySearch,"onUpdate:modelValue":t[1]||(t[1]=e=>n.keySearch=e)},null,8,["modelValue"])]),(0,s._)("div",Fl,[(0,s._)("button",{class:"btn btn-refresh",onClick:t[2]||(t[2]=e=>a.loadData())},ql)])])),container:(0,s.w5)((()=>[(0,s.Wm)(c,{ref:"tbPositions",data:n.positions,"empty-text":"Không có dữ liệu",width:"100%",height:"100%"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{type:"index",label:"#",width:"50px"}),(0,s.Wm)(r,{prop:"PositionName",label:"Tên vị trí"}),(0,s.Wm)(r,{prop:"Description",label:"Mô tả"}),(0,s.Wm)(r,{width:"50",fixed:"right"},{default:(0,s.w5)((e=>[e.row.IsSystem&&0!=e.row.IsSystem?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Bl,[(0,s._)("button",{class:"btn--table-mini --color-edit",title:e.row.PositionName,onClick:t=>a.onUpdate(e.row)},Jl,8,Hl),(0,s._)("button",{class:"btn--table-mini --color-red",title:e.row.PositionName,onClick:t=>a.onDelete(e.row)},Ql,8,jl)]))])),_:1})])),_:1},8,["data"])])),footer:(0,s.w5)((()=>[(0,s.Wm)(d,{entityName:"vị trí",totalRecords:n.totalRecords,pageSizeData:[10,20,50,100,200],limit:n.limit,"onUpdate:limit":t[3]||(t[3]=e=>n.limit=e),offset:n.offset,"onUpdate:offset":t[4]||(t[4]=e=>n.offset=e),onOnChangePagesize:a.loadData,onOnPrevPage:a.loadData,onOnNextPage:a.loadData,onOnInitPaging:a.onInitPaging},null,8,["totalRecords","limit","offset","onOnChangePagesize","onOnPrevPage","onOnNextPage","onOnInitPaging"])])),_:1})])),footer:(0,s.w5)((()=>[])),_:1}),n.showDetail?((0,s.wg)(),(0,s.j4)(h,{key:0,onOnClose:a.onCloseDetail,id:n.idSelected},null,8,["onOnClose","id"])):(0,s.kq)("",!0)],64)}const Xl={class:"m-row"},er={class:"m-col"},tr={class:"m-row"};function or(e,t,o,i,n,a){const l=(0,s.up)("m-input"),r=(0,s.up)("m-text-area"),c=(0,s.up)("m-dialog");return(0,s.wg)(),(0,s.j4)(c,{title:"Danh mục vị trí/ Chức vụ",onOnClose:a.onClose},{content:(0,s.w5)((()=>[(0,s._)("div",Xl,[(0,s._)("div",er,[(0,s.Wm)(l,{label:"Tên vị trí/ Chức vụ",ref:"txtPositionName",modelValue:n.position.PositionName,"onUpdate:modelValue":t[0]||(t[0]=e=>n.position.PositionName=e),validated:e.isValidated,required:!0,isDisabled:!1,isFocus:!0},null,8,["modelValue","validated"])])]),(0,s._)("div",tr,[(0,s.Wm)(r,{label:"Mô tả",modelValue:n.position.Description,"onUpdate:modelValue":t[1]||(t[1]=e=>n.position.Description=e)},null,8,["modelValue"])])])),footer:(0,s.w5)((()=>[(0,s._)("button",{class:"btn btn--close",onClick:t[2]||(t[2]=(...e)=>a.onClose&&a.onClose(...e))},"Hủy"),(0,s._)("button",{class:"btn btn--default mg-left-10",onClick:t[3]||(t[3]=(...e)=>a.onSave&&a.onSave(...e))},"Lưu")])),_:1},8,["onOnClose"])}var ir={name:"PositionDetail",emits:["onClose"],props:["id"],computed:{formMode:function(){return this.id?a.Z.FormMode.UPDATE:a.Z.FormMode.ADD}},created(){this.id&&this.maxios.get(`positions/${this.id}`).then((e=>{this.position=e}))},methods:{onClose(){this.$emit("onClose")},onSave(){this.formMode==a.Z.FormMode.ADD?this.maxios.post("positions",this.position).then((()=>{this.$emit("onClose")})):this.maxios.put(`positions/${this.id}`,this.position).then((()=>{this.$emit("onClose")}))}},data(){return{position:{}}}};const nr=(0,L.Z)(ir,[["render",or]]);var ar=nr,sr={name:"PositionList",components:{PositionDetail:ar},emits:[],props:[],created(){},watch:{keySearch:(0,$.Z)((function(){this.loadData()}),500)},methods:{onInitPaging(e,t,o){this.limit=o,this.offset=e-1,this.loadData()},loadData(){var e=this.keySearch;this.maxios.get(`positions/paging?limit=${this.limit}&offset=${this.offset}&key=${e||""}`).then((e=>{this.positions=e.Data,this.totalRecords=e.TotalRecords}))},onAddNew(){this.showDetail=!0,this.idSelected=null},onUpdate(e){this.idSelected=e.PositionId,this.showDetail=!0},onDelete(e){this.commonJs.showConfirm(`Bạn có chắc chắn muốn xóa [${e.PositionName}] không?`,(()=>{this.maxios.delete(`positions/${e.PositionId}`),this.loadData()}))},onCloseDetail(){this.showDetail=!1,this.loadData()}},data(){return{positions:[],totalRecords:0,isReload:!1,keySearch:"",limit:0,offset:0,showDetail:!1,idSelected:null}}};const lr=(0,L.Z)(sr,[["render",Kl]]);var rr=lr;const cr=(0,s._)("i",{class:"icofont-ui-add"},null,-1),dr={class:"toolbar__left"},ur={class:"toolbar__right"},mr=(0,s._)("i",{class:"icofont-refresh"},null,-1),hr=[mr],pr={key:0,class:"button-column"},gr=["title","onClick"],_r=(0,s._)("i",{class:"icofont-ui-edit"},null,-1),fr=[_r],vr=["title","onClick"],br=(0,s._)("i",{class:"icofont-ui-delete"},null,-1),wr=[br];function kr(e,t,o,i,n,a){const l=(0,s.up)("m-input-search"),r=(0,s.up)("m-column"),c=(0,s.up)("m-table"),d=(0,s.up)("m-paging"),u=(0,s.up)("m-table-layout"),m=(0,s.up)("m-page"),h=(0,s.up)("GroupProductDetail");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(m,{title:"Danh mục nhóm Sản phẩm, nhóm Dịch vụ",rightSlot:!0},{"header-right":(0,s.w5)((()=>[(0,s._)("button",{class:"btn btn--default btn--refresh",onClick:t[0]||(t[0]=(...e)=>a.onAddNew&&a.onAddNew(...e))},[cr,(0,s.Uk)(" Thêm nhóm ")])])),container:(0,s.w5)((()=>[(0,s.Wm)(u,null,{toolbar:(0,s.w5)((()=>[(0,s._)("div",dr,[(0,s.Wm)(l,{width:"300px",placeholder:"Tìm kiếm",modelValue:n.keySearch,"onUpdate:modelValue":t[1]||(t[1]=e=>n.keySearch=e)},null,8,["modelValue"])]),(0,s._)("div",ur,[(0,s._)("button",{class:"btn btn-refresh",onClick:t[2]||(t[2]=e=>a.loadData())},hr)])])),container:(0,s.w5)((()=>[(0,s.Wm)(c,{ref:"tbGroupProducts",data:n.groupProducts,"empty-text":"Không có dữ liệu",width:"100%",height:"100%"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{prop:"RowIndex",label:"#",width:"50px"}),(0,s.Wm)(r,{prop:"GroupProductName",label:"Tên nhóm"}),(0,s.Wm)(r,{prop:"Description",label:"Mô tả"}),(0,s.Wm)(r,{width:"50",fixed:"right"},{default:(0,s.w5)((e=>[1!=e.row.IsSystem?((0,s.wg)(),(0,s.iD)("div",pr,[(0,s._)("button",{class:"btn--table-mini --color-edit",title:e.row.GroupProductName,onClick:t=>a.onUpdate(e.row)},fr,8,gr),(0,s._)("button",{class:"btn--table-mini --color-red",title:e.row.GroupProductName,onClick:t=>a.onDelete(e.row)},wr,8,vr)])):(0,s.kq)("",!0)])),_:1})])),_:1},8,["data"])])),footer:(0,s.w5)((()=>[(0,s.Wm)(d,{entityName:"nhóm sản phẩm/dịch vụ",totalRecords:n.totalRecords,pageSizeData:[10,20,50,100,200],limit:n.limit,"onUpdate:limit":t[3]||(t[3]=e=>n.limit=e),offset:n.offset,"onUpdate:offset":t[4]||(t[4]=e=>n.offset=e),onOnChangePagesize:a.loadData,onOnPrevPage:a.loadData,onOnNextPage:a.loadData,onOnInitPaging:a.onInitPaging},null,8,["totalRecords","limit","offset","onOnChangePagesize","onOnPrevPage","onOnNextPage","onOnInitPaging"])])),_:1})])),footer:(0,s.w5)((()=>[])),_:1}),n.showDetail?((0,s.wg)(),(0,s.j4)(h,{key:0,onOnClose:a.onCloseDetail,id:n.idSelected},null,8,["onOnClose","id"])):(0,s.kq)("",!0)],64)}const yr={class:"m-row"},Dr={class:"m-col"},Cr={class:"m-row"},xr={class:"m-col"},Pr={class:"m-row"},Ir={class:"m-row"},Sr={class:"m-col"},Vr={class:"footer-button"};function Nr(e,t,o,i,n,a){const l=(0,s.up)("m-input"),r=(0,s.up)("m-combobox"),c=(0,s.up)("m-text-area"),d=(0,s.up)("m-checkbox"),u=(0,s.up)("m-dialog");return(0,s.wg)(),(0,s.j4)(u,{title:"Thông tin đơn vị tính",onOnClose:a.onClose},{content:(0,s.w5)((()=>[(0,s._)("div",yr,[(0,s._)("div",Dr,[(0,s.Wm)(l,{label:"Tên nhóm Sản phẩm, Dịch vụ",ref:"txtGroupProductName",modelValue:n.groupProduct.GroupProductName,"onUpdate:modelValue":t[0]||(t[0]=e=>n.groupProduct.GroupProductName=e),required:!0,isDisabled:!1,isFocus:!0},null,8,["modelValue"])])]),(0,s._)("div",Cr,[(0,s._)("div",xr,[(0,s.Wm)(r,{label:"Thuộc nhóm",modelValue:n.groupProduct.ParentId,"onUpdate:modelValue":t[1]||(t[1]=e=>n.groupProduct.ParentId=e),url:"/groupproducts",propText:"GroupProductName",propValue:"GroupProductId"},null,8,["modelValue"])])]),(0,s._)("div",Pr,[(0,s.Wm)(c,{label:"Mô tả",modelValue:n.groupProduct.Description,"onUpdate:modelValue":t[2]||(t[2]=e=>n.groupProduct.Description=e)},null,8,["modelValue"])]),(0,s._)("div",Ir,[(0,s._)("div",Sr,[(0,s.Wm)(d,{id:"chkIsSystem",disabled:!a.isAdministrator,modelValue:n.groupProduct.IsSystem,"onUpdate:modelValue":t[3]||(t[3]=e=>n.groupProduct.IsSystem=e),label:"Đơn vị hệ thống"},null,8,["disabled","modelValue"])])])])),footer:(0,s.w5)((()=>[(0,s._)("div",Vr,[(0,s._)("button",{class:"btn btn--default mg-left-10",onClick:t[4]||(t[4]=(...e)=>a.onSave&&a.onSave(...e))},"Lưu"),(0,s._)("button",{class:"btn btn--close",onClick:t[5]||(t[5]=(...e)=>a.onClose&&a.onClose(...e))},"Hủy")])])),_:1},8,["onOnClose"])}var Tr={name:"GroupProductDetail",emits:["onClose"],props:["id"],computed:{formMode:function(){return this.id?a.Z.FormMode.UPDATE:a.Z.FormMode.ADD},isAdministrator:function(){var e=localStorage.getItem("userRoleValue");return e==a.Z.Role.Administrator}},created(){this.id&&this.maxios.get(`groupproducts/${this.id}`).then((e=>{this.groupProduct=e}))},methods:{onClose(){this.$emit("onClose")},onSave(){this.formMode==a.Z.FormMode.ADD?this.maxios.post("groupProducts",this.groupProduct).then((()=>{this.$emit("onClose")})):this.maxios.put(`groupProducts/${this.id}`,this.groupProduct).then((()=>{this.$emit("onClose")}))}},data(){return{groupProduct:{}}}};const Er=(0,L.Z)(Tr,[["render",Nr],["__scopeId","data-v-3c9d6f9d"]]);var Or=Er,Ur={name:"GroupProductList",components:{GroupProductDetail:Or},emits:[],props:[],created(){},watch:{keySearch:(0,$.Z)((function(){this.loadData()}),500)},methods:{onInitPaging(e,t,o){this.limit=o,this.offset=e-1,this.loadData()},loadData(){var e=this.keySearch;this.maxios.get(`groupProducts/paging?limit=${this.limit}&offset=${this.offset}&key=${e||""}`).then((e=>{this.groupProducts=e.Data,this.totalRecords=e.TotalRecords}))},onAddNew(){this.showDetail=!0,this.idSelected=null},onUpdate(e){this.idSelected=e.GroupProductId,this.showDetail=!0},onDelete(e){this.commonJs.showConfirm(`Bạn có chắc chắn muốn xóa [${e.GroupProductName}] không?`,(()=>{this.maxios.delete(`groupProducts/${e.GroupProductId}`),this.loadData()}))},onCloseDetail(){this.showDetail=!1,this.loadData()}},data(){return{groupProducts:[],totalRecords:0,isReload:!1,keySearch:"",limit:0,offset:0,showDetail:!1,idSelected:null}}};const Mr=(0,L.Z)(Ur,[["render",kr]]);var zr=Mr;const Ar=e=>((0,s.dD)("data-v-8e2bce7e"),e=e(),(0,s.Cn)(),e),$r={class:"m-row"},Rr={class:"m-col"},Wr={class:"m-col"},Lr={class:"m-row"},Fr={class:"m-col"},Zr=Ar((()=>(0,s._)("div",{class:"m-col"},null,-1))),qr={class:"m-row"},Br={class:"m-col"},Hr={class:"m-col"},Gr={class:"m-row"},Jr={class:"footer-button"},jr=Ar((()=>(0,s._)("i",{class:"icofont-save"},null,-1))),Yr=Ar((()=>(0,s._)("i",{class:"icofont-ui-close"},null,-1)));function Qr(e,t,o,i,n,a){const l=(0,s.up)("m-input"),r=(0,s.up)("m-combobox"),c=(0,s.up)("m-text-area"),d=(0,s.up)("m-dialog");return(0,s.wg)(),(0,s.j4)(d,{title:"Thông tin sản phẩm",onOnClose:a.onClose},{content:(0,s.w5)((()=>[(0,s._)("div",$r,[(0,s._)("div",Rr,[(0,s.Wm)(l,{label:"Mã sản phẩm/ dịch vụ",ref:"txtProductCode",modelValue:n.product.ProductCode,"onUpdate:modelValue":t[0]||(t[0]=e=>n.product.ProductCode=e),validated:e.isValidated,required:!0,isDisabled:!1,isFocus:!0},null,8,["modelValue","validated"])]),(0,s._)("div",Wr,[(0,s.Wm)(l,{label:"Tên sản phẩm/ dịch vụ",ref:"txtProductName",modelValue:n.product.ProductName,"onUpdate:modelValue":t[1]||(t[1]=e=>n.product.ProductName=e),validated:e.isValidated,required:!0,isDisabled:!1},null,8,["modelValue","validated"])])]),(0,s._)("div",Lr,[(0,s._)("div",Fr,[(0,s.Wm)(r,{label:"Nhóm sản phẩm/ dịch vụ",modelValue:n.product.GroupProductId,"onUpdate:modelValue":t[2]||(t[2]=e=>n.product.GroupProductId=e),url:"/groupproducts",propText:"GroupProductName",propValue:"GroupProductId"},null,8,["modelValue"])]),Zr]),(0,s._)("div",qr,[(0,s._)("div",Br,[(0,s.Wm)(l,{label:"Đơn giá",ref:"txtProductCode",modelValue:n.product.UnitPrice,"onUpdate:modelValue":t[3]||(t[3]=e=>n.product.UnitPrice=e),format:"money",validated:e.isValidated,required:!0,isDisabled:!1,onlyNumberChar:!0},null,8,["modelValue","validated"])]),(0,s._)("div",Hr,[(0,s.Wm)(r,{label:"Đơn vị tính",modelValue:n.product.UnitId,"onUpdate:modelValue":t[4]||(t[4]=e=>n.product.UnitId=e),url:"/units",propText:"UnitName",propValue:"UnitId"},null,8,["modelValue"])])]),(0,s._)("div",Gr,[(0,s.Wm)(c,{label:"Mô tả",modelValue:n.product.Description,"onUpdate:modelValue":t[5]||(t[5]=e=>n.product.Description=e)},null,8,["modelValue"])])])),footer:(0,s.w5)((()=>[(0,s._)("div",Jr,[(0,s._)("button",{class:"btn btn--default mg-left-10",onClick:t[6]||(t[6]=(...e)=>a.onSave&&a.onSave(...e))},[jr,(0,s.Uk)(" Lưu")]),(0,s._)("button",{class:"btn btn--close",onClick:t[7]||(t[7]=(...e)=>a.onClose&&a.onClose(...e))},[Yr,(0,s.Uk)(" Hủy")])])])),_:1},8,["onOnClose"])}var Kr={name:"ProductDetail",emits:[],props:["id"],computed:{formMode:function(){return this.id?a.Z.FormMode.UPDATE:a.Z.FormMode.ADD}},created(){this.id?this.maxios.get(`products/${this.id}`).then((e=>{this.product=e})):this.maxios.get("products/new-code").then((e=>{this.product.ProductCode=e}))},methods:{onClose(){Sm.push("/products")},onSave(){this.formMode==a.Z.FormMode.ADD?this.maxios.post("products",this.product).then((()=>{Sm.push("/products")})):this.maxios.put(`products/${this.id}`,this.product).then((()=>{Sm.push("/products")}))}},data(){return{product:{}}}};const Xr=(0,L.Z)(Kr,[["render",Qr],["__scopeId","data-v-8e2bce7e"]]);var ec=Xr;const tc=(0,s._)("i",{class:"icofont-ui-add"},null,-1),oc={class:"toolbar__left"},ic={class:"toolbar__right"},nc=(0,s._)("i",{class:"icofont-refresh"},null,-1),ac=[nc],sc={class:"button-column"},lc=["title","onClick"],rc=(0,s._)("i",{class:"icofont-ui-edit"},null,-1),cc=[rc],dc=["title","onClick"],uc=(0,s._)("i",{class:"icofont-ui-delete"},null,-1),mc=[uc];function hc(e,t,o,i,n,a){const r=(0,s.up)("m-input-search"),c=(0,s.up)("m-column"),d=(0,s.up)("m-table"),u=(0,s.up)("m-paging"),m=(0,s.up)("m-table-layout"),h=(0,s.up)("m-page"),p=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(h,{title:"Danh mục sản phẩm",rightSlot:!0},{"header-right":(0,s.w5)((()=>[(0,s._)("button",{class:"btn btn--default btn--refresh",onClick:t[0]||(t[0]=(...e)=>a.onAddNew&&a.onAddNew(...e))},[tc,(0,s.Uk)(" Thêm sản phẩm ")])])),container:(0,s.w5)((()=>[(0,s.Wm)(m,null,{toolbar:(0,s.w5)((()=>[(0,s._)("div",oc,[(0,s.Wm)(r,{width:"300px",placeholder:"Tìm kiếm",modelValue:n.keySearch,"onUpdate:modelValue":t[1]||(t[1]=e=>n.keySearch=e)},null,8,["modelValue"])]),(0,s._)("div",ic,[(0,s._)("button",{class:"btn btn-refresh",onClick:t[2]||(t[2]=e=>a.loadData())},ac)])])),container:(0,s.w5)((()=>[(0,s.Wm)(d,{ref:"tbProducts",data:n.products,"empty-text":"Không có dữ liệu",width:"100%",height:"100%"},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{prop:"ProductCode",label:"#",width:"100px"}),(0,s.Wm)(c,{prop:"ProductName",label:"Tên dịch vụ/sản phẩm"}),(0,s.Wm)(c,{label:"Đơn giá",align:"right"},{default:(0,s.w5)((t=>[(0,s._)("div",null,(0,l.zw)(e.commonJs.formatMoney(t.row.UnitPrice)),1)])),_:1}),(0,s.Wm)(c,{width:"50",fixed:"right"},{default:(0,s.w5)((e=>[(0,s._)("div",sc,[(0,s._)("button",{class:"btn--table-mini --color-edit",title:e.row.ProductName,onClick:t=>a.onUpdate(e.row)},cc,8,lc),(0,s._)("button",{class:"btn--table-mini --color-red",title:e.row.ProductName,onClick:t=>a.onDelete(e.row)},mc,8,dc)])])),_:1})])),_:1},8,["data"])])),footer:(0,s.w5)((()=>[(0,s.Wm)(u,{entityName:"sản phẩm/dịch vụ",totalRecords:n.totalRecords,pageSizeData:[10,20,50,100,200],limit:n.limit,"onUpdate:limit":t[3]||(t[3]=e=>n.limit=e),offset:n.offset,"onUpdate:offset":t[4]||(t[4]=e=>n.offset=e),onOnChangePagesize:a.loadData,onOnPrevPage:a.loadData,onOnNextPage:a.loadData,onOnInitPaging:a.onInitPaging},null,8,["totalRecords","limit","offset","onOnChangePagesize","onOnPrevPage","onOnNextPage","onOnInitPaging"])])),_:1})])),footer:(0,s.w5)((()=>[])),_:1}),(0,s.Wm)(p,{name:"ProductDetailView"})],64)}var pc={name:"ProductList",emits:[],props:[],created(){},watch:{keySearch:(0,$.Z)((function(){this.loadData()}),500)},methods:{onInitPaging(e,t,o){this.limit=o,this.offset=e-1,this.loadData()},loadData(){var e=this.keySearch;this.maxios.get(`products/paging?limit=${this.limit}&offset=${this.offset}&key=${e||""}`).then((e=>{this.products=e.Data,this.totalRecords=e.TotalRecords}))},onAddNew(){Sm.push("products/create")},onUpdate(e){Sm.push(`products/${e.ProductId}`),console.log(e)},onDelete(e){this.commonJs.showConfirm(`Bạn có chắc chắn muốn xóa [${e.ProductName}] không?`,(()=>{this.maxios.delete(`products/${e.ProductId}`),this.loadData()}))}},data(){return{products:[],totalRecords:0,isReload:!1,keySearch:"",limit:0,offset:0}}};const gc=(0,L.Z)(pc,[["render",hc]]);var _c=gc;const fc=e=>((0,s.dD)("data-v-04fe93bc"),e=e(),(0,s.Cn)(),e),vc={class:"login"},bc={class:"login-container"},wc=fc((()=>(0,s._)("div",{class:"form__button"},[(0,s._)("button",{id:"btn-login",class:"btn btn--default",submit:"onLogin"},[(0,s._)("i",{class:"icofont-login"}),(0,s.Uk)(" Đăng nhập ")])],-1))),kc={class:"login-ext"},yc=fc((()=>(0,s._)("i",{class:"icofont-swoosh-right"},null,-1)));function Dc(e,t,o,i,n,a){const l=(0,s.up)("m-input"),r=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",vc,[(0,s._)("div",bc,[(0,s._)("form",{class:"login-form",id:"FRM_LOGIN",onSubmit:t[3]||(t[3]=(0,q.iM)(((...e)=>a.onLogin&&a.onLogin(...e)),["prevent"]))},[(0,s.Wm)(l,{label:"Tài khoản đăng nhập",required:!0,isFocus:!0,modelValue:n.user.UserName,"onUpdate:modelValue":t[0]||(t[0]=e=>n.user.UserName=e),placeholder:"Nhập số điện thoại chính của bạn",validated:n.validated,"onUpdate:validated":t[1]||(t[1]=e=>n.validated=e)},null,8,["modelValue","validated"]),(0,s.Wm)(l,{label:"Mật khẩu",placeholder:"Mật khẩu",type:"password",modelValue:n.user.Password,"onUpdate:modelValue":t[2]||(t[2]=e=>n.user.Password=e),autocomplete:"password",required:!0,validated:n.validated},null,8,["modelValue","validated"]),wc],32),(0,s._)("div",kc,[(0,s._)("span",null,[(0,s.Uk)("Bạn chưa có cửa hàng? "),yc,(0,s.Wm)(r,{to:"/register"},{default:(0,s.w5)((()=>[(0,s.Uk)("Tạo cửa hàng mới")])),_:1})])])])])}var Cc={name:"AccountLogin",components:{},emits:[],props:[],created(){},methods:{onLogin(){this.commonJs.login(this.user.UserName,this.user.Password)}},data(){return{validated:!1,user:{}}}};const xc=(0,L.Z)(Cc,[["render",Dc],["__scopeId","data-v-04fe93bc"]]);var Pc=xc;const Ic=e=>((0,s.dD)("data-v-43ccb307"),e=e(),(0,s.Cn)(),e),Sc={id:"step-1",class:"user-info"},Vc={class:"m-row"},Nc={class:"m-col",style:{width:"100px"}},Tc=Ic((()=>(0,s._)("div",{class:"m-col flex-1"},null,-1))),Ec={class:"m-row"},Oc={class:"m-col",style:{width:"100px"}},Uc={class:"m-col flex-1"},Mc={class:"m-row"},zc={class:"m-col"},Ac={class:"m-row"},$c={class:"m-col"},Rc=Ic((()=>(0,s._)("label",{for:""},"Ngày sinh:",-1))),Wc={class:"m-col"},Lc={class:"m-row"},Fc={class:"m-col"},Zc={class:"m-col"},qc={id:"step-2",class:"organization-info"},Bc={class:"m-row"},Hc={class:"m-col",style:{width:"100px"}},Gc=Ic((()=>(0,s._)("div",{class:"m-col flex-1"},null,-1))),Jc={class:"m-row"},jc={class:"m-col flex-1"},Yc={class:"m-row"},Qc={class:"m-col"},Kc={class:"m-row"},Xc={class:"m-col"},ed={class:"m-row"},td={class:"m-col"},od=Ic((()=>(0,s._)("div",{class:"m-col"},null,-1))),id={class:"m-row"},nd={class:"m-col"},ad={class:"m-col"},sd={class:"m-row"},ld={class:"m-col"},rd={class:"m-row"},cd={key:0,id:"step-3",class:"step-3"},dd={class:"license-info"},ud=Ic((()=>(0,s._)("div",{class:"license__icon"},[(0,s._)("i",{class:"icofont-license"})],-1))),md={class:"license__content"},hd=Ic((()=>(0,s._)("br",null,null,-1))),pd=Ic((()=>(0,s._)("i",{class:"icofont-hand-right"},null,-1))),gd=Ic((()=>(0,s._)("br",null,null,-1))),_d=Ic((()=>(0,s._)("i",{class:"icofont-hand-right"},null,-1))),fd={class:"confirm-box"},vd={class:"confirm__form"},bd=Ic((()=>(0,s._)("div",null," Bạn có thể đăng ký thành viên VIP hoặc gia hạn VIP sau thời gian dùng thử chỉ với 2000đ/ngày. ",-1))),wd=Ic((()=>(0,s._)("div",{class:"contant-info"},[(0,s.Uk)(" Mọi vấn đề cần hỗ trợ, xin vui lòng liên hệ: "),(0,s._)("div",{class:"author-name"},"Mạnh Software"),(0,s._)("li",null,[(0,s._)("i",{class:"icofont-mobile-phone"}),(0,s.Uk)(": "),(0,s._)("a",{href:"tel:0961179969"},"0961179969")]),(0,s._)("li",null,[(0,s._)("i",{class:"icofont-ui-email"}),(0,s.Uk)(": "),(0,s._)("a",{href:"email:https://nmanh.com"},"manhnv229@gmail.com")]),(0,s._)("li",null,[(0,s._)("i",{class:"icofont-web"}),(0,s.Uk)(": "),(0,s._)("a",{href:"web:https://nmanh.com"},"https://www.nmanh.com")])],-1))),kd={class:"step-register"},yd={class:"footer-org"},Dd={class:"footer__button"},Cd=Ic((()=>(0,s._)("span",{class:"step-icon"},[(0,s._)("i",{class:"icofont-swoosh-left"})],-1))),xd=Ic((()=>(0,s._)("span",null,"Quay lại",-1))),Pd=[Cd,xd],Id={class:"footer__button"},Sd=Ic((()=>(0,s._)("span",null,"Bước tiếp theo",-1))),Vd=Ic((()=>(0,s._)("span",{class:"step-icon"},[(0,s._)("i",{class:"icofont-swoosh-right"})],-1))),Nd=[Sd,Vd],Td=Ic((()=>(0,s._)("span",null,"Hoàn thành",-1))),Ed=Ic((()=>(0,s._)("span",{class:"step-icon"},[(0,s._)("i",{class:"icofont-swoosh-right"})],-1))),Od=[Td,Ed],Ud=Ic((()=>(0,s._)("span",null,"Đăng nhập chương trình",-1))),Md=Ic((()=>(0,s._)("span",{class:"step-icon"},[(0,s._)("i",{class:"icofont-login"})],-1))),zd=[Ud,Md];function Ad(e,t,o,i,n,a){const r=(0,s.up)("m-input"),c=(0,s.up)("el-date-picker"),d=(0,s.up)("m-combobox"),u=(0,s.up)("m-text-area"),m=(0,s.up)("m-button"),h=(0,s.up)("el-step"),p=(0,s.up)("el-steps"),g=(0,s.up)("m-page");return(0,s.wg)(),(0,s.j4)(g,{title:"Đăng ký"},{"header-right":(0,s.w5)((()=>[])),container:(0,s.w5)((()=>[(0,s.wy)((0,s._)("div",Sc,[(0,s._)("div",Vc,[(0,s._)("div",Nc,[(0,s.Wm)(r,{label:"Tài khoản đăng nhập",ref:"txtUserName",modelValue:n.user.UserName,"onUpdate:modelValue":t[0]||(t[0]=e=>n.user.UserName=e),validated:n.isValidated,required:!0,isFocus:!1},null,8,["modelValue","validated"])]),Tc]),(0,s._)("div",Ec,[(0,s._)("div",Oc,[(0,s.Wm)(r,{label:"Mật khẩu",ref:"txtPassword",type:"password",modelValue:n.user.Password,"onUpdate:modelValue":t[1]||(t[1]=e=>n.user.Password=e),validated:n.isValidated,required:!0,isFocus:!0},null,8,["modelValue","validated"])]),(0,s._)("div",Uc,[(0,s.Wm)(r,{label:"Xác nhận mật khẩu",type:"password",ref:"txtRePassword",modelValue:n.user.RePassword,"onUpdate:modelValue":t[2]||(t[2]=e=>n.user.RePassword=e),validated:n.isValidated,required:!0,isFocus:!0},null,8,["modelValue","validated"])])]),(0,s._)("div",Mc,[(0,s._)("div",zc,[(0,s.Wm)(r,{label:"Họ và tên",ref:"txtFullName",modelValue:n.user.FullName,"onUpdate:modelValue":t[3]||(t[3]=e=>n.user.FullName=e),required:!0,isDisabled:!1},null,8,["modelValue"])])]),(0,s._)("div",Ac,[(0,s._)("div",$c,[Rc,(0,s.Wm)(c,{modelValue:n.user.DateOfBirth,"onUpdate:modelValue":t[4]||(t[4]=e=>n.user.DateOfBirth=e),type:"date",format:"DD-MM-YYYY"},null,8,["modelValue"])]),(0,s._)("div",Wc,[(0,s.Wm)(d,{label:"Giới tính",modelValue:n.user.Gender,"onUpdate:modelValue":t[5]||(t[5]=e=>n.user.Gender=e),url:"/dictionarys/gender",propText:"Text",propValue:"Value"},null,8,["modelValue"])])]),(0,s._)("div",Lc,[(0,s._)("div",Fc,[(0,s.Wm)(r,{label:"Số điện thoại",ref:"txtUserPhoneNumber",modelValue:n.user.PhoneNumber,"onUpdate:modelValue":t[6]||(t[6]=e=>n.user.PhoneNumber=e),isDisabled:!1,required:!0,onlyNumberChar:!0},null,8,["modelValue"])]),(0,s._)("div",Zc,[(0,s.Wm)(r,{label:"Email",ref:"txtUserEmail",modelValue:n.user.Email,"onUpdate:modelValue":t[7]||(t[7]=e=>n.user.Email=e),placeholder:"VD: nvmanh@nmanh.com",isDisabled:!1,required:!0},null,8,["modelValue"])])])],512),[[q.F8,1==n.stepRegister]]),(0,s.wy)((0,s._)("div",qc,[(0,s._)("div",Bc,[(0,s._)("div",Hc,[(0,s.Wm)(r,{label:"Mã cửa hàng",ref:"txtOrganizationCode",modelValue:n.organization.OrganizationCode,"onUpdate:modelValue":t[8]||(t[8]=e=>n.organization.OrganizationCode=e),validated:n.isValidated,required:!0,disabled:!1,isFocus:!1},null,8,["modelValue","validated"])]),Gc]),(0,s._)("div",Jc,[(0,s._)("div",jc,[(0,s.Wm)(r,{label:"Tên cửa hàng",ref:"txtOrganizationName",modelValue:n.organization.OrganizationName,"onUpdate:modelValue":t[9]||(t[9]=e=>n.organization.OrganizationName=e),validated:n.isValidated,required:!0,isFocus:!0},null,8,["modelValue","validated"])])]),(0,s._)("div",Yc,[(0,s._)("div",Qc,[(0,s.Wm)(r,{label:"Lĩnh vực kinh doanh (VD: Tạp hóa/ Dịch vụ giải trí)",ref:"txtDescription",modelValue:n.organization.Description,"onUpdate:modelValue":t[10]||(t[10]=e=>n.organization.Description=e),validated:n.isValidated,isDisabled:!1},null,8,["modelValue","validated"])])]),(0,s._)("div",Kc,[(0,s._)("div",Xc,[(0,s.Wm)(r,{label:"Slogan:",ref:"txtSlogan",modelValue:n.organization.Slogan,"onUpdate:modelValue":t[11]||(t[11]=e=>n.organization.Slogan=e),validated:n.isValidated,isDisabled:!1},null,8,["modelValue","validated"])])]),(0,s._)("div",ed,[(0,s._)("div",td,[(0,s.Wm)(r,{label:"Chủ cửa hàng/ đại lý",ref:"txtOwnerName",modelValue:n.organization.OwnerName,"onUpdate:modelValue":t[12]||(t[12]=e=>n.organization.OwnerName=e),isDisabled:!1,onlyNumberChar:!0},null,8,["modelValue"])]),od]),(0,s._)("div",id,[(0,s._)("div",nd,[(0,s.Wm)(r,{label:"Số điện thoại",ref:"txtPhoneNumber",modelValue:n.organization.PhoneNumber,"onUpdate:modelValue":t[13]||(t[13]=e=>n.organization.PhoneNumber=e),isDisabled:!1,required:!0,onlyNumberChar:!0},null,8,["modelValue"])]),(0,s._)("div",ad,[(0,s.Wm)(r,{label:"Email",ref:"txtEmail",modelValue:n.organization.Email,"onUpdate:modelValue":t[14]||(t[14]=e=>n.organization.Email=e),placeholder:"VD: nvmanh@nmanh.com",isDisabled:!1,required:!0},null,8,["modelValue"])])]),(0,s._)("div",sd,[(0,s._)("div",ld,[(0,s.Wm)(r,{label:"Giấy phép hoạt động kinh doanh (nếu có)",ref:"txtBusinessLicense",modelValue:n.organization.BusinessLicense,"onUpdate:modelValue":t[15]||(t[15]=e=>n.organization.BusinessLicense=e),isDisabled:!1,onlyNumberChar:!0},null,8,["modelValue"])])]),(0,s._)("div",rd,[(0,s.Wm)(u,{label:"Địa chỉ",ref:"txtAddress",modelValue:n.organization.Address,"onUpdate:modelValue":t[16]||(t[16]=e=>n.organization.Address=e)},null,8,["modelValue"])])],512),[[q.F8,2==n.stepRegister]]),3==n.stepRegister?((0,s.wg)(),(0,s.iD)("div",cd,[(0,s._)("div",dd,[ud,(0,s._)("div",md,[(0,s._)("div",null,[(0,s.Uk)(" Cám ơn "),(0,s._)("b",null,(0,l.zw)(n.user.FullName),1),(0,s.Uk)("! ")]),(0,s._)("div",null,[(0,s.Uk)(" Bạn đã đăng ký thành công "),(0,s._)("b",null,(0,l.zw)(n.organization.OrganizationName),1),(0,s.Uk)(" và được tặng 15 ngày dùng thử tính năng VIP của ứng dụng. "),hd,pd,(0,s.Uk)(" Vui lòng nhập mã xác nhận được gửi đến Email "),(0,s._)("b",null,(0,l.zw)(n.user.Email),1),(0,s.Uk)(" để kích hoạt tài khoản. "),gd,_d,(0,s.Uk)(" Tính năng VIP sẽ hoạt động ngay sau khi bạn xác nhận địa chỉ Email. ")]),(0,s._)("div",fd,[(0,s._)("div",vd,[(0,s.Wm)(r,{label:"Mã xác nhận",type:"text",modelValue:n.tokenConfirm,"onUpdate:modelValue":t[17]||(t[17]=e=>n.tokenConfirm=e),ref:"txtConfirmToken"},null,8,["modelValue"]),(0,s.Wm)(m,{id:"btn-confirm",text:"Xác nhận",onClick:a.confirmAccount},null,8,["onClick"])])]),bd])]),wd])):(0,s.kq)("",!0)])),footer:(0,s.w5)((()=>[(0,s._)("div",kd,[(0,s.Wm)(p,{active:n.stepRegister,"align-center":""},{default:(0,s.w5)((()=>[(0,s.Wm)(h,{title:"Bước 1",description:"Tài khoản"}),(0,s.Wm)(h,{title:"Bước 2",description:"Cửa hàng"}),(0,s.Wm)(h,{title:"Bước 3",description:"Hoàn thành"})])),_:1},8,["active"])]),(0,s._)("div",yd,[(0,s._)("div",Dd,[2==n.stepRegister?((0,s.wg)(),(0,s.iD)("button",{key:0,class:"btn btn--default mg-left-10 btn-step",onClick:t[18]||(t[18]=(...e)=>a.onPrevStep&&a.onPrevStep(...e))},Pd)):(0,s.kq)("",!0)]),(0,s._)("div",Id,[1==n.stepRegister?((0,s.wg)(),(0,s.iD)("button",{key:0,class:"btn btn--default mg-left-10 btn-step",onClick:t[19]||(t[19]=(...e)=>a.onNextStep1&&a.onNextStep1(...e))},Nd)):(0,s.kq)("",!0),2==n.stepRegister?((0,s.wg)(),(0,s.iD)("button",{key:1,class:"btn btn--default mg-left-10 btn-step",onClick:t[20]||(t[20]=(...e)=>a.onNextStep2&&a.onNextStep2(...e))},Od)):(0,s.kq)("",!0),3==n.stepRegister?((0,s.wg)(),(0,s.iD)("button",{key:2,class:"btn btn--default mg-left-10 btn-step",onClick:t[21]||(t[21]=(...e)=>a.onLogin&&a.onLogin(...e))},zd)):(0,s.kq)("",!0)])])])),_:1})}var $d={name:"OrganizationRegister",emits:["onClose"],props:["id"],computed:{titleByStep:function(){return 1==this.stepRegister?"Đăng ký tài khoản":2==this.stepRegister?"Đăng ký cửa hàng":"Hoàn thành đăng ký"}},created(){this.maxios.get("organizations/new-code").then((e=>{this.organization.OrganizationCode=e}))},methods:{confirmAccount(){var e={UserName:this.user.UserName,TokenCode:this.tokenConfirm,Email:this.user.Email};this.maxios.post("accounts/confirm",e,this.setFocusInputToken).then((()=>{this.isConfirmed=!0;var e="Chúc mừng! <br> Bạn đã xác nhận thành công và nhận 15 ngày sử dụng tính năng VIP.";this.commonJs.showMessenger({title:"Xác nhận thành công",msg:e,type:a.Z.MsgType.Info,confirm:()=>{this.commonJs.login(this.user.UserName,this.user.Password)}})}))},onValidateRequiredInput(e,t){console.log(e,t)},onClose(){Sm.push("/")},onSave(){var e=this.validateStepTwo();e&&(this.user.Organization=this.organization,this.maxios.post("accounts/register",this.user,this.setFocusFirstInputErrors).then((()=>{this.stepRegister=3})).catch((e=>{console.log(e);const t=e.status;if(400==t){let t=e.errors,n=Object.keys(t);var o=[];for(const e of n){var i=t[e];switch(e){case"UserName":this.stepRegister=1,this.$refs.txtUserName.setInValidState(!0,i),o.push(this.$refs.txtUserName);break;case"Password":this.stepRegister=1,this.$refs.txtPassword.setInValidState(!0,i),o.push(this.$refs.txtPassword);break;case"RePassword":this.stepRegister=1,this.$refs.txtRePassword.setInValidState(!0,i),o.push(this.$refs.txtRePassword);break;case"FullName":this.stepRegister=1,this.$refs.txtFullName.setInValidState(!0,i),o.push(this.$refs.txtFullName);break;case"Mobile":this.stepRegister=1,this.$refs.txtUserPhoneNumber.setInValidState(!0,i),o.push(this.$refs.txtUserPhoneNumber);break;case"Email":this.stepRegister=2,this.$refs.txtEmail.setInValidState(!0,i),o.push(this.$refs.txtEmail);break;case"OrganizationName":this.stepRegister=2,this.$refs.txtOrganizationName.setInValidState(!0,i),o.push(this.$refs.txtOrganizationName);break;default:break}}o.length>0&&(this.propFirstNotValid=o[0])}})))},validateStepTwo(){var e=[],t=[];if(!this.commonJs.checkRequired(this.organization.OrganizationCode)){let o="<b>Mã cửa hàng/ đại lý</b> không được để trống.";e.push(o),this.$refs.txtOrganizationCode.setInValidState(!0,o),t.push(this.$refs.txtOrganizationCode)}if(!this.commonJs.checkRequired(this.organization.OrganizationName)){let o="<b>Tên cửa hàng/ đại lý</b> không được để trống.";e.push(o),t.push(this.$refs.txtOrganizationName),this.$refs.txtOrganizationName.setInValidState(!0,o)}if(!this.commonJs.checkRequired(this.organization.PhoneNumber)){let o="<b>Số điện thoại</b> không được để trống.";e.push(o),t.push(this.$refs.txtPhoneNumber),this.$refs.txtPhoneNumber.setInValidState(!0,o)}if(!this.commonJs.checkRequired(this.organization.Email)){let o="<b>Email</b> không được để trống.";e.push(o),t.push(this.$refs.txtEmail),this.$refs.txtEmail.setInValidState(!0,o)}if(!this.commonJs.checkEmailFormat(this.organization.Email)){let o="<b>Email</b> không đúng định dạng.";e.push(o),t.push(this.$refs.txtEmail),this.$refs.txtEmail.setInValidState(!0,o)}return!(e.length>0)||(this.commonJs.showMessenger({title:"Dữ liệu không hợp lệ",msg:e,type:a.Z.MsgType.Error,confirm:()=>{t.length>0&&t[0].setFocus()}}),!1)},validateStepOne(){var e=[],t=[];if(!this.commonJs.checkRequired(this.user.UserName)){let o="<b>Tài khoản</b> không được để trống.";e.push(o),this.$refs.txtUserName.setInValidState(!0,o),t.push(this.$refs.txtUserName)}if(this.commonJs.checkRequired(this.user.Password)){if(this.user.Password!=this.user.RePassword){let o="<b>Mật khẩu xác nhận</b> không khớp.";e.push(o),t.push(this.$refs.txtRePassword),this.$refs.txtRePassword.setInValidState(!0,o)}}else{let o="<b>Mật khẩu</b> không được để trống.";e.push(o),t.push(this.$refs.txtPassword),this.$refs.txtPassword.setInValidState(!0,o)}if(!this.commonJs.checkRequired(this.user.FullName)){let o="<b>Họ và tên</b> không được để trống.";e.push(o),this.$refs.txtFullName.setInValidState(!0,o),t.push(this.$refs.txtFullName)}if(!this.commonJs.checkRequired(this.user.Email)){let o="<b>Email</b> không được để trống.";e.push(o),this.$refs.txtUserEmail.setInValidState(!0,o),t.push(this.$refs.txtUserEmail)}if(!this.commonJs.checkRequired(this.user.PhoneNumber)){let o="<b>Số điện thoại</b> không được để trống.";e.push(o),this.$refs.txtUserPhoneNumber.setInValidState(!0,o),t.push(this.$refs.txtUserPhoneNumber)}return!(e.length>0)||(this.commonJs.showMessenger({title:"Dữ liệu không hợp lệ",msg:e,type:a.Z.MsgType.Error,confirm:()=>{t.length>0&&t[0].setFocus()}}),!1)},onPrevStep(){this.stepRegister-=1},onNextStep1(){var e=this.validateStepOne();e&&(this.organization.Email=this.user.Email,this.organization.PhoneNumber=this.user.PhoneNumber,this.organization.OwnerName=this.user.FullName,this.stepRegister=2,this.$nextTick((function(){this.$refs.txtOrganizationName.setFocus()})))},onNextStep2(){this.onSave()},onLogin(){this.commonJs.login(this.user.UserName,this.user.Password)},setFocusFirstInputErrors(){this.propFirstNotValid&&this.$nextTick((function(){this.propFirstNotValid.setFocus()}))},setFocusInputToken(){this.$refs.txtConfirmToken.setFocus()}},data(){return{registerTitle:"Đăng ký tài khoản",organization:{},user:{},isValidated:!1,stepRegister:1,propFirstNotValid:null,tokenConfirm:"",isConfirmed:!1}}};const Rd=(0,L.Z)($d,[["render",Ad],["__scopeId","data-v-43ccb307"]]);var Wd=Rd;const Ld=e=>((0,s.dD)("data-v-f12fd492"),e=e(),(0,s.Cn)(),e),Fd={class:"emp-container"},Zd={class:"form-group"},qd={class:"m-row"},Bd={class:"m-col",style:{width:"100px"}},Hd={class:"m-col"},Gd={class:"m-row"},Jd={class:"m-col"},jd=Ld((()=>(0,s._)("label",{for:""},"Ngày sinh:",-1))),Yd={class:"m-col"},Qd={class:"m-row"},Kd={class:"m-col"},Xd={class:"m-col"},eu={class:"m-row"},tu={class:"m-col"},ou=Ld((()=>(0,s._)("div",{class:"m-col"},null,-1))),iu={class:"m-row"},nu={class:"form-group"},au=Ld((()=>(0,s._)("div",{class:"group__title"},"Thông tin công việc",-1))),su={class:"m-row"},lu={class:"m-col"},ru={class:"m-col"},cu=Ld((()=>(0,s._)("label",{for:""},"Ngày bắt đầu làm việc:",-1))),du={class:"m-row"},uu={class:"m-col"},mu={class:"m-col"},hu={class:"m-row"},pu={class:"m-col"},gu=Ld((()=>(0,s._)("div",{class:"m-col"},null,-1))),_u={class:"m-row"},fu={class:"m-col"},vu={class:"m-col"},bu={class:"form-group"},wu=Ld((()=>(0,s._)("div",{class:"group__title"},"Thông tin tài khoản",-1))),ku={class:"m-row"},yu={class:"m-col"},Du={class:"m-col"},Cu={class:"footer__button"},xu=["disabled"],Pu=Ld((()=>(0,s._)("i",{class:"icofont-ui-check"},null,-1)));function Iu(e,t,o,i,n,a){const l=(0,s.up)("m-input"),r=(0,s.up)("el-date-picker"),c=(0,s.up)("m-combobox"),d=(0,s.up)("m-page");return(0,s.wg)(),(0,s.j4)(d,{title:"THÔNG TIN CÁ NHÂN"},{"header-right":(0,s.w5)((()=>[])),container:(0,s.w5)((()=>[(0,s._)("div",Fd,[(0,s._)("div",Zd,[(0,s._)("div",qd,[(0,s._)("div",Bd,[(0,s.Wm)(l,{label:"Mã nhân viên",ref:"txtuserCode",modelValue:n.user.Employee.EmployeeCode,"onUpdate:modelValue":t[0]||(t[0]=e=>n.user.Employee.EmployeeCode=e),required:!0,disabled:!0,isFocus:!1},null,8,["modelValue"])]),(0,s._)("div",Hd,[(0,s.Wm)(l,{label:"Họ và tên",ref:"txtEmployeeName",modelValue:n.user.Employee.FullName,"onUpdate:modelValue":t[1]||(t[1]=e=>n.user.Employee.FullName=e),required:!0,isDisabled:!1},null,8,["modelValue"])])]),(0,s._)("div",Gd,[(0,s._)("div",Jd,[jd,(0,s.Wm)(r,{modelValue:n.user.Employee.DateOfBirth,"onUpdate:modelValue":t[2]||(t[2]=e=>n.user.Employee.DateOfBirth=e),type:"date",format:"DD-MM-YYYY"},null,8,["modelValue"])]),(0,s._)("div",Yd,[(0,s.Wm)(c,{label:"Giới tính",modelValue:n.user.Employee.Gender,"onUpdate:modelValue":t[3]||(t[3]=e=>n.user.Employee.Gender=e),url:"/dictionarys/gender",propText:"Text",propValue:"Value"},null,8,["modelValue"])])]),(0,s._)("div",Qd,[(0,s._)("div",Kd,[(0,s.Wm)(l,{label:"Số điện thoại",modelValue:n.user.Employee.Mobile,"onUpdate:modelValue":t[4]||(t[4]=e=>n.user.Employee.Mobile=e),isDisabled:!1,required:!0,onlyNumberChar:!0},null,8,["modelValue"])]),(0,s._)("div",Xd,[(0,s.Wm)(l,{label:"Email",modelValue:n.user.Employee.Email,"onUpdate:modelValue":t[5]||(t[5]=e=>n.user.Employee.Email=e),isDisabled:!1,required:!0,onlyNumberChar:!0},null,8,["modelValue"])])]),(0,s._)("div",eu,[(0,s._)("div",tu,[(0,s.Wm)(l,{label:"Số CMTND",modelValue:n.user.Employee.IdentityNumber,"onUpdate:modelValue":t[6]||(t[6]=e=>n.user.Employee.IdentityNumber=e),required:!1},null,8,["modelValue"])]),ou]),(0,s._)("div",iu,[(0,s.Wm)(l,{label:"Địa chỉ",modelValue:n.user.Employee.Address,"onUpdate:modelValue":t[7]||(t[7]=e=>n.user.Employee.Address=e)},null,8,["modelValue"])])]),(0,s._)("div",nu,[au,(0,s._)("div",su,[(0,s._)("div",lu,[(0,s.Wm)(c,{label:"Vị trí",ref:"cbxPosition",modelValue:n.user.Employee.PositionId,"onUpdate:modelValue":t[8]||(t[8]=e=>n.user.Employee.PositionId=e),url:"/positions",propText:"PositionName",propValue:"PositionId"},null,8,["modelValue"])]),(0,s._)("div",ru,[cu,(0,s.Wm)(r,{modelValue:n.user.Employee.JoinDate,"onUpdate:modelValue":t[9]||(t[9]=e=>n.user.Employee.JoinDate=e),type:"date",format:"DD-MM-YYYY"},null,8,["modelValue"])])]),(0,s._)("div",du,[(0,s._)("div",uu,[(0,s.Wm)(c,{label:"Tình trạng công việc",modelValue:n.user.Employee.WorkStatus,"onUpdate:modelValue":t[10]||(t[10]=e=>n.user.Employee.WorkStatus=e),url:"/dictionarys/work-status",propText:"Text",propValue:"Value"},null,8,["modelValue"])]),(0,s._)("div",mu,[(0,s.Wm)(l,{label:"Mức lương",onlyNumberChar:!0,modelValue:n.user.Employee.Salary,"onUpdate:modelValue":t[11]||(t[11]=e=>n.user.Employee.Salary=e)},null,8,["modelValue"])])]),(0,s._)("div",hu,[(0,s._)("div",pu,[(0,s.Wm)(l,{label:"Số tài khoản ngân hàng",modelValue:n.user.Employee.BankAccountNumber,"onUpdate:modelValue":t[12]||(t[12]=e=>n.user.Employee.BankAccountNumber=e)},null,8,["modelValue"])]),gu]),(0,s._)("div",_u,[(0,s._)("div",fu,[(0,s.Wm)(l,{label:"Ngân hàng",modelValue:n.user.Employee.BankName,"onUpdate:modelValue":t[13]||(t[13]=e=>n.user.Employee.BankName=e)},null,8,["modelValue"])]),(0,s._)("div",vu,[(0,s.Wm)(l,{label:"Chi nhánh ngân hàng",modelValue:n.user.Employee.BankBranchName,"onUpdate:modelValue":t[14]||(t[14]=e=>n.user.Employee.BankBranchName=e)},null,8,["modelValue"])])])]),(0,s._)("div",bu,[wu,(0,s._)("div",ku,[(0,s._)("div",yu,[(0,s.Wm)(l,{label:"Tài khoản đăng nhập",modelValue:n.user.UserName,ref:"txtUserName",disabled:!0},null,8,["modelValue"])]),(0,s._)("div",Du,[(0,s.Wm)(c,{label:"Quyền trên Website",modelValue:a.roleId,url:"/roles",propText:"OtherName",propValue:"RoleId",isDisabled:!0},null,8,["modelValue"])])])])])])),footer:(0,s.w5)((()=>[(0,s._)("div",Cu,[(0,s._)("button",{class:"btn btn--default mg-left-10",disabled:!a.isChange,onClick:t[15]||(t[15]=(...e)=>a.onSave&&a.onSave(...e))},[Pu,(0,s.Uk)(" Lưu")],8,xu)])])),_:1})}var Su={name:"AccountInfo",emits:["onClose"],props:["id"],computed:{formMode:function(){return a.Z.FormMode.UPDATE},roleId:function(){return this.user.Roles?this.user.Roles[0].RoleId:null},isChange:function(){var e=JSON.stringify(this.user);return e!=this.origilUser}},created(){var e=localStorage.getItem("user-id");e&&this.maxios.get(`accounts/${e}`).then((e=>{this.user=e,this.origilUser=JSON.stringify(e)}))},methods:{onClose(){Sm.push("/")},onSave(){this.maxios.put(`employees/${this.user.Employee.EmployeeId}`,this.user.Employee)}},data(){return{user:{Employee:{}},origilUser:null}}};const Vu=(0,L.Z)(Su,[["render",Iu],["__scopeId","data-v-f12fd492"]]);var Nu=Vu;function Tu(e,t,o,i,n,a){const l=(0,s.up)("m-page");return(0,s.wg)(),(0,s.j4)(l,{title:"Báo cáo thường kỳ",rightSlot:!0},{"header-right":(0,s.w5)((()=>[])),container:(0,s.w5)((()=>[])),footer:(0,s.w5)((()=>[])),_:1})}var Eu={name:"HomePage",props:["showHomePage"]};const Ou=(0,L.Z)(Eu,[["render",Tu]]);var Uu=Ou;const Mu=e=>((0,s.dD)("data-v-10c644ec"),e=e(),(0,s.Cn)(),e),zu={class:"org-container"},Au=Mu((()=>(0,s._)("div",{class:"license__icon"},[(0,s._)("i",{class:"icofont-license"})],-1))),$u=["innerHTML"],Ru=["innerHTML"],Wu={class:"m-row"},Lu={class:"m-col",style:{width:"100px"}},Fu=Mu((()=>(0,s._)("div",{class:"m-col"},null,-1))),Zu={class:"m-row"},qu={class:"m-col flex-1"},Bu={class:"m-row"},Hu={class:"m-col"},Gu={class:"m-row"},Ju={class:"m-col"},ju={class:"m-row"},Yu={class:"m-col"},Qu=Mu((()=>(0,s._)("div",{class:"m-col"},null,-1))),Ku={class:"m-row"},Xu={class:"m-col"},em={class:"m-col"},tm={class:"m-row"},om={class:"m-col"},im={class:"m-col"},nm={class:"m-row"},am={class:"footer__button"},sm=["disabled"],lm=Mu((()=>(0,s._)("i",{class:"icofont-ui-check"},null,-1)));function rm(e,t,o,i,n,a){const r=(0,s.up)("m-input"),c=(0,s.up)("m-text-area"),d=(0,s.up)("m-page");return(0,s.wg)(),(0,s.j4)(d,{title:"THÔNG TIN DOANH NGHIỆP"},{"header-right":(0,s.w5)((()=>[])),container:(0,s.w5)((()=>[(0,s._)("div",zu,[(0,s._)("div",{class:(0,l.C_)(["license-info",{"license--limitted":!a.licenseDate}])},[Au,a.licenseDate?((0,s.wg)(),(0,s.iD)("div",{key:0,class:"license__content",innerHTML:n.licenseInfoHTML},null,8,$u)):((0,s.wg)(),(0,s.iD)("div",{key:1,class:"license__content",innerHTML:n.licenseInfoHTML},null,8,Ru))],2),(0,s._)("div",Wu,[(0,s._)("div",Lu,[(0,s.Wm)(r,{label:"Mã",ref:"txtorganizationCode",modelValue:n.organization.OrganizationCode,"onUpdate:modelValue":t[0]||(t[0]=e=>n.organization.OrganizationCode=e),required:!0,disabled:!0,isFocus:!1},null,8,["modelValue"])]),Fu]),(0,s._)("div",Zu,[(0,s._)("div",qu,[(0,s.Wm)(r,{label:"Tên doanh nghiệp",ref:"txtorganizationName",modelValue:n.organization.OrganizationName,"onUpdate:modelValue":t[1]||(t[1]=e=>n.organization.OrganizationName=e),required:!0,isDisabled:!1},null,8,["modelValue"])])]),(0,s._)("div",Bu,[(0,s._)("div",Hu,[(0,s.Wm)(r,{label:"Lĩnh vực kinh doanh (VD: Tạp hóa/ Dịch vụ giải trí)",ref:"txtorganizationCode",modelValue:n.organization.Description,"onUpdate:modelValue":t[2]||(t[2]=e=>n.organization.Description=e),isDisabled:!1,isFocus:!0},null,8,["modelValue"])])]),(0,s._)("div",Gu,[(0,s._)("div",Ju,[(0,s.Wm)(r,{label:"Slogan (khẩu hiệu):",ref:"txtorganizationCode",modelValue:n.organization.Slogan,"onUpdate:modelValue":t[3]||(t[3]=e=>n.organization.Slogan=e),isDisabled:!1,isFocus:!0},null,8,["modelValue"])])]),(0,s._)("div",ju,[(0,s._)("div",Yu,[(0,s.Wm)(r,{label:"Chủ doanh nghiệp/ đại lý",modelValue:n.organization.OwnerName,"onUpdate:modelValue":t[4]||(t[4]=e=>n.organization.OwnerName=e),isDisabled:!1,onlyNumberChar:!0},null,8,["modelValue"])]),Qu]),(0,s._)("div",Ku,[(0,s._)("div",Xu,[(0,s.Wm)(r,{label:"Số điện thoại",modelValue:n.organization.PhoneNumber,"onUpdate:modelValue":t[5]||(t[5]=e=>n.organization.PhoneNumber=e),isDisabled:!1,required:!0,onlyNumberChar:!0},null,8,["modelValue"])]),(0,s._)("div",em,[(0,s.Wm)(r,{label:"Email",modelValue:n.organization.Email,"onUpdate:modelValue":t[6]||(t[6]=e=>n.organization.Email=e),isDisabled:!1,required:!0,onlyNumberChar:!0},null,8,["modelValue"])])]),(0,s._)("div",tm,[(0,s._)("div",om,[(0,s.Wm)(r,{label:"Giấy phép hoạt động kinh doanh (nếu có)",modelValue:n.organization.BusinessLicense,"onUpdate:modelValue":t[7]||(t[7]=e=>n.organization.BusinessLicense=e),isDisabled:!1,onlyNumberChar:!0},null,8,["modelValue"])]),(0,s._)("div",im,[(0,s.Wm)(r,{label:"Website",modelValue:n.organization.Website,"onUpdate:modelValue":t[8]||(t[8]=e=>n.organization.Website=e),isDisabled:!1},null,8,["modelValue"])])]),(0,s._)("div",nm,[(0,s.Wm)(c,{label:"Địa chỉ",modelValue:n.organization.Address,"onUpdate:modelValue":t[9]||(t[9]=e=>n.organization.Address=e)},null,8,["modelValue"])])])])),footer:(0,s.w5)((()=>[(0,s._)("div",am,[(0,s._)("button",{class:"btn btn--default mg-left-10",disabled:!a.isChange,onClick:t[10]||(t[10]=(...e)=>a.onSave&&a.onSave(...e))},[lm,(0,s.Uk)(" Lưu ")],8,sm)])])),_:1})}var cm={name:"OrganizationSettings",emits:["onClose"],props:["id"],computed:{formMode:function(){return a.Z.FormMode.UPDATE},licenseDate:function(){var e=this.organization.MSLicense;if(e&&e.length>0){var t=this.commonJs.formatDateTime(e[0].ExpiredDate);return t}return null},licenseInfo:function(){let e="";return e=this.licenseDate?`<b>${this.organization.OrganizationName}</b> là đối tác VIP của Mạnh Software.\n            Hạn đến: ${this.licenseDate}.`:`<b>${this.organization.OrganizationName}</b> chưa đăng ký thành viên VIP, một số\n                        chức năng có thể bị giới hạn.<br>\n                        Vui lòng liên hệ:\n                        <li>Công ty Phần mềm Mạnh Software.</li>\n                        <li>SĐT: <a href="tel:0961179969">0961.179.969 (Mr Mạnh)</a></li>\n                        <li>Email: <a href="mail:nmanh.com@gmail.com">nmanh.com@gmail.com</a></li>\n                        <li>Địa chỉ: Tòa nhà Technosoft, ngõ 15 Duy Tân, Cầu Giấy, Hà nội</li>`,e},isChange:function(){var e=JSON.stringify(this.organization);return e!=this.organizationOrigilJSON}},created(){var e=localStorage.getItem("organizationId");e?this.maxios.get(`organizations/${e}`).then((e=>{this.organization=e,this.licenseInfoHTML=this.licenseInfo,this.organizationOrigilJSON=JSON.stringify(e)})):Sm.push("/")},methods:{onClose(){Sm.push("/")},onSave(){this.maxios.put(`organizations/${this.organization.OrganizationId}`,this.organization).then((()=>{this.$emit("onClose")}))}},data(){return{organization:{},licenseInfoHTML:"",organizationOrigilJSON:null}}};const dm=(0,L.Z)(cm,[["render",rm],["__scopeId","data-v-10c644ec"]]);var um=dm;const mm=e=>((0,s.dD)("data-v-d650921a"),e=e(),(0,s.Cn)(),e),hm={class:"toolbar__left"},pm={class:"statistic-toolbar"},gm={class:"toolbar__right"},_m={class:"toolbar__right-custom"},fm=mm((()=>(0,s._)("i",{class:"icofont-refresh"},null,-1))),vm=[fm];function bm(e,t,o,i,n,a){const r=(0,s.up)("m-combobox"),c=(0,s.up)("m-column"),d=(0,s.up)("m-table"),u=(0,s.up)("m-table-layout"),m=(0,s.up)("m-page");return(0,s.wg)(),(0,s.j4)(m,{title:"Báo cáo/ Thống kê"},{container:(0,s.w5)((()=>[(0,s.Wm)(u,null,{toolbar:(0,s.w5)((()=>[(0,s._)("div",hm,[(0,s._)("div",pm,[(0,s.Wm)(r,{label:"Thời gian thống kê",url:"/Dictionarys/time-range",propValue:"Value",firstSelected:!0,modelValue:n.timeRange,"onUpdate:modelValue":t[0]||(t[0]=e=>n.timeRange=e),propText:"Text",class:"mg-left-8"},null,8,["modelValue"]),(0,s.Wm)(r,{label:"Nhóm thống kê",url:"/groupproducts",propValue:"GroupProductId",propText:"GroupProductName",class:"mg-left-8"})])]),(0,s._)("div",gm,[(0,s._)("div",_m,[(0,s._)("button",{class:"btn btn-refresh",onClick:t[1]||(t[1]=e=>a.loadData())},vm)])])])),container:(0,s.w5)((()=>[(0,s.Wm)(d,{ref:"tbCustomers",data:n.reports,"empty-text":"Không có dữ liệu",width:"100%",height:"100%"},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{type:"index",label:"#",width:"40px"}),(0,s.Wm)(c,{prop:"FullName",label:"Nhân viên"}),(0,s.Wm)(c,{prop:"GroupProductName",label:"Nhóm SP/DV"}),(0,s.Wm)(c,{prop:"TotalMoneys",label:"Số tiền",align:"right"},{default:(0,s.w5)((t=>[(0,s._)("b",null,[(0,s._)("span",null,(0,l.zw)(e.commonJs.formatMoney(t.row.TotalMoneys)),1)])])),_:1})])),_:1},8,["data"])])),footer:(0,s.w5)((()=>[])),_:1})])),footer:(0,s.w5)((()=>[])),_:1})}var wm={name:"ReportList",emits:[],props:[],created(){},watch:{timeRange:function(e){var t=new Date;switch(e){case a.Z.TimeRanges.Today:this.timeInfo=this.commonJs.getRangeDateTimeInDay(t);break;case a.Z.TimeRanges.Yesterday:this.timeInfo=this.commonJs.getRangeDateTimeInYesterday(t);break;case a.Z.TimeRanges.ThisWeek:this.timeInfo=this.commonJs.getRangeDateTimeWeekOfDate(t);break;case a.Z.TimeRanges.ThisMonth:this.timeInfo=this.commonJs.getRangeDateTimeMonthOfDate(t);break;case a.Z.TimeRanges.ThisQuarter:this.timeInfo=this.commonJs.getRangeDateTimeQuarterOfDate(t);break;case a.Z.TimeRanges.ThisYear:this.timeInfo=this.commonJs.getRangeDateTimeYearOfDate(t);break;default:this.timeInfo=this.commonJs.getRangeDateTimeYearOfDate(t);break}this.loadData()}},methods:{loadData(){var e=this.commonJs.convertDateTimeToStringDateTime(this.timeInfo.StartDateTime),t=this.commonJs.convertDateTimeToStringDateTime(this.timeInfo.EndDateTime);this.maxios.get(`employees/statistics/invoice-timerange?startDate=${e}&endDate=${t}`).then((e=>{this.reports=e}))}},data(){return{reports:[],timeRange:null,timeInfo:{}}}};const km=(0,L.Z)(wm,[["render",bm],["__scopeId","data-v-d650921a"]]);var ym=km;const Dm=(e,t,o)=>{n.Z.getters.isAuthenticated?o("/"):o()},Cm=(e,t,o)=>{n.Z.getters.isAuthenticated?o():(localStorage.clear(),o("/login"))},xm=(e,t,o)=>{const i=n.Z.getters.role;n.Z.getters.isAuthenticated&&i<=a.Z.Role.SuperManagement?o():o("/invoices")},Pm=[{path:"/",name:"HomePage",component:Uu,beforeEnter:Cm},{path:"/login",name:"LoginPage",components:{LoginPage:Pc},beforeEnter:Dm},{path:"/register",name:"Register",components:{Register:Wd},beforeEnter:Dm},{path:"/admin",name:"AdminIndex",component:Z,beforeEnter:Cm},{path:"/admin/organizations/create",name:"AdminOrganizationDetailCreate",component:Qe,props:!1,beforeEnter:Cm},{path:"/admin/organizations/:id",name:"AdminOrganizationDetailUpdate",component:Qe,props:!0,beforeEnter:Cm},{path:"/settings",name:"OrganizationSettings",component:um,beforeEnter:Cm},{path:"/employees",name:"EmployeeList",component:lo,beforeEnter:Cm},{path:"/customers",name:"CustomerList",component:Zs,beforeEnter:Cm},{path:"/customer-groups",name:"CustomerGroup",component:ml,beforeEnter:Cm},{path:"/units",name:"UnitList",component:Rl,beforeEnter:Cm},{path:"/positions",name:"PositionList",component:rr,beforeEnter:Cm},{path:"/group-products",name:"GroupProductList",component:zr,beforeEnter:Cm},{path:"/products",name:"ProductList",component:_c,beforeEnter:Cm,children:[{path:"create",components:{ProductDetailView:ec}},{path:":id",components:{ProductDetailView:ec},props:!0}]},{path:"/invoices",name:"InvoiceList",component:mo,beforeEnter:Cm,children:[{path:"",components:{default:mo,InvoiceView:qn}},{path:"create",components:{default:mo,InvoiceView:Xo}},{path:":id",components:{default:mo,InvoiceView:Xo},props:!0},{path:"printer/:id/:device",components:{InvoicePrintFromMobile:cs},props:!0}]},{path:"/reports",name:"ReportList",beforeEnter:xm,component:ym},{path:"/account",name:"AccountInfo",component:Nu,beforeEnter:Cm}],Im=(0,i.p7)({history:(0,i.PO)("/"),routes:Pm});var Sm=Im},5471:function(e,t,o){o(7658);var i=o(4928),n=o(5679),a=o(7855),s=o(9404),l=o(4291),r=o(650),c=o(5435),d=o(1344),u=o(9223),m=o(4684);const h={login:function(e,t){h.showLoading(),i.Z.dispatch(l.ZH,{username:e,password:t}).then((()=>{n.Z.push("/reports"),h.hideLoading()})).catch((e=>{var t=null;403==e.status&&(t="Tài khoản của bạn chưa được cấp quyền truy cập tài nguyên hiện tại. Vui lòng liên hệ Mr Mạnh để được cấp quyền.",h.showMessenger({title:"Truy cập bị từ chối",msg:t,type:s.Z.MsgType.Error,confirm:()=>{n.Z.push("/reports")}})),h.hideLoading()}))},checkRequired(e){try{return""!=e&&null!=e&&void 0!=e}catch(t){console.log(t)}},checkEmailFormat(e){try{if(!e)return!0;let t=new RegExp("[a-z0-9]+@[a-z]+.[a-z]{2,3}");return t.test(e)}catch(t){console.log(t)}},createHubConnection(){var e=a.Z.createHub();return e.on("UpdateOrganizationInfo",(e=>{i.Z.dispatch("UPDATE_ORGANIZATION_INFO",e)})),e.on("ReceiveNotificationWhenDisconnected",(e=>{console.log(`${e} đã ngắt kết nối!`)})),e.on("SaveConnectionId",(e=>{console.log(`connectionId:  ${e}`),localStorage.setItem("connectionId",e)})),e.on("ShowAlertWhenOnline",(e=>{console.log(`${e} đã kết nối!`)})),e.on("RecieveNotifiedWhenContactRegistedEventSuccess",((e,t)=>{console.log("eventInfo:",e),console.log("contactInfo:",t)})),e.on("PrintFromMobile",((e,t)=>{var o=localStorage.getItem("connectionId");console.log("PrintFromMobile"),console.log("localConnection: ",o),console.log("connectionId: ",t),o!=t&&n.Z.push(`/invoices/printer/${e}/mobile`)})),e.on("ShowPecentUpload",((e,t,o,i,n)=>{if(h.hideLoading(),n={Id:n.id,Name:n.name,Value:e,Max:t,Message:`Đang tải lên ${e}/${t} ảnh.`},i>10){var a=(e/t*100).toFixed(2);n.RunBackground=!0,n.Message=`Đang tạo Album: ${a}%.`}h.showProgress(n),o&&setTimeout((function(){h.hideProgress()}),500)})),e.on("ShowPecentDeleted",((e,t,o,i,n)=>{if(h.hideLoading(),n={Id:n.id,Name:n.name,Value:e,Max:t,Message:`Đang xóa ${e}/${t} ảnh.`},i>10){var a=(e/t*100).toFixed(2);n.RunBackground=!0,n.Message=`Đang xóa Album: ${a}%.`}h.showProgress(n),o&&setTimeout((function(){h.hideProgress()}),500)})),i.Z.getters.isAuthenticated&&(h.showConnectingHub(),e.start().then((()=>{console.log("Đã kết nối tới Hub..."),i.Z.dispatch(u.E,e),h.hideConnectingHub()})).catch((e=>{console.error(e),h.hideConnectingHub()}))),e},change_alias:function(e){var t=e;return t=t.toLowerCase(),t=t.replace(/à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ/g,"a"),t=t.replace(/è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ/g,"e"),t=t.replace(/ì|í|ị|ỉ|ĩ/g,"i"),t=t.replace(/ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ/g,"o"),t=t.replace(/ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ/g,"u"),t=t.replace(/ỳ|ý|ỵ|ỷ|ỹ/g,"y"),t=t.replace(/đ/g,"d"),t=t.replace(/!|@|%|\^|\*|\(|\)|\+|\=|\<|\>|\?|\/|,|\.|\:|\;|\'|\"|\&|\#|\[|\]|~|\$|_|`|-|{|}|\||\\/g," "),t=t.replace(/ + /g," "),t=t.trim(),t},formatDate:function(e){try{if(!e)return"";e=new Date(e);var t=e.getDate();t=t<10?`0${t}`:t;var o=e.getMonth()+1;o=o<10?`0${o}`:o;var i=e.getFullYear();return`${t}/${o}/${i}`}catch(n){return""}},formatDateWithStringVN:function(e){try{if(!e)return"";e=new Date(e);var t=e.getDate();t=t<10?`0${t}`:t;var o=e.getMonth()+1;o=o<10?`0${o}`:o;var i=e.getFullYear();return`Ngày ${t} tháng ${o} năm ${i}`}catch(n){return""}},formatDateTime:function(e){try{if(!e)return"";e=new Date(e);var t=e.getDate();t=t<10?`0${t}`:t;var o=e.getMonth()+1;o=o<10?`0${o}`:o;var i=e.getFullYear(),n=h.addZeroPrefix(e.getHours()),a=h.addZeroPrefix(e.getMinutes()),s=h.addZeroPrefix(e.getSeconds());return`${t}/${o}/${i} \n\n                        ${n}:${a}:${s}`}catch(l){return""}},formatDateTimeHTML:function(e){try{if(!e)return"";e=new Date(e);var t=e.getDate();t=t<10?`0${t}`:t;var o=e.getMonth()+1;o=o<10?`0${o}`:o;var i=e.getFullYear(),n=h.addZeroPrefix(e.getHours()),a=h.addZeroPrefix(e.getMinutes()),s=h.addZeroPrefix(e.getSeconds());let l=`<div class="flex--column align--center"><div>${t}/${o}/${i}</div><div>(${n}:${a}:${s})</div><div>`;return l}catch(l){return""}},convertDateTimeToStringDateTime:function(e){try{if(!e)return"";e=new Date(e);var t=e.getDate();t=t<10?`0${t}`:t;var o=e.getMonth()+1;o=o<10?`0${o}`:o;var i=e.getFullYear(),n=h.addZeroPrefix(e.getHours()),a=h.addZeroPrefix(e.getMinutes()),s=h.addZeroPrefix(e.getSeconds());return`${i}-${o}-${t} ${n}:${a}:${s}`}catch(l){return""}},addZeroPrefix(e){try{return null==e||void 0==e?"":e<10?`0${e}`:e}catch(t){return""}},getTime:function(e){try{if(!e)return"";e=new Date(e);var t=e.getDate();t=t<10?`0${t}`:t;var o=e.getMonth()+1;o=o<10?`0${o}`:o;e.getFullYear();var i=e.getHours(),n="sáng";i>=18?n="tối":i<=18&&i>12&&(n="chiều"),i=h.addZeroPrefix(i);var a=h.addZeroPrefix(e.getMinutes());h.addZeroPrefix(e.getSeconds());return`${i}:${a} (${n})`}catch(s){return""}},formatMoney:function(e){if(!e)return"0 đ";try{return e=new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e),e}catch(t){return""}},showToast(e,t){t||(t=s.Z.MsgType.Info),i.Z.dispatch(d.rl,{msg:e,type:t}),setTimeout((function(){i.Z.dispatch(d._q,{})}),5e3)},showProgress(e){i.Z.dispatch(m.x,e)},hideProgress(){i.Z.dispatch(m.M)},showErrorMessenger(){var e=arguments,t=null,o=[],n=null;if(0==e.length)t="Thông báo",o.push("Có lỗi xảy ra, vui lòng liên hệ MISA để được trợ giúp.");else if(1==e.length)o.push(e[0]);else{t=e[0].toString();for(let t=1;t<e.length;t++){const i=e[t];if(i&&("string"===typeof i||i instanceof String||"number"==typeof i))o.push(i);else if(Array.isArray(i))for(const e of i)("string"===typeof e||e instanceof String||"number"==typeof e)&&o.push(e);else"function"==typeof i&&(n=i)}}i.Z.dispatch(r.M,{title:t,msg:o,type:s.Z.MsgType.Error,confirm:n})},checkObjectExistInArray(e,t,o){return e.some((e=>t[o]==e[o]))},getObjectExistInArray(e,t,o){var i=e.findIndex((e=>t[o]==e[o]));return i>=0?e[i]:null},hideErrorMessenger(){i.Z.dispatch(r.r)},showConfirm(e,t){h.showMessenger({title:"Xác nhận",msg:e||"Bạn có chắc chắn muốn thực hiện hành động này?",type:s.Z.MsgType.Question,confirm:t,showCancelButton:!0})},hideConfirm(){h.hideMessenger()},showMessenger({title:e,msg:t,type:o,confirm:n,showCancelButton:a}){i.Z.dispatch(r.M,{title:e||"Thông báo",msg:t||"Có lỗi xảy ra",type:o||s.Z.MsgType.Info,confirm:n,showCancelButton:a})},hideMessenger(){i.Z.dispatch(r.r)},showLoading(){i.Z.dispatch(c.P)},showLoadingEl(e){e.classlist.add("loading")},hideLoading(){i.Z.dispatch(c.U)},showConnectingHub(){i.Z.dispatch(u.rT,!0)},hideConnectingHub(){i.Z.dispatch(u.rT,!1)},getPreviousDay(e){const t=new Date(e.getTime());return t.setDate(e.getDate()-1),t},getRangeDateTimeInDay(e){var t=e.setHours(0,0,0,0),o=e.setHours(23,59,59,999);return{StartDateTime:new Date(t),EndDateTime:new Date(o)}},getRangeDateTimeInYesterday(e){e=this.getPreviousDay(e);var t=e.setHours(0,0,0,0),o=e.setHours(23,59,59,999);return{StartDateTime:new Date(t),EndDateTime:new Date(o)}},getRangeDateTimeWeekOfDate(e){var t=e.getDate()-(e.getDay()||6),o=new Date(e.setDate(t)),i=new Date(e.setDate(t)),n=o.getDate()+6,a=new Date(i.setDate(n));return{StartDateTime:new Date(o.setHours(0,0,0,0)),EndDateTime:new Date(a.setHours(23,59,59,999))}},getRangeDateTimeMonthOfDate(e){var t=new Date(e.setDate(1)),o=new Date(e.getFullYear(),e.getMonth()+1,0);return{StartDateTime:new Date(t.setHours(0,0,0,0)),EndDateTime:new Date(o.setHours(23,59,59,999))}},getRangeDateTimeQuarterOfDate(e){var t=Math.ceil((e.getMonth()+1)/3),o=3*t-3,i=3*t-1,n=new Date(e.getFullYear(),o,1),a=new Date(e.getFullYear(),i+1,0);return{StartDateTime:new Date(n.setHours(0,0,0,0)),EndDateTime:new Date(a.setHours(23,59,59,999))}},getRangeDateTimeYearOfDate(e){var t=e.getFullYear(),o=new Date(t,0,1),i=new Date(t,12,0);return{StartDateTime:new Date(o.setHours(0,0,0,0)),EndDateTime:new Date(i.setHours(23,59,59,999))}},mobileCheck(){let e=!1;return function(t){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),e},tabletCheck(){let e=!1;return function(t){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),e}};t["Z"]=h},9660:function(e,t){const o=(e,t)=>{var o=null;return function(){clearTimeout(o);var i=arguments,n=this;o=setTimeout((function(){e.apply(n,i)}),t)}};t["Z"]=o},9404:function(e,t){var o={FormMode:{ADD:1,UPDATE:2,VIEW:3},MsgType:{Success:1,Info:2,Error:3,Confirm:4,Warning:5,Question:6},Role:{Administrator:1,SuperManagement:5,Management:10,Employee:100,NewUser:999},MessageGroupType:{Private:1,Group:2,Public:3},KeyCode:{ENTER:13},ExpenditureType:{INCREMENT_PLAN:1,INCREMENT_SUPER_RICH:2,INCREMENT_OTHER:3,REDURE_PLAN:20,REDURE_WEDDING:21,REDURE_FUNERAL:22,REDUCE_MEDICAL:23,REDUCE_OTHER:24},ExpenditurePlanType:{INCREMENT_EVENT:100,INCREMENT_ANNUAL:101,INCREMENT_OTHER:102,REDURE_EVENT:200,REDUCE_OTHER:201},ReceiptType:{Income:1,Outcome:2},OptionExpenditurePlanType:{ForPlan:1,ForOther:2},EntityState:{ADD:1,UPDATE:2,DELETE:3},TimeRanges:{Today:1,Yesterday:2,ThisWeek:3,ThisMonth:4,ThisQuarter:5,ThisYear:6,Custom:7}};t["Z"]=o},4291:function(e,t,o){o.d(t,{DP:function(){return n},LQ:function(){return s},Ny:function(){return a},ZH:function(){return i}});const i="AUTH_REQUEST",n="AUTH_SUCCESS",a="AUTH_ERROR",s="AUTH_LOGOUT"},5435:function(e,t,o){o.d(t,{P:function(){return i},U:function(){return n}});const i="SHOW_LOADING",n="HIDE_LOADING"},650:function(e,t,o){o.d(t,{M:function(){return i},r:function(){return n}});const i="SET_ERROR_MSG",n="CLEAR_ERROR_MSG"},4684:function(e,t,o){o.d(t,{M:function(){return n},x:function(){return i}});const i="SHOW_PROGRESS",n="HIDE_PROGRESS"},9223:function(e,t,o){o.d(t,{E:function(){return r},Gz:function(){return n},On:function(){return u},R8:function(){return d},WZ:function(){return l},b3:function(){return c},eJ:function(){return a},fp:function(){return i},rT:function(){return s}});const i="SET_NEW_NOTICE_NUMBER",n="CLEAR_NEW_NOTICE_NUMBER",a="CREATE_CONNECTION",s="SET_CONNECTING_HUB",l="CONNECT_SIGNALR_HUB",r="SET_NEW_HUB_CONNECTION",c="DISCONECT_HUB",d="UPDATE_NEW_HUB_SESSION",u="UPDATE_ORGANIZATION_INFO"},1344:function(e,t,o){o.d(t,{_q:function(){return n},rl:function(){return i}});const i="SET_TOAST",n="CLEAR_TOAST"},8914:function(e,t,o){o.d(t,{iz:function(){return i},j:function(){return n},zA:function(){return a}});const i="USER_REQUEST",n="USER_SUCCESS",a="USER_ERROR"},4928:function(e,t,o){o.d(t,{Z:function(){return re}});var i=o(65),n=(o(7658),o(8914)),a=o(3007),s=o(4291),l=o(5679),r=o(9223);const c={status:"",role:null,isReload:!0,profile:{}},d={getProfile:e=>e["profile"],isProfileLoaded:e=>!!e.profile.UserName,role:e=>e.isReload?localStorage.getItem("userRoleValue"):e.role},u={[n.iz]:({commit:e,dispatch:t})=>new Promise(((o,i)=>{e(n.iz);var l=localStorage.getItem("user-id");(0,a.Z)({url:`/accounts/${l}`,method:"GET"}).then((t=>{var i=t.Roles;i&&i.length>0&&(localStorage.setItem("userRoleValue",i[0].RoleValue),t.RoleValue=i[0].RoleValue),localStorage.setItem("userName",t.UserName),localStorage.setItem("avatar",t.AvatarFullPath),localStorage.setItem("firstName",t.firstName),localStorage.setItem("lastName",t.LastName),localStorage.setItem("fullName",t.FullName),localStorage.setItem("employeeId",t.EmployeeId),re.dispatch(r.On),e(n.j,t),o(t)})).catch((o=>{console.log("Lỗi USER REQUEST",o),e(n.zA),t(s.LQ),i(o)}))}))},m={[n.iz]:e=>{e.status="loading"},[n.j]:(e,t)=>{e.status="success",e["profile"]=t,e.role=t.RoleValue,e["isReload"]=!1},[n.zA]:e=>{e.status="error"},[s.LQ]:e=>{e.profile={},e.role=null,e.isReload=!0,l.Z.push("/login")}};var h={state:c,getters:d,actions:u,mutations:m},p=o(6265),g=o.n(p);const _={token:localStorage.getItem("user-token")||"",status:"",hasLoadedOnce:!1},f={isAuthenticated:e=>!!e.token,authStatus:e=>e.status},v={[s.ZH]:({commit:e,dispatch:t},o)=>new Promise(((i,l)=>{e(s.ZH),(0,a.Z)({url:"/Accounts/login",data:o,method:"POST"}).then((o=>{localStorage.setItem("user-token",o.Token),localStorage.setItem("user-id",o.UserId),g().defaults.headers.common.Authorization=`Bearer ${o.Token}`,e(s.DP,o),t(n.iz).then((()=>{i(o)})).catch((e=>{l(e)}))})).catch((t=>{e(s.Ny,t),console.log("xóa local storage do EXCEPTION!"),localStorage.removeItem("user-token"),l(t)}))})),[s.LQ]:({commit:e})=>new Promise((t=>{var o=localStorage.getItem("userName");o&&(0,a.Z)({url:`/accounts/revoke/${o}`,data:null,method:"POST"}).then((()=>{console.log("logout success!"),localStorage.clear()})).catch((()=>{})),e(s.LQ),localStorage.removeItem("user-token"),localStorage.removeItem("user-id"),localStorage.removeItem("userName"),t()}))},b={[s.ZH]:e=>{e.status="loading"},[s.DP]:(e,t)=>{e.status="success",e.token=t.Token,e.hasLoadedOnce=!0},[s.Ny]:e=>{e.status="error",e.hasLoadedOnce=!0},[s.LQ]:e=>{e.token=""}};var w={state:_,getters:f,actions:v,mutations:b};const k="SET_ERROR",y="POST_ERROR",D="CLEAR_ERROR",C={errors:[]},x={isError:e=>!!(e.errors.length>0),errors:function(){return C.errors}},P={[k]:({commit:e},t)=>{e("POST_ERROR",t)},[D]:({commit:e})=>{e("CLEAR_ERROR")}},I={[y]:(e,t)=>{for(const o of t)if("string"===typeof o||o instanceof String||"number"==typeof itemChild)e.errors.push(o);else if(Array.isArray(o))for(const t of o)("string"===typeof t||t instanceof String||"number"==typeof t)&&e.errors.push(t.toString())},[D]:e=>{e.errors=[]}};var S={state:C,getters:x,actions:P,mutations:I},V=o(650),N=o(9404);const T={errors:[],title:"Thông báo",type:N.Z.MsgType.Error,confirmFunction:null,showCancelButton:!1},E={isShowError:e=>!!(e.errors.length>0),errorsNotification:e=>e.errors,titleNotification:e=>e.title,msgType:e=>e.type,confirmFunction:e=>e.confirmFunction,showCancelButton:e=>e.showCancelButton},O={[V.M]:({commit:e},{title:t,msg:o,type:i,confirm:n,showCancelButton:a})=>{e("SET_ERROR_MSG",{title:t,msg:o,type:i,confirm:n,showCancelButton:a})},[V.r]:({commit:e})=>{e("CLEAR_ERROR_MSG")}},U={[V.M]:async(e,{title:t,msg:o,type:i,confirm:n,showCancelButton:a})=>{if(e.title=t,e.type=i,e.errors=[],e.confirmFunction=n,a&&(e.showCancelButton=a),"string"===typeof o||o instanceof String||"number"==typeof o)e.errors.push(o);else if(Array.isArray(o))for(const s of o)("string"===typeof s||s instanceof String||"number"==typeof s)&&e.errors.push(s);else e.errors.push("Có lỗi xảy ra khi xử lý thông tin, vui lòng thử lại hoặc liên hệ bộ phận hỗ trợ.")},[V.r]:e=>{e.errors=[],e.title=null,e.type=N.Z.MsgType.Info,e.showCancelButton=!1}};var M={state:T,getters:E,actions:O,mutations:U},z=o(5435);const A={isShow:!1},$={isShowLoading:e=>!!e.isShow},R={[z.P]:({commit:e})=>{e("SHOW_LOADING")},[z.U]:({commit:e})=>{e("HIDE_LOADING")}},W={[z.P]:e=>{e.isShow=!0},[z.U]:e=>{e.isShow=!1}};var L={state:A,getters:$,actions:R,mutations:W},F=o(1344);const Z={msg:null,type:N.Z.MsgType.Error},q={isShowToast:e=>!!e.msg,msgToast:e=>e.msg,msgToastType:e=>e.type},B={[F.rl]:({commit:e},{msg:t,type:o})=>{e("SET_TOAST",{msg:t,type:o})},[F._q]:({commit:e})=>{e("CLEAR_TOAST")}},H={[F.rl]:async(e,{msg:t,type:o})=>{e.type=o,e.msg=t},[F._q]:e=>{e.msg=null,e.type=N.Z.MsgType.Info}};var G={state:Z,getters:q,actions:B,mutations:H},J=o(7855),j=o(5471);const Y={hubConnection:null,newNotifications:0,isConnecting:!1,organizationInfo:{TotalMembers:0,TotalMoneys:0,Description:null,OrganizationName:null,Slogan:null,OrganizationId:null}},Q={newNotifications:e=>!!e.newNotifications,hubConnection:e=>e.hubConnection,connectingHub:e=>e.isConnecting,organizationInfo:e=>e.organizationInfo},K={[r.eJ]:({commit:e})=>{e("CREATE_CONNECTION")},[r.WZ]:({commit:e})=>{e("CONNECT_SIGNALR_HUB")},[r.fp]:({commit:e},{number:t})=>{e("SET_NEW_NOTICE_NUMBER",{number:t})},[r.Gz]:({commit:e})=>{e("CLEAR_NEW_NOTICE_NUMBER")},[r.rT]:({commit:e},t)=>{e("SET_CONNECTING_HUB",t)},[r.E]:({commit:e},t)=>{Y.hubConnection||t||e("CREATE_CONNECTION"),e("SET_NEW_HUB_CONNECTION",t)},[r.b3]:({commit:e},t)=>{e("DISCONECT_HUB",t)},[r.R8]:({commit:e})=>{e("UPDATE_NEW_HUB_SESSION")},[r.On]:({commit:e},t)=>{t?e("UPDATE_ORGANIZATION_INFO",t):(0,a.Z)({url:"accounts/organization-info",showToast:!1}).then((o=>{t=o,localStorage.setItem("organizationId",o.OrganizationId),e("UPDATE_ORGANIZATION_INFO",t)}))}},X={[r.eJ]:()=>{var e=J.Z.createHub();e.start().then((()=>{console.log("Đã kết nối tới Hub..."),j.Z.hideConnectingHub()})).catch((e=>{console.error(e),j.Z.hideConnectingHub()})),Y.hubConnection=e},[r.WZ]:()=>{},[r.E]:(e,t)=>{t&&(e.hubConnection=t)},INITIALIZATION_HUB:()=>{Y.hubConnection._methods["updateorganizationinfo".toLocaleLowerCase()]||Y.hubConnection.on("UpdateOrganizationInfo",(e=>{Y.organizationInfo=e,console.log("Đã lấy thông tin lớp",e)})),Y.hubConnection._methods["ReceiveNotificationWhenDisconnected".toLocaleLowerCase()]||Y.hubConnection.on("ReceiveNotificationWhenDisconnected",(e=>{console.log(`${e} đã ngắt kết nối!`)})),Y.hubConnection._methods["ShowAlertWhenOnline".toLocaleLowerCase()]||Y.hubConnection.on("ShowAlertWhenOnline",(e=>{console.log(`${e} đã kết nối!`)})),Y.hubConnection._methods["ShowPecentUpload".toLocaleLowerCase()]||Y.hubConnection.on("ShowPecentUpload",((e,t,o,i,n)=>{if(j.Z.hideLoading(),n={Id:n.id,Name:n.name,Value:e,Max:t,Message:`Đang tải lên ${e}/${t} ảnh.`},i>10){var a=(e/t*100).toFixed(2);n.RunBackground=!0,n.Message=`Đang tạo Album: ${a}%.`}j.Z.showProgress(n),o&&setTimeout((function(){j.Z.hideProgress()}),500)})),Y.hubConnection._methods["ShowPecentDeleted".toLocaleLowerCase()]||Y.hubConnection.on("ShowPecentDeleted",((e,t,o,i,n)=>{if(j.Z.hideLoading(),n={Id:n.id,Name:n.name,Value:e,Max:t,Message:`Đang xóa ${e}/${t} ảnh.`},i>10){var a=(e/t*100).toFixed(2);n.RunBackground=!0,n.Message=`Đang xóa Album: ${a}%.`}j.Z.showProgress(n),o&&setTimeout((function(){j.Z.hideProgress()}),500)}))},[r.fp]:async(e,{number:t})=>{e.newNotifications=t},[r.Gz]:e=>{e.newNotifications=0},[r.rT]:(e,t)=>{e.isConnecting=t},[r.b3]:e=>{console.log(e.hubConnection),console.log("DISCONECT_HUB"),e.hubConnection.stop()},[r.R8]:()=>{console.log("UPDATE_NEW_HUB_SESSION")},[r.On]:(e,t)=>{e.organizationInfo=t,document.title=`${t.OrganizationName} - ${t.Slogan}`}};var ee={state:Y,getters:Q,actions:K,mutations:X},te=o(4684);const oe={isShow:!1,processList:[]},ie={isShowProgressBar:e=>!!e.isShow,processList:e=>e.processList},ne={[te.x]:({commit:e},t)=>{e("SHOW_PROGRESS",t)},[te.M]:({commit:e})=>{e("HIDE_PROGRESS")}},ae={[te.x]:(e,t)=>{e.isShow=!0;var o=!1;for(const i of e.processList)if(i.Id==t.Id){i.Value=t.Value,i.Max=t.Max,i.RunBackground=t.RunBackground,i.Message=t.Message,o=!0;break}o||e.processList.push(t)},[te.M]:e=>{e.isShow=!1,e.processList=[]}};var se={state:oe,getters:ie,actions:ne,mutations:ae};const le=(0,i.MT)({state:{},mutations:{},actions:{},modules:{user:h,auth:w,error:S,notification:M,loading:L,toast:G,signalR:ee,progressbar:se}});var re=le},3007:function(e,t,o){o(7658),o(1703);var i=o(6265),n=o.n(i),a=o(5679),s=o(4928),l=o(4291),r=o(5471),c=o(9404);const d=({url:e,data:t,method:o,showToast:i,showMsg:d,callback:u})=>new Promise(((m,h)=>{try{n().defaults.baseURL="https://shopapi.manhhao.com/api/v1";var p=localStorage.getItem("user-token");p&&(n().defaults.headers.common.Authorization=`Bearer ${p}`),void 0==d&&(d=!0),r.Z.showLoading(),n()({method:o||"GET",url:e,data:t}).then((e=>{m(e.data),o&&"GET"!=o&&(void 0==i&&(i=!0),"/login"!=window.location.pathname&&i&&r.Z.showToast("Thành công!",c.Z.MsgType.Success)),u&&u(),r.Z.hideLoading()})).catch((e=>{try{if(e.response){var t=e.response.status;if(d&&0==t&&r.Z.showMessenger({title:"Lỗi kết nối",msg:"Không thể kết nối đến máy chủ, vui lòng thử lại sau",type:c.Z.MsgType.Error,confirm:u}),400==t){var o={userMsg:e.response.data.UserMsg,errors:e.response.data.errors,status:400};if(o.errors&&o.errors.ValidErrors)r.Z.showErrorMessenger("Dữ liệu không hợp lệ.",o.errors.ValidErrors,u);else{var i=o.errors,n=[];for(const e in i)if(Object.hasOwnProperty.call(i,e)){const t=i[e];if(t)for(const e of t)n.push(e)}r.Z.showErrorMessenger("Dữ liệu không hợp lệ.",n,u)}h(o)}else 500==t&&(e.devMsg=e.message,e.message=e.response.data.UserMsg,e.message=e.message||"Có lỗi phía máy chủ, vui lòng liên hệ Quản trị viên để được trợ giúp.",console.log(e),r.Z.showErrorMessenger("Lỗi máy chủ",e.message)),524==t&&(e.message=e.message||"Quá trình xử lý cần nhiều thời gian và sẽ sớm hoàn thành. Bạn có thể làm việc khác trong khi quá trình xử lý hoàn tất.",r.Z.showMessenger({title:"",msg:e.message,type:c.Z.MsgType.Info})),401==t&&(e.config.url.includes("/login")?(e.message="Tên tài khoản hoặc mật khẩu không đúng, vui lòng kiểm tra lại.",r.Z.showErrorMessenger("Sai thông tin đăng nhập",e.message)):(e.message="Phiên làm việc đã hết hạn, bạn cần đăng nhập để sử dụng tính năng này.",r.Z.showMessenger({title:"",msg:e.message,type:c.Z.MsgType.Info,confirm:function(){s.Z.dispatch(l.LQ).then((()=>{a.Z.push("/login")}))}}))),403==t&&(e.message=e.response?.data?.UserMsg,e.message||(e.message="Bạn bị giới hạn quyền truy cập tài nguyên, vui lòng liên hệ quản trị viên để được trợ giúp."),r.Z.showErrorMessenger("Yêu cầu bị từ chối.",e.message)),404==t&&(e.message="Hệ thống không tìm thấy dịch vụ cung cấp cho bạn, vui lòng quay lại sau hoặc liên hệ quản trị để được trợ giúp!",r.Z.showErrorMessenger("Lỗi dịch vụ",e.message))}else console.log(e),r.Z.showMessenger({title:"Lỗi",msg:"Không thể xử lý yêu cầu này, vui lòng liên hệ QTV để được trợ giúp.",type:c.Z.MsgType.Error,confirm:u});h(e.response),r.Z.hideLoading()}catch(i){console.log("error",i),h(e.response),r.Z.hideLoading()}}))}catch(g){h(new Error(g)),r.Z.hideLoading()}}));t["Z"]=d},86:function(e,t,o){o.d(t,{Z:function(){return g}});var i=o(3396),n=o(7139);const a=e=>((0,i.dD)("data-v-1e7c908b"),e=e(),(0,i.Cn)(),e),s={class:"products"},l={class:"toolbar__left"},r=a((()=>(0,i._)("div",{class:"toolbar__right"},null,-1))),c={class:"flex"},d={class:"unit-price"};function u(e,t,o,a,u,m){const h=(0,i.up)("m-input-search"),p=(0,i.up)("m-combobox"),g=(0,i.up)("el-table-column"),_=(0,i.up)("m-column"),f=(0,i.up)("el-tag"),v=(0,i.up)("m-table"),b=(0,i.up)("m-table-layout"),w=(0,i.up)("m-dialog");return(0,i.wg)(),(0,i.j4)(w,{title:"Chọn sản phẩm",onOnClose:t[4]||(t[4]=t=>e.$emit("onClose"))},{content:(0,i.w5)((()=>[(0,i._)("div",s,[(0,i.Wm)(b,null,{toolbar:(0,i.w5)((()=>[(0,i._)("div",l,[(0,i.Wm)(h,{width:"300px",modelValue:u.keySearch,"onUpdate:modelValue":t[0]||(t[0]=e=>u.keySearch=e),placeholder:"Tìm kiếm"},null,8,["modelValue"]),(0,i.Wm)(p,{url:"/groupproducts",propValue:"GroupProductId",propText:"GroupProductName",class:"mg-left-8",modelValue:u.groupProductId,"onUpdate:modelValue":t[1]||(t[1]=e=>u.groupProductId=e)},null,8,["modelValue"])]),r])),container:(0,i.w5)((()=>[(0,i.Wm)(v,{ref:"tbProducts",data:u.productFilters,fit:!0,size:"small","empty-text":"Không có dữ liệu",width:"100%",height:"100%",onSelectionChange:m.onSelectProductChange},{default:(0,i.w5)((()=>[(0,i.Wm)(g,{type:"selection",width:"55",fixed:"left"}),(0,i.Wm)(_,{prop:"ProductName",label:"SP/dịch vụ",fixed:"left",width:"130px"},{default:(0,i.w5)((e=>[(0,i._)("div",c,[(0,i._)("span",null,(0,n.zw)(e.row.ProductName),1)])])),_:1}),(0,i.Wm)(_,{prop:"Quantity",label:"Đang có",fixed:"right",align:"right"},{default:(0,i.w5)((e=>[(0,i.Uk)((0,n.zw)(e.row.Quantity),1)])),_:1}),(0,i.Wm)(_,{label:"Đơn giá",align:"right",fixed:"right",width:"100px"},{default:(0,i.w5)((t=>[(0,i._)("div",d,[(0,i.Wm)(f,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,n.zw)(e.commonJs.formatMoney(t.row.UnitPrice)),1)])),_:2},1024)])])),_:1})])),_:1},8,["data","onSelectionChange"])])),_:1})])])),footer:(0,i.w5)((()=>[(0,i._)("button",{class:"btn btn--close",onClick:t[2]||(t[2]=t=>e.$emit("onClose"))},"Hủy"),(0,i._)("button",{class:"btn btn--default mg-left-10",onClick:t[3]||(t[3]=(...e)=>m.onSaveSelectedProduct&&m.onSaveSelectedProduct(...e))}," Chọn ")])),_:1})}var m={name:"SelectProduct",emits:["getSelectionProducts","onClose"],props:[],created(){this.maxios.get("products/list-order").then((e=>{this.products=e,this.productFilters=this.products}))},methods:{onSaveSelectedProduct(){var e=this.$refs.tbProducts.getSelectionRows();this.$emit("getSelectionProducts",e),this.$emit("onClose")},onSelectProductChange(e){console.log("product",e)}},watch:{keySearch:function(e){this.productFilters=this.products.filter((t=>{var o=this.commonJs.change_alias(t.ProductName).toLowerCase(),i=this.commonJs.change_alias(e).toLowerCase();return o.includes(i)&&(!this.groupProductId||t.GroupProductId==this.groupProductId)}))},groupProductId:function(e){console.log(e),this.productFilters=this.products.filter((t=>{var o=this.commonJs.change_alias(t.ProductName).toLowerCase(),i=this.commonJs.change_alias(this.keySearch).toLowerCase();return o.includes(i)&&(!e||t.GroupProductId==e)}))}},data(){return{products:[],productFilters:[],keySearch:"",groupProductId:null}}},h=o(89);const p=(0,h.Z)(m,[["render",u],["__scopeId","data-v-1e7c908b"]]);var g=p},611:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAyklEQVQ4jZXQIU9CYRSHccYMjOAMZj8AMzqDiUAgGPwIJAKZ4BzF7JyBaHQkPobZaHAGRyCQiAR397NcxsuZ3Mv7j+ec5zlnp9HIDFqY4jaX3Qqe7fKSC3dRJIKvHPgUPwlcoJsjeLWfaQ7cD/A32sfCZ1iG02/iUAe9A4K3sP0pDlxjXZqHoXcX4E+0omARzhuV9XOskt4vrv47cRy2FBhhHuqPVY96UJ0PnNR9e3IA3uCyEq6RjI+CE8l9Ar+jmSUoJQPMcFE3+wdcEYpyTJRLnAAAAABJRU5ErkJggg=="},7944:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAIBJREFUWIXtk00KgCAYRCWrG1T3v1D0u45OUiMYuOhH+9Ag5sHsHOe5UClCCCHkmQLRL3radkWUyIr0SB3Qa5ARWZBcImBeMSCbvdBHwozPttMhmUTguHDylHDHzdlKOh4iEW3cRyL6+J1EsvEriaTjZxLJx10J883aL8YJIeQ/7D1JKtJ9wFIQAAAAAElFTkSuQmCC"}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var o=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(o.exports,o,o.exports,__webpack_require__),o.exports}__webpack_require__.m=__webpack_modules__,function(){var e=[];__webpack_require__.O=function(t,o,i,n){if(!o){var a=1/0;for(c=0;c<e.length;c++){o=e[c][0],i=e[c][1],n=e[c][2];for(var s=!0,l=0;l<o.length;l++)(!1&n||a>=n)&&Object.keys(__webpack_require__.O).every((function(e){return __webpack_require__.O[e](o[l])}))?o.splice(l--,1):(s=!1,n<a&&(a=n));if(s){e.splice(c--,1);var r=i();void 0!==r&&(t=r)}}return t}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[o,i,n]}}(),function(){__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return __webpack_require__.d(t,{a:t}),t}}(),function(){__webpack_require__.d=function(e,t){for(var o in t)__webpack_require__.o(t,o)&&!__webpack_require__.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){__webpack_require__.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){__webpack_require__.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={826:0};__webpack_require__.O.j=function(t){return 0===e[t]};var t=function(t,o){var i,n,a=o[0],s=o[1],l=o[2],r=0;if(a.some((function(t){return 0!==e[t]}))){for(i in s)__webpack_require__.o(s,i)&&(__webpack_require__.m[i]=s[i]);if(l)var c=l(__webpack_require__)}for(t&&t(o);r<a.length;r++)n=a[r],__webpack_require__.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return __webpack_require__.O(c)},o=self["webpackChunkthaisalon"]=self["webpackChunkthaisalon"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var __webpack_exports__=__webpack_require__.O(void 0,[998],(function(){return __webpack_require__(1596)}));__webpack_exports__=__webpack_require__.O(__webpack_exports__)})();
//# sourceMappingURL=index.24385108.js.map